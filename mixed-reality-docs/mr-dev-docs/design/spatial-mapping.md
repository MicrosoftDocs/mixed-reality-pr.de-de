---
title: Räumliche Abbildung
description: Die räumliche Zuordnung bietet eine detaillierte Darstellung von realen Oberflächen in der Umgebung um holoLens.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: Räumliche Zuordnung, HoloLens, Mixed Reality, Oberflächenrekonstruktion, Mesh, Mixed Reality-Headset, Windows Mixed Reality-Headset, Virtual Reality-Headset, HoloLens, MRTK, Mixed Reality Toolkit, Szenenverständnis, Weltgitternetz, Verdeckung, Physik, Navigation, Oberflächenbeoker, Rendering, Meshverarbeitung
ms.openlocfilehash: 3268f25f86cdfea3aa1ae0b77c4fbeb9aa0ce1b9
ms.sourcegitcommit: 8f141a843bcfc57e1b18cc606292186b8ac72641
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/19/2021
ms.locfileid: "110196425"
---
# <a name="spatial-mapping"></a><span data-ttu-id="a448c-104">Räumliche Abbildung</span><span class="sxs-lookup"><span data-stu-id="a448c-104">Spatial mapping</span></span>

<span data-ttu-id="a448c-105">Die räumliche Zuordnung bietet eine detaillierte Darstellung von realen Oberflächen in der Umgebung um holoLens, sodass Entwickler eine überzeugende Mixed Reality-Erfahrung erstellen können.</span><span class="sxs-lookup"><span data-stu-id="a448c-105">Spatial mapping provides a detailed representation of real-world surfaces in the environment around the HoloLens, allowing developers to create a convincing mixed reality experience.</span></span> <span data-ttu-id="a448c-106">Durch das Zusammenführen der realen Welt mit der virtuellen Welt kann eine Anwendung Hologramme real erscheinen lassen.</span><span class="sxs-lookup"><span data-stu-id="a448c-106">By merging the real world with the virtual world, an application can make holograms seem real.</span></span> <span data-ttu-id="a448c-107">Anwendungen können auch auf natürlichere Weise mit den Erwartungen der Benutzer übereinstimmen, indem sie vertrautes Verhalten und Interaktionen in der realen Welt bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="a448c-107">Applications can also more naturally align with user expectations by providing familiar real-world behaviors and interactions.</span></span>

<br>

>[!VIDEO https://www.youtube.com/embed/zff2aQ1RaVo]

## <a name="device-supports"></a><span data-ttu-id="a448c-108">Geräteunterstützung</span><span class="sxs-lookup"><span data-stu-id="a448c-108">Device supports</span></span>

<table>
    <colgroup>
    <col width="25%" />
    <col width="25%" />
    <col width="25%" />
    <col width="25%" />
    </colgroup>
    <tr>
        <td><span data-ttu-id="a448c-109"><strong>Feature</strong></span><span class="sxs-lookup"><span data-stu-id="a448c-109"><strong>Feature</strong></span></span></td>
        <td><span data-ttu-id="a448c-110"><a href="/hololens/hololens1-hardware"><strong>HoloLens (1. Generation)</strong></a></span><span class="sxs-lookup"><span data-stu-id="a448c-110"><a href="/hololens/hololens1-hardware"><strong>HoloLens (1st gen)</strong></a></span></span></td>
        <td><span data-ttu-id="a448c-111"><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></span><span class="sxs-lookup"><span data-stu-id="a448c-111"><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></span></span></td>
        <td><span data-ttu-id="a448c-112"><a href="../discover/immersive-headset-hardware-details.md"><strong>Immersive Headsets</strong></a></span><span class="sxs-lookup"><span data-stu-id="a448c-112"><a href="../discover/immersive-headset-hardware-details.md"><strong>Immersive headsets</strong></a></span></span></td>
    </tr>
     <tr>
        <td><span data-ttu-id="a448c-113">Räumliche Abbildung</span><span class="sxs-lookup"><span data-stu-id="a448c-113">Spatial mapping</span></span></td>
        <td><span data-ttu-id="a448c-114">✔️</span><span class="sxs-lookup"><span data-stu-id="a448c-114">✔️</span></span></td>
        <td><span data-ttu-id="a448c-115">✔️</span><span class="sxs-lookup"><span data-stu-id="a448c-115">✔️</span></span></td>
        <td>❌</td>
    </tr>
</table>


## <a name="why-is-spatial-mapping-important"></a><span data-ttu-id="a448c-116">Warum ist räumliche Zuordnung wichtig?</span><span class="sxs-lookup"><span data-stu-id="a448c-116">Why is spatial mapping important?</span></span>

<span data-ttu-id="a448c-117">Räumliche Zuordnung macht es möglich, Objekte auf realen Oberflächen zu platzieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-117">Spatial mapping makes it possible to place objects on real surfaces.</span></span> <span data-ttu-id="a448c-118">Dies hilft, Objekte in der Welt des Benutzers zu verankern, und nutzt echte Tiefenhinweise. Das Verdecken Ihrer Hologramme basierend auf anderen Hologrammen und Objekten aus der realen Welt hilft dem Benutzer zu überzeugen, dass sich diese Hologramme tatsächlich in ihrem Raum befinden.</span><span class="sxs-lookup"><span data-stu-id="a448c-118">This helps anchor objects in the user's world and takes advantage of real world depth cues. Occluding your holograms based on other holograms and real world objects helps convince the user that these holograms are actually in their space.</span></span> <span data-ttu-id="a448c-119">Hologramme, die im Raum gleiten oder sich mit dem Benutzer bewegen, werden sich nicht so real anfühlen.</span><span class="sxs-lookup"><span data-stu-id="a448c-119">Holograms floating in space or moving with the user won't feel as real.</span></span> <span data-ttu-id="a448c-120">Platzieren Sie nach Möglichkeit Elemente aus Komfortgründen.</span><span class="sxs-lookup"><span data-stu-id="a448c-120">When possible, place items for comfort.</span></span>

<span data-ttu-id="a448c-121">Visualisieren von Oberflächen beim Platzieren oder Verschieben von Hologrammen (verwenden Sie ein projiziertes Raster).</span><span class="sxs-lookup"><span data-stu-id="a448c-121">Visualize surfaces when placing or moving holograms (use a projected grid).</span></span> <span data-ttu-id="a448c-122">Dies hilft Benutzern zu wissen, wo sie ihre Hologramme am besten platzieren können, und zeigt, ob die Stelle, an der sie das Hologramm platzieren möchten, nicht zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="a448c-122">This helps users know where they can best place their holograms, and shows if the spot they're trying to place the hologram isn't mapped.</span></span> <span data-ttu-id="a448c-123">Sie können dem Benutzer "Elemente zuwenden", wenn sie zu weit in einem Winkel landen.</span><span class="sxs-lookup"><span data-stu-id="a448c-123">You can "billboard items" toward the user if they end up at too much of an angle.</span></span>

## <a name="conceptual-overview"></a><span data-ttu-id="a448c-124">Konzeptionelle Übersicht</span><span class="sxs-lookup"><span data-stu-id="a448c-124">Conceptual overview</span></span>

<span data-ttu-id="a448c-125">![Gitteroberflächen, die einen Raum abdecken](images/SurfaceReconstruction.jpg)</span><span class="sxs-lookup"><span data-stu-id="a448c-125">![Mesh surfaces covering a room](images/SurfaceReconstruction.jpg)</span></span><br>
<span data-ttu-id="a448c-126">*Ein Beispiel für ein Raumzuordnungsgitter, das einen Raum abdeckt*</span><span class="sxs-lookup"><span data-stu-id="a448c-126">*An example of a spatial mapping mesh covering a room*</span></span>

<span data-ttu-id="a448c-127">Die beiden primären Objekttypen, die für die räumliche Zuordnung verwendet werden, sind "Spatial Surface Observer" und "Spatial Surface".</span><span class="sxs-lookup"><span data-stu-id="a448c-127">The two primary object types used for spatial mapping are the 'Spatial Surface Observer' and the 'Spatial Surface'.</span></span>

<span data-ttu-id="a448c-128">Die Anwendung stellt dem Spatial Surface Observer ein oder mehrere begrenzungsvolumes zur Verfügung, um die Bereiche des Raums zu definieren, in denen die Anwendung räumliche Zuordnungsdaten empfangen möchte.</span><span class="sxs-lookup"><span data-stu-id="a448c-128">The application provides the Spatial Surface Observer with one or more bounding volumes, to define the regions of space in which the application wishes to receive spatial mapping data.</span></span> <span data-ttu-id="a448c-129">Für jedes dieser Volumes stellt die räumliche Zuordnung der Anwendung einen Satz räumlicher Oberflächen zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="a448c-129">For each of these volumes, spatial mapping will provide the application with a set of Spatial Surfaces.</span></span>

<span data-ttu-id="a448c-130">Diese Volumes können fest (an einem festen Ort basierend auf der realen Welt) oder an die HoloLens angefügt sein (sie bewegen sich mit der HoloLens, während sie sich durch die Umgebung bewegen, aber nicht drehen).</span><span class="sxs-lookup"><span data-stu-id="a448c-130">These volumes may be stationary (in a fixed location based on the real world) or they may be attached to the HoloLens (they move, but don't rotate, with the HoloLens as it moves through the environment).</span></span> <span data-ttu-id="a448c-131">Jede räumliche Oberfläche beschreibt reale Oberflächen in einem kleinen Raumvolumen, dargestellt als Dreiecksgitternetz, das an ein weltgesperrte räumliches [Koordinatensystem angefügt ist.](coordinate-systems.md)</span><span class="sxs-lookup"><span data-stu-id="a448c-131">Each spatial surface describes real-world surfaces in a small volume of space, represented as a triangle mesh attached to a world-locked [spatial coordinate system](coordinate-systems.md).</span></span>

<span data-ttu-id="a448c-132">Wenn HoloLens neue Daten über die Umgebung sammelt und Änderungen an der Umgebung auftreten, werden räumliche Oberflächen angezeigt, verschwinden und ändern sich.</span><span class="sxs-lookup"><span data-stu-id="a448c-132">As the HoloLens gathers new data about the environment, and as changes to the environment occur, spatial surfaces will appear, disappear, and change.</span></span>

## <a name="spatial-awareness-design-concepts-demo"></a><span data-ttu-id="a448c-133">Demo zu Entwurfskonzepten für räumliche Wahrnehmung</span><span class="sxs-lookup"><span data-stu-id="a448c-133">Spatial Awareness design concepts demo</span></span>

<span data-ttu-id="a448c-134">Wenn Sie räumliche Wahrnehmungsentwurfskonzepte in Aktion sehen möchten, sehen Sie sich unsere Videodemo **Designing Holograms - Spatial Awareness** (Entwerfen von Hologrammen – räumliche Wahrnehmung) weiter unten an.</span><span class="sxs-lookup"><span data-stu-id="a448c-134">If you'd like to see Spatial Awareness design concepts in action, check out our **Designing Holograms - Spatial Awareness** video demo below.</span></span> <span data-ttu-id="a448c-135">Wenn Sie fertig sind, fahren Sie fort, um ausführlichere Informationen zu bestimmten Themen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="a448c-135">When you've finished, continue on for a more detailed dive into specific topics.</span></span>

> [!VIDEO https://channel9.msdn.com/Shows/Docs-Mixed-Reality/Microsofts-Designing-Holograms-Spatial-Awareness-Chapter/player]

<span data-ttu-id="a448c-136">*Dieses Video wurde aus der App "Entwerfen von Hologrammen" HoloLens 2 aufgenommen. Laden Sie hier herunter, und profitieren Sie [von der vollständigen Erfahrung.](https://aka.ms/dhapp)*</span><span class="sxs-lookup"><span data-stu-id="a448c-136">*This video was taken from the "Designing Holograms" HoloLens 2 app. Download and enjoy the full experience [here](https://aka.ms/dhapp).*</span></span>

## <a name="spatial-mapping-vs-scene-understanding-worldmesh"></a><span data-ttu-id="a448c-137">Räumliche Zuordnung im Vergleich zu Scene Understanding WorldMesh</span><span class="sxs-lookup"><span data-stu-id="a448c-137">Spatial Mapping vs. Scene Understanding WorldMesh</span></span>

<span data-ttu-id="a448c-138">Für HoloLens 2 ist es möglich, eine statische Version der räumlichen Zuordnungsdaten mithilfe des [Scene Understanding SDK](../develop/platform-capabilities-and-apis/scene-understanding-SDK.md) (EnableWorldMesh-Einstellung) abfragt.</span><span class="sxs-lookup"><span data-stu-id="a448c-138">For HoloLens 2, it's possible to query a static version of the spatial mapping data using [Scene understanding SDK](../develop/platform-capabilities-and-apis/scene-understanding-SDK.md) (EnableWorldMesh setting).</span></span> <span data-ttu-id="a448c-139">Hier sind die Unterschiede zwischen zwei Möglichkeiten für den Zugriff auf die räumlichen Zuordnungsdaten:</span><span class="sxs-lookup"><span data-stu-id="a448c-139">Here are the differences between two ways of accessing the spatial mapping data:</span></span>
* <span data-ttu-id="a448c-140">SPATIAL MAPPING-API:</span><span class="sxs-lookup"><span data-stu-id="a448c-140">Spatial Mapping API:</span></span>
   * <span data-ttu-id="a448c-141">Begrenzter Bereich: Die räumlichen Zuordnungsdaten, die Anwendungen in einer begrenzten Größe zur Verfügung stehen, die "Blase" um den Benutzer herum zwischengespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-141">Limited range: the spatial mapping data available to applications in a limited size cached 'bubble' around the user.</span></span>
   * <span data-ttu-id="a448c-142">Bietet Updates für geänderte Gitternetzregionen mit geringer Latenz über SurfacesChanged-Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="a448c-142">Provides low latency updates of changed mesh regions through SurfacesChanged events.</span></span>
   * <span data-ttu-id="a448c-143">Variable Detailebene, die durch den Parameter Dreiecke pro kubischer Verbrauchsmessung gesteuert wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-143">Variable level of details controlled by Triangles Per Cubic Meter parameter.</span></span>
* <span data-ttu-id="a448c-144">Scene understanding SDK:</span><span class="sxs-lookup"><span data-stu-id="a448c-144">Scene understanding SDK:</span></span>
   * <span data-ttu-id="a448c-145">Unbegrenzter Bereich: Stellt alle gescannten räumlichen Zuordnungsdaten innerhalb des Abfrageradius zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="a448c-145">Unlimited range - provides all the scanned spatial mapping data within the query radius.</span></span>
   * <span data-ttu-id="a448c-146">Stellt eine statische Momentaufnahme der räumlichen Zuordnungsdaten zur</span><span class="sxs-lookup"><span data-stu-id="a448c-146">Provides a static snapshot of the spatial mapping data.</span></span> <span data-ttu-id="a448c-147">Zum Abrufen der aktualisierten Räumlichen Zuordnungsdaten muss eine neue Abfrage für das gesamte Gitternetz ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-147">Getting the updated spatial mapping data requires running a new query for the whole mesh.</span></span>
   * <span data-ttu-id="a448c-148">Konsistente Detailebene, die von der RequestedMeshLevelOfDetail-Einstellung gesteuert wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-148">Consistent level of details controlled by RequestedMeshLevelOfDetail setting.</span></span>

## <a name="what-influences-spatial-mapping-quality"></a><span data-ttu-id="a448c-149">Was wirkt sich auf die Qualität der räumlichen Zuordnung aus?</span><span class="sxs-lookup"><span data-stu-id="a448c-149">What influences spatial mapping quality?</span></span>

<span data-ttu-id="a448c-150">Die Häufigkeit und der Schweregrad dieser Fehler können sich auf mehrere Faktoren auswirken, die [hier](/hololens/hololens-environment-considerations)ausführlich beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-150">Several factors, detailed [here](/hololens/hololens-environment-considerations), can affect the frequency and severity of these errors.</span></span>  <span data-ttu-id="a448c-151">Sie sollten Ihre Anwendung jedoch so entwerfen, dass der Benutzer seine Ziele auch bei Fehlern in den Räumlichen Zuordnungsdaten erreichen kann.</span><span class="sxs-lookup"><span data-stu-id="a448c-151">However, you should design your application so that the user can achieve their goals even in the presence of errors in the spatial mapping data.</span></span>

## <a name="common-usage-scenarios"></a><span data-ttu-id="a448c-152">Allgemeine Verwendungsszenarios</span><span class="sxs-lookup"><span data-stu-id="a448c-152">Common usage scenarios</span></span>

![Abbildungen allgemeiner Verwendungsszenarien für räumliche Zuordnungen: Platzierung, Verdeckung, Physik und Navigation](images/sm-concepts-1000px.png)

### <a name="placement"></a><span data-ttu-id="a448c-154">Platzierung</span><span class="sxs-lookup"><span data-stu-id="a448c-154">Placement</span></span>

<span data-ttu-id="a448c-155">Die räumliche Zuordnung bietet Anwendungen die Möglichkeit, dem Benutzer natürliche und vertraute Interaktionsformen zu präsentieren. was kann natürlicher sein, als ihr Telefon auf dem Tisch abzulegen?</span><span class="sxs-lookup"><span data-stu-id="a448c-155">Spatial mapping provides applications with the opportunity to present natural and familiar forms of interaction to the user; what could be more natural than placing down your phone on the desk?</span></span>

<span data-ttu-id="a448c-156">Das Einschränken der Platzierung von Hologrammen (oder allgemeiner gesagt jede Auswahl räumlicher Positionen), die auf Oberflächen liegt, ermöglicht eine natürliche Zuordnung von 3D (Punkt im Raum) zu 2D (Punkt auf der Oberfläche).</span><span class="sxs-lookup"><span data-stu-id="a448c-156">Constraining the placement of holograms (or more generally, any selection of spatial locations) to lie on surfaces provides a natural mapping from 3D (point in space) to 2D (point on surface).</span></span> <span data-ttu-id="a448c-157">Dadurch wird die Menge der Informationen reduziert, die der Benutzer für die Anwendung bereitstellen muss, und die Interaktionen des Benutzers werden schneller, einfacher und präziser.</span><span class="sxs-lookup"><span data-stu-id="a448c-157">This reduces the amount of information the user needs to provide to the application and makes the user's interactions faster, easier, and more precise.</span></span> <span data-ttu-id="a448c-158">Dies ist richtig, da "Distance Away" nicht für die physische Kommunikation mit anderen Personen oder Computern verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-158">This is true because 'distance away' isn't something that we're used to physically communicating to other people or to computers.</span></span> <span data-ttu-id="a448c-159">Wenn wir mit dem Finger zeigen, geben wir eine Richtung, aber keinen Abstand an.</span><span class="sxs-lookup"><span data-stu-id="a448c-159">When we point with our finger, we're specifying a direction but not a distance.</span></span>

<span data-ttu-id="a448c-160">Ein wichtiger Nachteil hierbei ist, dass, wenn eine Anwendung Abstand von der Richtung hergeleitet (z. B. durch einen Raycast entlang der Anviertrichtung des Benutzers, um die nächstgelegene räumliche Oberfläche zu finden), ergebnisse liefern muss, die der Benutzer zuverlässig vorhersagen kann.</span><span class="sxs-lookup"><span data-stu-id="a448c-160">An important caveat here's that when an application infers distance from direction (for example by doing a raycast along the user's gaze direction to find the nearest spatial surface), this must yield results that the user can reliably predict.</span></span> <span data-ttu-id="a448c-161">Andernfalls verliert der Benutzer sein Gefühl der Kontrolle, und dies kann schnell frustrierend werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-161">Otherwise, the user will lose their sense of control and this can quickly become frustrating.</span></span> <span data-ttu-id="a448c-162">Eine Methode, die dabei hilft, besteht darin, mehrere Raycasts statt nur eines zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="a448c-162">One method that helps with this is to do multiple raycasts instead of just one.</span></span> <span data-ttu-id="a448c-163">Die Aggregatergebnisse sollten reibungsloser und besser vorhersagbar sein und weniger anfällig für die Einflussnahme durch vorübergehende "Ausreißerergebnisse" sein (dies kann durch Lichtstrahl verursacht werden, der kleine Löcher durchläuft oder kleine Teile der Geometrie erreicht, die dem Benutzer nicht bekannt sind).</span><span class="sxs-lookup"><span data-stu-id="a448c-163">The aggregate results should be smoother and more predictable, less susceptible to influence from transient 'outlier' results (as can be caused by rays passing through tiny holes or hitting small bits of geometry that the user isn't aware of).</span></span> <span data-ttu-id="a448c-164">Aggregation oder Glättung kann auch im Laufe der Zeit ausgeführt werden. Beispielsweise können Sie die maximale Geschwindigkeit begrenzen, mit der ein Hologramm in der Entfernung zum Benutzer variieren kann.</span><span class="sxs-lookup"><span data-stu-id="a448c-164">Aggregation or smoothing can also be performed over time; for example, you can limit the maximum speed at which a hologram can vary in distance from the user.</span></span> <span data-ttu-id="a448c-165">Es kann auch helfen, einfach den minimalen und maximalen Abstandswert zu beschränken, damit das hologramm, das bewegt wird, nicht plötzlich in die Entfernung stürzt oder wieder in das Gesicht des Benutzers stürzt.</span><span class="sxs-lookup"><span data-stu-id="a448c-165">Simply limiting the minimum and maximum distance value can also help, so the hologram being moved doesn't suddenly fly away into the distance or come crashing back into the user's face.</span></span>

<span data-ttu-id="a448c-166">Anwendungen können auch die Form und Richtung von Oberflächen verwenden, um die Hologrammplatzierung zu leiten.</span><span class="sxs-lookup"><span data-stu-id="a448c-166">Applications can also use the shape and direction of surfaces to guide hologram placement.</span></span> <span data-ttu-id="a448c-167">Ein holografischer Sessel sollte nicht durch Dieben schweben und mit dem Boden leeren, auch wenn er etwas ungleichmäßig ist.</span><span class="sxs-lookup"><span data-stu-id="a448c-167">A holographic chair shouldn't penetrate through walls and should sit flush with the floor even if it's slightly uneven.</span></span> <span data-ttu-id="a448c-168">Diese Art von Funktionalität würde wahrscheinlich von der Verwendung von physikalischen Kollisionen anstelle von Raycasts abhängig sein, es gelten jedoch ähnliche Bedenken.</span><span class="sxs-lookup"><span data-stu-id="a448c-168">This kind of functionality would likely rely upon the use of physics collisions rather than raycasts, however similar concerns will apply.</span></span> <span data-ttu-id="a448c-169">Wenn das platzierte Hologramm über viele kleine Polygone verfügt, die sich wie die Brille auf einem Sessel herausdrücken, kann es sinnvoll sein, die physikalische Darstellung dieser Polygone auf einen breiteren und reibungsloseren Bereich zu erweitern, damit sie besser über räumliche Oberflächen gleiten können, ohne zu versnieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-169">If the hologram being placed has many small polygons that stick out, like the legs on a chair, it may make sense to expand the physics representation of those polygons to something wider and smoother so that they're more able to slide over spatial surfaces without snagging.</span></span>

<span data-ttu-id="a448c-170">Im Extremfall können Benutzereingaben vollständig vereinfacht werden, und räumliche Oberflächen können für eine vollständig automatische Hologrammplatzierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-170">At its extreme, user input can be simplified away entirely and spatial surfaces can be used to do entirely automatic hologram placement.</span></span> <span data-ttu-id="a448c-171">Beispielsweise könnte die Anwendung einen holografischen Lichtschalter an einer anderen Stelle an der Wand platzieren, damit der Benutzer drücken kann.</span><span class="sxs-lookup"><span data-stu-id="a448c-171">For example, the application could place a holographic light-switch somewhere on the wall for the user to press.</span></span> <span data-ttu-id="a448c-172">Der gleiche Nachteil bei der Vorhersagbarkeit gilt hier doppelt. Wenn der Benutzer die Kontrolle über die Hologrammplatzierung erwartet, die Anwendung hologramme jedoch nicht immer dort abstelle, wo sie es erwarten (wenn der Lichtschalter an einer Stelle angezeigt wird, die der Benutzer nicht erreichen kann), ist dies eine frustrierende Erfahrung.</span><span class="sxs-lookup"><span data-stu-id="a448c-172">The same caveat about predictability applies doubly here; if the user expects control over hologram placement, but the application doesn't always place holograms where they expect (if the light-switch appears somewhere that the user can't reach), then this will be a frustrating experience.</span></span> <span data-ttu-id="a448c-173">Es kann eigentlich schlechter sein, eine automatische Platzierung vorzunehmen, die die Benutzerkorrektur einen Teil der Zeit erfordert, als nur zu erfordern, dass der Benutzer die Platzierung immer selbst vornehmen muss. da eine erfolgreiche automatische Platzierung *erwartet wird,* wirkt die manuelle Korrektur wie eine Belastung!</span><span class="sxs-lookup"><span data-stu-id="a448c-173">It can actually be worse to do automatic placement that requires user correction some of the time, than to just require the user to always do placement themselves; because successful automatic placement is *expected*, manual correction feels like a burden!</span></span>

<span data-ttu-id="a448c-174">Beachten Sie auch, dass die Fähigkeit einer Anwendung, räumliche Oberflächen für die Platzierung zu verwenden, stark von der Scanoberfläche der [Anwendung abhängt.](spatial-mapping.md#the-environment-scanning-experience)</span><span class="sxs-lookup"><span data-stu-id="a448c-174">Note also that the ability of an application to use spatial surfaces for placement depends heavily on the application's [scanning experience](spatial-mapping.md#the-environment-scanning-experience).</span></span> <span data-ttu-id="a448c-175">Wenn eine Oberfläche nicht gescannt wurde, kann sie nicht für die Platzierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-175">If a surface hasn't been scanned, then it cannot be used for placement.</span></span> <span data-ttu-id="a448c-176">Die Anwendung muss dies dem Benutzer klar machen, damit er entweder neue Oberflächen scannen oder einen neuen Speicherort auswählen kann.</span><span class="sxs-lookup"><span data-stu-id="a448c-176">It's up to the application to make this clear to the user, so that they can either help scan new surfaces or select a new location.</span></span>

<span data-ttu-id="a448c-177">Visuelles Feedback an den Benutzer ist während der Platzierung von größter Bedeutung.</span><span class="sxs-lookup"><span data-stu-id="a448c-177">Visual feedback to the user is of paramount importance during placement.</span></span> <span data-ttu-id="a448c-178">Der Benutzer muss wissen, wo das Hologramm auf der nächsten Oberfläche mit [Erdungseffekten](spatial-mapping.md#visualization)basiert.</span><span class="sxs-lookup"><span data-stu-id="a448c-178">The user needs to know where the hologram is based on the nearest surface with [grounding effects](spatial-mapping.md#visualization).</span></span> <span data-ttu-id="a448c-179">Sie sollten verstehen, warum die Bewegung ihres Hologramms eingeschränkt wird (z. B. aufgrund von Kollisionen mit einer anderen Oberfläche in der Nähe).</span><span class="sxs-lookup"><span data-stu-id="a448c-179">They should understand why the movement of their hologram is being constrained (for example, because of collisions with another nearby surface).</span></span> <span data-ttu-id="a448c-180">Wenn sie kein Hologramm an der aktuellen Position platzieren können, sollte visuelles Feedback deutlich machen, warum nicht.</span><span class="sxs-lookup"><span data-stu-id="a448c-180">If they can't place a hologram in the current location, then visual feedback should make it clear why not.</span></span> <span data-ttu-id="a448c-181">Wenn der Benutzer z. B. versucht, eine holografische Couch in der Mitte an der Wand zu platzieren, sollten die Teile der Couch, die sich hinter der Wand befinden, in einer farbigen Farbe pulsieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-181">For example, if the user is trying to place a holographic couch stuck half-way into the wall, then the portions of the couch that are behind the wall should pulsate in an angry color.</span></span> <span data-ttu-id="a448c-182">Oder umgekehrt: Wenn die Anwendung keine räumliche Oberfläche an einem Ort finden kann, an dem der Benutzer eine reale Oberfläche sehen kann, sollte die Anwendung dies deutlich machen.</span><span class="sxs-lookup"><span data-stu-id="a448c-182">Or conversely, if the application can't find a spatial surface in a location where the user can see a real-world surface, then the application should make this clear.</span></span> <span data-ttu-id="a448c-183">Das offensichtliche Fehlen eines grounding-Effekts in diesem Bereich kann diesen Zweck erreichen.</span><span class="sxs-lookup"><span data-stu-id="a448c-183">The obvious absence of a grounding effect in this area may achieve this purpose.</span></span>

### <a name="occlusion"></a><span data-ttu-id="a448c-184">Okklusion</span><span class="sxs-lookup"><span data-stu-id="a448c-184">Occlusion</span></span>

<span data-ttu-id="a448c-185">Eine der Hauptverwendungen räumlicher Zuordnungsoberflächen ist einfach das Verdecken von Hologrammen.</span><span class="sxs-lookup"><span data-stu-id="a448c-185">One of the primary uses of spatial mapping surfaces is simply to occlude holograms.</span></span> <span data-ttu-id="a448c-186">Dieses einfache Verhalten hat einen großen Einfluss auf die wahrgenommene Realität von Hologrammen und trägt dazu bei, ein viszerales Gefühl zu schaffen, das tatsächlich den gleichen physischen Raum wie der Benutzer verliert.</span><span class="sxs-lookup"><span data-stu-id="a448c-186">This simple behavior has a huge impact on the perceived realism of holograms, helping to create a visceral sense that really inhabits the same physical space as the user.</span></span>

<span data-ttu-id="a448c-187">Occlusion stellt dem Benutzer auch Informationen bereit. Wenn ein Hologramm von einer realen Oberfläche verdeckt zu sein scheint, bietet dies zusätzliches visuelles Feedback zur räumlichen Position dieses Hologramms in der Welt.</span><span class="sxs-lookup"><span data-stu-id="a448c-187">Occlusion also provides information to the user; when a hologram appears to be occluded by a real-world surface, this provides extra visual feedback as to the spatial location of that hologram in the world.</span></span> <span data-ttu-id="a448c-188">Umgekehrt kann die Verdeckung auch hilfreiche Informationen für den Benutzer *ausblenden.* Das Verdecken von Hologrammen hinter Wänden kann die visuelle Übersicht auf intuitive Weise reduzieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-188">Conversely, occlusion can also usefully *hide* information from the user; occluding holograms behind walls can reduce visual clutter in an intuitive way.</span></span> <span data-ttu-id="a448c-189">Um ein Hologramm auszublenden oder anzuzeigen, muss der Benutzer lediglich den Kopf bewegen.</span><span class="sxs-lookup"><span data-stu-id="a448c-189">To hide or reveal a hologram, the user merely has to move their head.</span></span>

<span data-ttu-id="a448c-190">Occlusion kann auch verwendet werden, um die Erwartungen an eine natürliche Benutzeroberfläche basierend auf vertrauten physischen Interaktionen zu erfüllen. Wenn ein Hologramm von einer Oberfläche verdeckt wird, liegt dies daran, dass diese Oberfläche voll ist. Daher sollte der Benutzer erwarten, dass das Hologramm mit dieser Oberfläche *kollidiert* und nicht durch sie geleitet wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-190">Occlusion can also be used to prime expectations for a natural user interface based upon familiar physical interactions; if a hologram is occluded by a surface it is because that surface is solid, so the user should expect that the hologram will *collide* with that surface and not pass through it.</span></span>

<span data-ttu-id="a448c-191">Manchmal ist die Verdeckung von Hologrammen unerwünscht.</span><span class="sxs-lookup"><span data-stu-id="a448c-191">Sometimes, occlusion of holograms is undesirable.</span></span> <span data-ttu-id="a448c-192">Wenn ein Benutzer mit einem Hologramm interagieren muss, muss er es sehen , auch wenn es sich hinter einer realen Oberfläche befindet.</span><span class="sxs-lookup"><span data-stu-id="a448c-192">If a user needs to interact with a hologram, then they need to see it - even if it is behind a real-world surface.</span></span> <span data-ttu-id="a448c-193">In solchen Fällen ist es in der Regel sinnvoll, ein solches Hologramm anders zu rendern, wenn es verblendet ist (z. B. durch Verringern der Helligkeit).</span><span class="sxs-lookup"><span data-stu-id="a448c-193">In such cases, it usually makes sense to render such a hologram differently when it's occluded (for example, by reducing its brightness).</span></span> <span data-ttu-id="a448c-194">Auf diese Weise kann der Benutzer das Hologramm visuell finden, aber er weiß immer noch, dass es sich hinter etwas befindet.</span><span class="sxs-lookup"><span data-stu-id="a448c-194">This way, the user can visually locate the hologram, but they'll still know it's behind something.</span></span>

### <a name="physics"></a><span data-ttu-id="a448c-195">Physische Effekte</span><span class="sxs-lookup"><span data-stu-id="a448c-195">Physics</span></span>

<span data-ttu-id="a448c-196">Die Verwendung der physikalischen Simulation ist eine weitere Möglichkeit, mit der die räumliche Zuordnung verwendet werden kann, um das Vorhandensein von Hologrammen im physischen Raum des Benutzers zu verstärken. </span><span class="sxs-lookup"><span data-stu-id="a448c-196">The use of physics simulation is another way in which spatial mapping can be used to reinforce the *presence* of holograms in the user's physical space.</span></span> <span data-ttu-id="a448c-197">Wenn meine Hologrammkugel realistisch vom Tisch rollt, über den Boden springt und unter der Couch verschwindet, kann es für mich schwierig sein zu glauben, dass sie nicht dort ist.</span><span class="sxs-lookup"><span data-stu-id="a448c-197">When my holographic rubber ball rolls realistically off my desk, bounces across the floor and disappears under the couch, it might be hard for me to believe that it's not there.</span></span>

<span data-ttu-id="a448c-198">Die Physikalische Simulation bietet einer Anwendung auch die Möglichkeit, natürliche und vertraute physikalische Interaktionen zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="a448c-198">Physics simulation also provides the opportunity for an application to use natural and familiar physics-based interactions.</span></span> <span data-ttu-id="a448c-199">Das Verschieben eines Hologramms auf dem Boden ist für den Benutzer wahrscheinlich einfacher, wenn die Trägheit und Diebe so reagieren, als würde sie mit der entsprechenden Trägheit und Spannung über den Boden gleiten.</span><span class="sxs-lookup"><span data-stu-id="a448c-199">Moving a piece of holographic furniture around on the floor will likely be easier for the user if the furniture responds as if it were sliding across the floor with the appropriate inertia and friction.</span></span>

<span data-ttu-id="a448c-200">Um realistisches physisches Verhalten zu generieren, [](spatial-mapping.md#mesh-processing) müssen Sie wahrscheinlich einige Gitternetzverarbeitungen wie das Auffüllen von Lücken, das Entfernen von unverankerten Halluzinationen und das Glätten von rauen Oberflächen unternehmen.</span><span class="sxs-lookup"><span data-stu-id="a448c-200">To generate realistic physical behaviors, you'll likely need to do some [mesh processing](spatial-mapping.md#mesh-processing) such as filling holes, removing floating hallucinations and smoothing rough surfaces.</span></span>

<span data-ttu-id="a448c-201">Sie müssen auch berücksichtigen, wie sich die Scanerfahrung Ihrer Anwendung [auf](spatial-mapping.md#the-environment-scanning-experience) die physikalische Simulation ausdringt.</span><span class="sxs-lookup"><span data-stu-id="a448c-201">You'll also need to consider how your application's [scanning experience](spatial-mapping.md#the-environment-scanning-experience) influences its physics simulation.</span></span> <span data-ttu-id="a448c-202">Erstens: Fehlende Oberflächen können nicht mit anderen Oberflächen kollidieren. was geschieht, wenn die Würfel vom Würfel abrollt und am Ende der bekannten Welt abrollt?</span><span class="sxs-lookup"><span data-stu-id="a448c-202">Firstly, missing surfaces won't collide with anything; what happens when the rubber ball rolls off down the corridor and off the end of the known world?</span></span> <span data-ttu-id="a448c-203">Zweitens müssen Sie entscheiden, ob Sie im Laufe der Zeit weiterhin auf Änderungen in der Umgebung reagieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-203">Secondly, you need to decide whether you'll continue to respond to changes in the environment over time.</span></span> <span data-ttu-id="a448c-204">In einigen Fällen sollten Sie so schnell wie möglich reagieren. z. B. wenn der Benutzer Türen und Türen als verschiebbare Schieberkaden verwendet, um sich vor einer Verlockung eingehender pfeilförmiger Pfeile zu härten.</span><span class="sxs-lookup"><span data-stu-id="a448c-204">In some cases, you'll want to respond as quickly as possible; say if the user is using doors and furniture as movable barricades in defense against a tempest of incoming Roman arrows.</span></span> <span data-ttu-id="a448c-205">In anderen Fällen sollten Sie jedoch neue Updates ignorieren. Wenn Ihr Hund sich in der Mitte der Spur befindet, kann es plötzlich nicht so viel Spaß machen, wenn Sie Ihren holografischen Sportwagen auf der Laufstrecke umfahren.</span><span class="sxs-lookup"><span data-stu-id="a448c-205">In other cases though, you may want to ignore new updates; driving your holographic sports car around the racetrack on your floor may suddenly not be so fun if your dog decides to sit in the middle of the track.</span></span>

### <a name="navigation"></a><span data-ttu-id="a448c-206">Navigation</span><span class="sxs-lookup"><span data-stu-id="a448c-206">Navigation</span></span>

<span data-ttu-id="a448c-207">Anwendungen können räumliche Zuordnungsdaten verwenden, um holografischen Zeichen (oder Agents) die Möglichkeit zu geben, in der realen Welt auf die gleiche Weise wie eine echte Person zu navigieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-207">Applications can use spatial mapping data to grant holographic characters (or agents) the ability to navigate the real world in the same way a real person would.</span></span> <span data-ttu-id="a448c-208">Dies kann dazu beitragen, das Vorhandensein holografischer Zeichen zu verstärken, indem sie auf die gleichen natürlichen, vertrauten Verhaltensweisen wie die des Benutzers und seiner Freunde beschränkt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-208">This can help reinforce the presence of holographic characters by restricting them to the same set of natural, familiar behaviors as those of the user and their friends.</span></span>

<span data-ttu-id="a448c-209">Navigationsfunktionen können auch für Benutzer nützlich sein.</span><span class="sxs-lookup"><span data-stu-id="a448c-209">Navigation capabilities could be useful to users as well.</span></span> <span data-ttu-id="a448c-210">Sobald eine Navigationskarte in einem bestimmten Bereich erstellt wurde, kann sie freigegeben werden, um holografische Anweisungen für neue Benutzer bereitzustellen, die mit diesem Standort nicht vertraut sind.</span><span class="sxs-lookup"><span data-stu-id="a448c-210">Once a navigation map has been built in a given area, it could be shared to provide holographic directions for new users unfamiliar with that location.</span></span> <span data-ttu-id="a448c-211">Diese Karte könnte so entworfen werden, dass der "Verkehrsfluss" in der Stadt reibungslos bleibt oder dass es an gefährlichen Orten wie Baustellen zu Einem Unfahren kommt.</span><span class="sxs-lookup"><span data-stu-id="a448c-211">This map could be designed to help keep pedestrian 'traffic' flowing smoothly, or to avoid accidents in dangerous locations like construction sites.</span></span>

<span data-ttu-id="a448c-212">Die wichtigsten technischen Herausforderungen bei der Implementierung von Navigationsfunktionen sind die zuverlässige Erkennung von begehbaren Oberflächen (Menschen gehen nicht auf Tabellen!) und eine gute Anpassung an Änderungen in der Umgebung (Menschen durchlaufen keine geschlossenen Türen!).</span><span class="sxs-lookup"><span data-stu-id="a448c-212">The key technical challenges involved in implementing navigation functionality will be reliable detection of walkable surfaces (humans don't walk on tables!) and graceful adaptation to changes in the environment (humans don't walk through closed doors!).</span></span> <span data-ttu-id="a448c-213">Das Gitternetz erfordert möglicherweise eine [Verarbeitung,](spatial-mapping.md#mesh-processing) bevor es für die Pfadplanung und Navigation durch ein virtuelles Zeichen verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="a448c-213">The mesh may require some [processing](spatial-mapping.md#mesh-processing) before it's usable for path-planning and navigation by a virtual character.</span></span> <span data-ttu-id="a448c-214">Das Glätten des Gitternetzes und das Entfernen von Halluzinationen können dazu beitragen, zu vermeiden, dass Zeichen hängen bleiben.</span><span class="sxs-lookup"><span data-stu-id="a448c-214">Smoothing the mesh and removing hallucinations may help avoid characters becoming stuck.</span></span> <span data-ttu-id="a448c-215">Möglicherweise möchten Sie auch das Gitternetz drastisch vereinfachen, um die Pfadplanungs- und Navigationsberechnungen Ihres Zeichens zu beschleunigen.</span><span class="sxs-lookup"><span data-stu-id="a448c-215">You may also wish to drastically simplify the mesh to speed up your character's path-planning and navigation calculations.</span></span> <span data-ttu-id="a448c-216">Diese Herausforderungen haben bei der Entwicklung der Spieletechnologie große Aufmerksamkeit erhalten, und es gibt eine Vielzahl von verfügbaren Forschungsinhalten zu diesen Themen.</span><span class="sxs-lookup"><span data-stu-id="a448c-216">These challenges have received a great deal of attention in the development of video game technology, and there's a wealth of available research literature on these topics.</span></span>

<span data-ttu-id="a448c-217">Die integrierte NavMesh-Funktionalität in Unity kann nicht mit räumlichen Zuordnungsoberflächen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-217">The built-in NavMesh functionality in Unity cannot be used with spatial mapping surfaces.</span></span> <span data-ttu-id="a448c-218">Dies liegt daran, dass räumliche Zuordnungsoberflächen erst bekannt sind, wenn die Anwendung gestartet wird, navmesh-Datendateien jedoch im Voraus aus Quellressourcen generiert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="a448c-218">This is because spatial mapping surfaces aren't known until the application starts, but NavMesh data files need to be generated from source assets ahead of time.</span></span> <span data-ttu-id="a448c-219">Beachten Sie außerdem, dass das Räumliche Zuordnungssystem keine [Informationen zu Oberflächen](spatial-mapping.md#the-environment-scanning-experience) bereitstellt, die weit vom aktuellen Standort des Benutzers entfernt sind.</span><span class="sxs-lookup"><span data-stu-id="a448c-219">Also note that, the spatial mapping system won't provide [information about surfaces far away](spatial-mapping.md#the-environment-scanning-experience) from the user's current location.</span></span> <span data-ttu-id="a448c-220">Daher muss sich die Anwendung oberflächen selbst "merken", wenn sie eine Karte eines großen Bereichs erstellen soll.</span><span class="sxs-lookup"><span data-stu-id="a448c-220">So the application must 'remember' surfaces itself if it's to build a map of a large area.</span></span>

### <a name="visualization"></a><span data-ttu-id="a448c-221">Visualisierung</span><span class="sxs-lookup"><span data-stu-id="a448c-221">Visualization</span></span>

<span data-ttu-id="a448c-222">In den meisten Jahren ist es für räumliche Oberflächen geeignet, unsichtbar zu sein. , um die visuelle Übersichtlichkeit zu minimieren und die reale Welt für sich selbst sprechen zu lassen.</span><span class="sxs-lookup"><span data-stu-id="a448c-222">Most of the time it's appropriate for spatial surfaces to be invisible; to minimize visual clutter and let the real world speak for itself.</span></span> <span data-ttu-id="a448c-223">Manchmal ist es jedoch hilfreich, Oberflächen der räumlichen Abbildung direkt zu visualisieren, obwohl ihre realen Entsprechungen sichtbar sind.</span><span class="sxs-lookup"><span data-stu-id="a448c-223">However, sometimes it's useful to visualize spatial mapping surfaces directly, despite their real-world counterparts being visible.</span></span>

<span data-ttu-id="a448c-224">Wenn der Benutzer beispielsweise versucht, ein Hologramm auf einer Oberfläche zu platzieren (z. B. ein holografisches Schränk an der Wand zu platzieren), kann es hilfreich sein, das Hologramm zu "erdigen", indem er einen Schatten auf die Oberfläche wirft.</span><span class="sxs-lookup"><span data-stu-id="a448c-224">For example, when the user is trying to place a hologram onto a surface (placing a holographic cabinet on the wall, say) it can be useful to 'ground' the hologram by casting a shadow onto the surface.</span></span> <span data-ttu-id="a448c-225">Dies gibt dem Benutzer ein viel deutlicheres Gefühl für die genaue physische Nähe zwischen hologramm und Oberfläche.</span><span class="sxs-lookup"><span data-stu-id="a448c-225">This gives the user a much clearer sense of the exact physical proximity between the hologram and the surface.</span></span> <span data-ttu-id="a448c-226">Dies ist auch ein Beispiel für die allgemeinere Vorgehensweise, eine Änderung visuell zu "in der Vorschau anzuzeigen", bevor der Benutzer ein Commit für diese änderungsbegeht.</span><span class="sxs-lookup"><span data-stu-id="a448c-226">This is also an example of the more general practice of visually 'previewing' a change before the user commits to it.</span></span>

<span data-ttu-id="a448c-227">Durch visualisieren von Oberflächen kann die Anwendung dem Benutzer sein Verständnis der Umgebung teilen.</span><span class="sxs-lookup"><span data-stu-id="a448c-227">By visualizing surfaces, the application can share with the user its understanding of the environment.</span></span> <span data-ttu-id="a448c-228">Beispielsweise könnte ein holografisches Boardspiel die horizontalen Oberflächen visualisieren, die es als "Tabellen" identifiziert hat, damit der Benutzer weiß, wo er interagieren soll.</span><span class="sxs-lookup"><span data-stu-id="a448c-228">For example, a holographic board game could visualize the horizontal surfaces that it has identified as 'tables', so the user knows where they should go to interact.</span></span>

<span data-ttu-id="a448c-229">Das Visualisieren von Oberflächen kann eine nützliche Möglichkeit sein, um den Benutzer in der Nähe von Räumen zu zeigen, die nicht angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-229">Visualizing surfaces can be a useful way to show the user nearby spaces that are hidden from view.</span></span> <span data-ttu-id="a448c-230">Dies könnte eine Möglichkeit bieten, dem Benutzer Zugriff auf seine Zimmer (und alle darin enthaltenen Hologramme) aus seinem Zimmer zu geben.</span><span class="sxs-lookup"><span data-stu-id="a448c-230">This could provide a way to give the user access to their kitchen (and all of its contained holograms) from their living room.</span></span>

<span data-ttu-id="a448c-231">Die von der räumlichen Zuordnung bereitgestellten Oberflächengitternetze sind möglicherweise nicht besonders "sauber".</span><span class="sxs-lookup"><span data-stu-id="a448c-231">The surface meshes provided by spatial mapping may not be particularly 'clean'.</span></span> <span data-ttu-id="a448c-232">Es ist wichtig, sie entsprechend zu visualisieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-232">It's important to visualize them appropriately.</span></span> <span data-ttu-id="a448c-233">Herkömmliche Beleuchtungsberechnungen können Fehler in oberflächennormlen Oberflächen auf visuell ablenkende Weise hervorheben, während "saubere" Texturen, die auf die Oberfläche projiziert werden, dazu beitragen können, ihr ein saubereres Aussehen zu verleihen.</span><span class="sxs-lookup"><span data-stu-id="a448c-233">Traditional lighting calculations may highlight errors in surface normals in a visually distracting manner, while 'clean' textures projected onto the surface may help to give it a tidier appearance.</span></span> <span data-ttu-id="a448c-234">Es ist auch möglich, die [Gitternetzverarbeitung zur](spatial-mapping.md#mesh-processing) Verbesserung der Gitternetzeigenschaften vor dem Rendern der Oberflächen zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="a448c-234">It's also possible to do [mesh processing](spatial-mapping.md#mesh-processing) to improve mesh properties, before the surfaces are rendered.</span></span>

> [!NOTE]
> <span data-ttu-id="a448c-235">HoloLens 2 implementiert eine neue [Scene Understanding Runtime,](scene-understanding.md)die Mixed Reality-Entwicklern eine strukturierte, grundlegende Umgebungsdarstellung bietet, die die Implementierung von Platzierung, Okklusion, Physik und Navigation vereinfacht.</span><span class="sxs-lookup"><span data-stu-id="a448c-235">HoloLens 2 implements a new [Scene Understanding Runtime](scene-understanding.md), that provides Mixed Reality developers with a structured, high-level environment representation designed to simplify the implementation of placement, occlusion, physics and navigation.</span></span>

## <a name="using-the-surface-observer"></a><span data-ttu-id="a448c-236">Verwenden des Surface Observer</span><span class="sxs-lookup"><span data-stu-id="a448c-236">Using The Surface Observer</span></span>

<span data-ttu-id="a448c-237">Der Ausgangspunkt für die räumliche Zuordnung ist der Oberflächenbeobachter.</span><span class="sxs-lookup"><span data-stu-id="a448c-237">The starting point for spatial mapping is the surface observer.</span></span> <span data-ttu-id="a448c-238">Der Programmablauf lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="a448c-238">Program flow is as follows:</span></span>
* <span data-ttu-id="a448c-239">Erstellen eines Surface Observer-Objekts</span><span class="sxs-lookup"><span data-stu-id="a448c-239">Create a surface observer object</span></span>
   * <span data-ttu-id="a448c-240">Geben Sie ein oder mehrere räumliche Volumes an, um die bereiche zu definieren, in denen die Anwendung räumliche Zuordnungsdaten empfangen möchte.</span><span class="sxs-lookup"><span data-stu-id="a448c-240">Provide one or more spatial volumes, to define the regions of interest in which the application wishes to receive spatial mapping data.</span></span> <span data-ttu-id="a448c-241">Ein räumliches Volume ist einfach eine Form, die einen Raumbereich definiert, z. B. eine Kugel oder ein Feld.</span><span class="sxs-lookup"><span data-stu-id="a448c-241">A spatial volume is simply a shape defining a region of space, such as a sphere or a box.</span></span>
   * <span data-ttu-id="a448c-242">Verwenden Sie ein räumliches Volume mit einem weltweit gesperrten räumlichen Koordinatensystem, um einen festen Bereich der physischen Welt zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-242">Use a spatial volume with a world-locked spatial coordinate system to identify a fixed region of the physical world.</span></span>
   * <span data-ttu-id="a448c-243">Verwenden Sie ein räumliches Volume, das jeden Frame mit einem körpergesperrten räumlichen Koordinatensystem aktualisiert, um einen Raumbereich zu identifizieren, der sich mit dem Benutzer bewegt (aber nicht rotiert).</span><span class="sxs-lookup"><span data-stu-id="a448c-243">Use a spatial volume, updated each frame with a body-locked spatial coordinate system, to identify a region of space that moves (but doesn't rotate) with the user.</span></span>
   * <span data-ttu-id="a448c-244">Diese räumlichen Volumes können zu einem späteren Zeitpunkt geändert werden, wenn sich der Status der Anwendung oder des Benutzers ändert.</span><span class="sxs-lookup"><span data-stu-id="a448c-244">These spatial volumes may be changed later at any time, as the status of the application or the user changes.</span></span>
* <span data-ttu-id="a448c-245">Abrufen von Informationen zu räumlichen Oberflächen mithilfe von Abrufen oder Benachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a448c-245">Use polling or notification to retrieve information about spatial surfaces</span></span>
   * <span data-ttu-id="a448c-246">Sie können den Oberflächenbeodrucker jederzeit auf den Status der räumlichen Oberfläche "abfragen".</span><span class="sxs-lookup"><span data-stu-id="a448c-246">You may 'poll' the surface observer for spatial surface status at any time.</span></span> <span data-ttu-id="a448c-247">Stattdessen können Sie sich für das Surface Observer-Ereignis "surfaces changed" registrieren, das die Anwendung benachrichtigt, wenn sich räumliche Oberflächen geändert haben.</span><span class="sxs-lookup"><span data-stu-id="a448c-247">Instead, you may register for the surface observer's 'surfaces changed' event, which will notify the application when spatial surfaces have changed.</span></span>
   * <span data-ttu-id="a448c-248">Für ein dynamisches räumliches Volume, z. B. das Sicht-Frustum oder ein durch Text gesperrtes Volume, müssen Anwendungen Änderungen für jeden Frame abfragen, indem sie den bereich von Interesse festlegen und dann den aktuellen Satz räumlicher Oberflächen abrufen.</span><span class="sxs-lookup"><span data-stu-id="a448c-248">For a dynamic spatial volume, such as the view frustum, or a body-locked volume, applications will need to poll for changes each frame by setting the region of interest and then obtaining the current set of spatial surfaces.</span></span>
   * <span data-ttu-id="a448c-249">Bei einem statischen Volume, z. B. einem weltweit gesperrten Würfel, der einen einzelnen Raum abdeckt, können Sich Anwendungen für das Ereignis "Oberflächen geändert" registrieren, um benachrichtigt zu werden, wenn sich räumliche Oberflächen innerhalb dieses Volumes geändert haben können.</span><span class="sxs-lookup"><span data-stu-id="a448c-249">For a static volume, such as a world-locked cube covering a single room, applications may register for the 'surfaces changed' event to be notified when spatial surfaces inside that volume may have changed.</span></span>
* <span data-ttu-id="a448c-250">Änderungen an Prozessoberflächen</span><span class="sxs-lookup"><span data-stu-id="a448c-250">Process surfaces changes</span></span>
   * <span data-ttu-id="a448c-251">Iterieren Sie den bereitgestellten Satz räumlicher Oberflächen.</span><span class="sxs-lookup"><span data-stu-id="a448c-251">Iterate the provided set of spatial surfaces.</span></span>
   * <span data-ttu-id="a448c-252">Klassifizieren Sie räumliche Oberflächen als hinzugefügt, geändert oder entfernt.</span><span class="sxs-lookup"><span data-stu-id="a448c-252">Classify spatial surfaces as added, changed, or removed.</span></span>
   * <span data-ttu-id="a448c-253">Übermitteln Sie für jede hinzugefügte oder geänderte räumliche Oberfläche ggf. eine asynchrone Anforderung, um ein aktualisiertes Gitternetz zu empfangen, das den aktuellen Zustand der Oberfläche auf der gewünschten Detailebene darstellt.</span><span class="sxs-lookup"><span data-stu-id="a448c-253">For each added or changed spatial surface, if appropriate submit an asynchronous request to receive updated mesh representing the surface's current state at the desired level of detail.</span></span>
* <span data-ttu-id="a448c-254">Verarbeiten Sie die asynchrone Meshanforderung (weitere Details in den folgenden Abschnitten).</span><span class="sxs-lookup"><span data-stu-id="a448c-254">Process the asynchronous mesh request (more details in following sections).</span></span>

## <a name="mesh-caching"></a><span data-ttu-id="a448c-255">Meshzwischenspeicherung</span><span class="sxs-lookup"><span data-stu-id="a448c-255">Mesh Caching</span></span>

<span data-ttu-id="a448c-256">Räumliche Oberflächen werden durch dichte Dreiecksgitternetze dargestellt.</span><span class="sxs-lookup"><span data-stu-id="a448c-256">Spatial surfaces are represented by dense triangle meshes.</span></span> <span data-ttu-id="a448c-257">Das Speichern, Rendern und Verarbeiten dieser Gitternetze kann erhebliche Rechen- und Speicherressourcen beanspruchen.</span><span class="sxs-lookup"><span data-stu-id="a448c-257">Storing, rendering, and processing these meshes can consume significant computational and storage resources.</span></span> <span data-ttu-id="a448c-258">Daher sollte jede Anwendung ein Gitternetz-Cachingschema übernehmen, das ihren Anforderungen entspricht, um die Ressourcen zu minimieren, die für die Meshverarbeitung und -speicherung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-258">As such, each application should adopt a mesh caching scheme appropriate to its needs, to minimize the resources used for mesh processing and storage.</span></span> <span data-ttu-id="a448c-259">Dieses Schema sollte bestimmen, welche Gitternetze behalten und welche verworfen werden sollen und wann das Gitternetz für jede räumliche Oberfläche aktualisiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="a448c-259">This scheme should determine which meshes to keep and which to discard, and when to update the mesh for each spatial surface.</span></span>

<span data-ttu-id="a448c-260">Viele der hier erläuterten Überlegungen informieren direkt darüber, wie Ihre Anwendung sich dem Zwischenspeichern von Netzen nähern sollte.</span><span class="sxs-lookup"><span data-stu-id="a448c-260">Many of the considerations discussed there will directly inform how your application should approach mesh caching.</span></span> <span data-ttu-id="a448c-261">Sie sollten berücksichtigen, wie sich der Benutzer durch die Umgebung bewegt, welche Oberflächen benötigt werden, wann verschiedene Oberflächen beobachtet werden und wann Änderungen in der Umgebung erfasst werden sollen.</span><span class="sxs-lookup"><span data-stu-id="a448c-261">You should consider how the user moves through the environment, which surfaces are needed, when different surfaces will be observed and when changes in the environment should be captured.</span></span>

<span data-ttu-id="a448c-262">Beim Interpretieren des vom Oberflächenbeobachter bereitgestellten Ereignisses "Oberflächen geändert" lautet die grundlegende Logik für das Zwischenspeichern von Gittern wie folgt:</span><span class="sxs-lookup"><span data-stu-id="a448c-262">When interpreting the 'surfaces changed' event provided by the surface observer, the basic mesh caching logic is as follows:</span></span>
* <span data-ttu-id="a448c-263">Wenn die Anwendung eine räumliche Oberflächen-ID sieht, die sie noch nicht gesehen hat, sollte sie diese als neue räumliche Oberfläche behandeln.</span><span class="sxs-lookup"><span data-stu-id="a448c-263">If the application sees a spatial surface ID that it hasn't seen before, it should treat this as a new spatial surface.</span></span>
* <span data-ttu-id="a448c-264">Wenn die Anwendung eine räumliche Oberfläche mit einer bekannten ID, aber mit einer neuen Aktualisierungszeit sieht, sollte sie diese als aktualisierte räumliche Oberfläche behandeln.</span><span class="sxs-lookup"><span data-stu-id="a448c-264">If the application sees a spatial surface with a known ID but with a new update time, it should treat this as an updated spatial surface.</span></span>
* <span data-ttu-id="a448c-265">Wenn die Anwendung keine räumliche Oberfläche mit einer bekannten ID mehr erkennt, sollte sie diese als entfernte räumliche Oberfläche behandeln.</span><span class="sxs-lookup"><span data-stu-id="a448c-265">If the application no longer sees a spatial surface with a known ID, it should treat this as a removed spatial surface.</span></span>

<span data-ttu-id="a448c-266">Jede Anwendung muss dann die folgenden Optionen treffen:</span><span class="sxs-lookup"><span data-stu-id="a448c-266">It's up to each application to then make the following choices:</span></span>
* <span data-ttu-id="a448c-267">Sollte für neue räumliche Oberflächen ein Gitternetz angefordert werden?</span><span class="sxs-lookup"><span data-stu-id="a448c-267">For new spatial surfaces, should mesh be requested?</span></span>
   * <span data-ttu-id="a448c-268">Im Allgemeinen sollte mesh sofort für neue räumliche Oberflächen angefordert werden, die dem Benutzer nützliche neue Informationen liefern können.</span><span class="sxs-lookup"><span data-stu-id="a448c-268">Generally mesh should be requested immediately for new spatial surfaces, which may provide useful new information to the user.</span></span>
   * <span data-ttu-id="a448c-269">Neue räumliche Oberflächen in der Nähe und vor dem Benutzer sollten jedoch Priorität erhalten, und ihr Gitternetz sollte zuerst angefordert werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-269">However, new spatial surfaces near and in front of the user should be given priority and their mesh should be requested first.</span></span>
   * <span data-ttu-id="a448c-270">Wenn das neue Gittermodell nicht benötigt wird, z. B. wenn die Anwendung ihr Umgebungsmodell dauerhaft oder vorübergehend "eingefroren" hat, sollte es nicht angefordert werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-270">If the new mesh isn't needed, if for example the application has permanently or temporarily 'frozen' its model of the environment, then it shouldn't be requested.</span></span>
* <span data-ttu-id="a448c-271">Sollte für aktualisierte räumliche Oberflächen ein Gitternetz angefordert werden?</span><span class="sxs-lookup"><span data-stu-id="a448c-271">For updated spatial surfaces, should mesh be requested?</span></span>
   * <span data-ttu-id="a448c-272">Aktualisierte räumliche Oberflächen in der Nähe und vor dem Benutzer sollten Priorität erhalten, und ihr Gitternetz sollte zuerst angefordert werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-272">Updated spatial surfaces near and in front of the user should be given priority and their mesh should be requested first.</span></span>
   * <span data-ttu-id="a448c-273">Es kann auch sinnvoll sein, neuen Oberflächen eine höhere Priorität zu geben als aktualisierten Oberflächen, insbesondere während der Überprüfung.</span><span class="sxs-lookup"><span data-stu-id="a448c-273">It may also be appropriate to give higher priority to new surfaces than to updated surfaces, especially during the scanning experience.</span></span>
   * <span data-ttu-id="a448c-274">Um die Verarbeitungskosten zu begrenzen, möchten Anwendungen möglicherweise die Rate drosseln, mit der sie Aktualisierungen an räumlichen Oberflächen verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a448c-274">To limit processing costs, applications may wish to throttle the rate at which they process updates to spatial surfaces.</span></span>
   * <span data-ttu-id="a448c-275">Möglicherweise kann abgeleitet werden, dass Änderungen an einer räumlichen Oberfläche geringfügig sind, z. B. wenn die Begrenzungen der Oberfläche klein sind. In diesem Fall ist die Aktualisierung möglicherweise nicht wichtig genug, um sie zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a448c-275">It may be possible to infer that changes to a spatial surface are minor, for example if the bounds of the surface are small, in which case the update may not be important enough to process.</span></span>
   * <span data-ttu-id="a448c-276">Aktualisierungen räumlicher Oberflächen außerhalb des aktuellen Bereichs, der für den Benutzer von Interesse ist, können vollständig ignoriert werden. In diesem Fall kann es jedoch effizienter sein, die räumlichen Begrenzungsvolumen zu ändern, die vom Oberflächenbeoachter verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-276">Updates to spatial surfaces outside the current region of interest of the user may be ignored entirely, though in this case it may be more efficient to modify the spatial bounding volumes in use by the surface observer.</span></span>
* <span data-ttu-id="a448c-277">Sollte das Gitternetz für entfernte räumliche Oberflächen verworfen werden?</span><span class="sxs-lookup"><span data-stu-id="a448c-277">For removed spatial surfaces, should mesh be discarded?</span></span>
   * <span data-ttu-id="a448c-278">Im Allgemeinen sollte das Gitternetz für entfernte räumliche Oberflächen sofort verworfen werden, damit die Hologrammverdeckung korrekt bleibt.</span><span class="sxs-lookup"><span data-stu-id="a448c-278">Generally mesh should be discarded immediately for removed spatial surfaces, so that hologram occlusion remains correct.</span></span>
   * <span data-ttu-id="a448c-279">Wenn die Anwendung jedoch Grund zu der Annahme hat, dass eine räumliche Oberfläche in Kürze wieder angezeigt wird (basierend auf dem Entwurf der Benutzeroberfläche), ist es möglicherweise effizienter, sie beizubehalten, als das Gitternetz zu verwerfen und später erneut zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a448c-279">However, if the application has reason to believe that a spatial surface will reappear shortly (based upon the design of the user experience), then it may be more efficient to keep it than to discard its mesh and recreate it again later.</span></span>
   * <span data-ttu-id="a448c-280">Wenn die Anwendung ein umfangreiches Modell der Umgebung des Benutzers aufbaut, möchte sie möglicherweise überhaupt keine Gittermodelle verwerfen.</span><span class="sxs-lookup"><span data-stu-id="a448c-280">If the application is building a large-scale model of the user's environment, then it may not wish to discard any meshes at all.</span></span> <span data-ttu-id="a448c-281">Die Ressourcennutzung muss jedoch weiterhin eingeschränkt werden, möglicherweise durch Daspoolen von Gitternetzen auf den Datenträger, wenn räumliche Oberflächen verschwinden.</span><span class="sxs-lookup"><span data-stu-id="a448c-281">It will still need to limit resource usage though, possibly by spooling meshes to disk as spatial surfaces disappear.</span></span>
   * <span data-ttu-id="a448c-282">Einige relativ seltene Ereignisse während der Generierung räumlicher Oberflächen können dazu führen, dass räumliche Oberflächen durch neue räumliche Oberflächen an einem ähnlichen Ort, aber mit unterschiedlichen IDs ersetzt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-282">Some relatively rare events during spatial surface generation can cause spatial surfaces to be replaced by new spatial surfaces in a similar location but with different IDs.</span></span> <span data-ttu-id="a448c-283">Daher sollten Anwendungen, die sich gegen das Verwerfen einer entfernten Oberfläche entscheiden, darauf achten, nicht mit mehreren stark überlappenden Gitternetzen für räumliche Oberflächen zu enden, die denselben Ort abdecken.</span><span class="sxs-lookup"><span data-stu-id="a448c-283">So, applications that choose not to discard a removed surface should take care not to end up with multiple highly overlapped spatial surfaces meshes covering the same location.</span></span>
* <span data-ttu-id="a448c-284">Sollte das Gitternetz für andere räumliche Oberflächen verworfen werden?</span><span class="sxs-lookup"><span data-stu-id="a448c-284">Should mesh be discarded for any other spatial surfaces?</span></span>
   * <span data-ttu-id="a448c-285">Auch wenn eine räumliche Oberfläche vorhanden ist, sollte sie verworfen werden, wenn sie für die Benutzerfreundlichkeit nicht mehr nützlich ist.</span><span class="sxs-lookup"><span data-stu-id="a448c-285">Even while a spatial surface exists, if it's no longer useful to the user's experience then it should be discarded.</span></span> <span data-ttu-id="a448c-286">Wenn die Anwendung beispielsweise den Raum auf der anderen Seite eines Türbereichs durch einen alternativen virtuellen Raum "ersetzt", spielen die räumlichen Oberflächen in diesem Raum keine Rolle mehr.</span><span class="sxs-lookup"><span data-stu-id="a448c-286">For example, if the application 'replaces' the room on the other side of a doorway with an alternate virtual space then the spatial surfaces in that room no longer matter.</span></span>

<span data-ttu-id="a448c-287">Hier ist ein Beispiel für eine Strategie für die Meshzwischenspeicherung mit räumlicher und temporaler Hysterese:</span><span class="sxs-lookup"><span data-stu-id="a448c-287">Here's an example mesh caching strategy, using spatial and temporal hysteresis:</span></span>
* <span data-ttu-id="a448c-288">Stellen Sie sich eine Anwendung vor, die ein frustumförmiges räumliches Volumen verwenden möchte, das dem Anvitieren des Benutzers folgt, während er sich umschaut und durch die Umgebung geht.</span><span class="sxs-lookup"><span data-stu-id="a448c-288">Consider an application that wishes to use a frustum-shaped spatial volume of interest that follows the user's gaze as they look around and walk around.</span></span>
* <span data-ttu-id="a448c-289">Eine räumliche Oberfläche verschwindet möglicherweise vorübergehend von diesem Volume, einfach weil der Benutzer von der Oberfläche wegsieht oder weiter davon entfernt ist... nur, um einen Moment später zurück- oder näher zu kommen.</span><span class="sxs-lookup"><span data-stu-id="a448c-289">A spatial surface may disappear temporarily from this volume simply because the user looks away from the surface or steps further away from it... only to look back or moves closer again a moment later.</span></span> <span data-ttu-id="a448c-290">In diesem Fall stellt das Verwerfen und erneute Erstellen des Gitters für diese Oberfläche viele redundante Verarbeitungen dar.</span><span class="sxs-lookup"><span data-stu-id="a448c-290">In this case, discarding and re-creating the mesh for this surface represents many redundant processings.</span></span>
* <span data-ttu-id="a448c-291">Um die Anzahl der verarbeiteten Änderungen zu reduzieren, verwendet die Anwendung zwei Raumoberflächenbeobachter, die in der anderen enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="a448c-291">To reduce the number of changes processed, the application uses two spatial surface observers, one contained within the other.</span></span> <span data-ttu-id="a448c-292">Das größere Volume ist pherisch und folgt dem Benutzer "lazily". Er wird nur bei Bedarf bewegt, um sicherzustellen, dass sich sein Mittelpunkt innerhalb von 2,0 Metern vom Benutzer entfernt befindet.</span><span class="sxs-lookup"><span data-stu-id="a448c-292">The larger volume is spherical and follows the user 'lazily'; it only moves when necessary to ensure that its center is within 2.0 meters of the user.</span></span>
* <span data-ttu-id="a448c-293">Neue und aktualisierte Gitternetze für räumliche Oberflächen werden immer vom kleineren Inneren Oberflächenbeobachter verarbeitet, aber Gitternetze werden zwischengespeichert, bis sie vom größeren Äußeren Oberflächenbeobachter verschwinden.</span><span class="sxs-lookup"><span data-stu-id="a448c-293">New and updated spatial surface meshes are always processed from the smaller inner surface observer, but meshes are cached until they disappear from the larger outer surface observer.</span></span> <span data-ttu-id="a448c-294">Dadurch kann die Anwendung viele redundante Änderungen aufgrund von lokalen Benutzerbewegungen vermeiden.</span><span class="sxs-lookup"><span data-stu-id="a448c-294">This allows the application to avoid processing many redundant changes because of local user movement.</span></span>
* <span data-ttu-id="a448c-295">Da eine räumliche Oberfläche auch vorübergehend aufgrund von Nachverfolgungsverlusten verschwindet, wird das Verwerfen entfernter räumlicher Oberflächen während des Nachverfolgungsverlusts ebenfalls zurückgenommen.</span><span class="sxs-lookup"><span data-stu-id="a448c-295">Since a spatial surface may also disappear temporarily because of tracking loss, the application also defers discarding removed spatial surfaces during tracking loss.</span></span>
* <span data-ttu-id="a448c-296">Im Allgemeinen sollte eine Anwendung den Kompromiss zwischen reduzierter Updateverarbeitung und erhöhter Speicherauslastung auswerten, um die ideale Strategie für die Zwischenspeicherung zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="a448c-296">In general, an application should evaluate the tradeoff between reduced update processing and increased memory usage to determine its ideal caching strategy.</span></span>

## <a name="rendering"></a><span data-ttu-id="a448c-297">Darstellung</span><span class="sxs-lookup"><span data-stu-id="a448c-297">Rendering</span></span>

<span data-ttu-id="a448c-298">Es gibt drei Primäre Möglichkeiten, wie Gitternetze für räumliche Zuordnungen tendenziell zum Rendern verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="a448c-298">There are three primary ways in which spatial mapping meshes tend to be used for rendering:</span></span>
* <span data-ttu-id="a448c-299">Für die Oberflächenvisualisierung</span><span class="sxs-lookup"><span data-stu-id="a448c-299">For surface visualization</span></span>
   * <span data-ttu-id="a448c-300">Häufig ist es hilfreich, räumliche Oberflächen direkt zu visualisieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-300">It's often useful to visualize spatial surfaces directly.</span></span> <span data-ttu-id="a448c-301">Beispielsweise kann das Werfen von Schatten von Objekten auf räumliche Oberflächen hilfreiches visuelles Feedback für den Benutzer bereitstellen, während hologramme auf Oberflächen platziert werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-301">For example, casting 'shadows' from objects onto spatial surfaces can provide helpful visual feedback to the user while they're placing holograms on surfaces.</span></span>
   * <span data-ttu-id="a448c-302">Beachten Sie, dass räumliche Gitternetze sich von der Art der Gitternetze unterscheiden, die ein 3D-Interpret erstellen könnte.</span><span class="sxs-lookup"><span data-stu-id="a448c-302">One thing to bear in mind is that spatial meshes are different to the kind of meshes that a 3D artist might create.</span></span> <span data-ttu-id="a448c-303">Die Dreieckstopologie ist nicht so "sauber" wie die von Menschen erstellte Topologie, und das Gitternetz hat verschiedene [Fehler.](spatial-mapping.md#what-influences-spatial-mapping-quality)</span><span class="sxs-lookup"><span data-stu-id="a448c-303">The triangle topology won't be as 'clean' as human-created topology, and the mesh will suffer from [various errors](spatial-mapping.md#what-influences-spatial-mapping-quality).</span></span>
   * <span data-ttu-id="a448c-304">Um ein ansprechendes visuelles Aussehen zu schaffen, können Sie eine [Gitternetzverarbeitung](spatial-mapping.md#mesh-processing)durchführen, z. B. um Löcher oder reibungslose Oberflächennormalisierungen zu füllen.</span><span class="sxs-lookup"><span data-stu-id="a448c-304">To create a pleasing visual aesthetic, you may want to do some [mesh processing](spatial-mapping.md#mesh-processing), for example to fill holes or smooth surface normals.</span></span> <span data-ttu-id="a448c-305">Sie können auch einen Shader verwenden, um von Einem Interpret entworfene Texturen in Ihr Gitternetz zu pro projektieren, anstatt die Meshtopologie und -normalitäten direkt zu visualisieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-305">You may also wish to use a shader to project artist-designed textures onto your mesh instead of directly visualizing mesh topology and normals.</span></span>
* <span data-ttu-id="a448c-306">Zum Verdecken von Hologrammen hinter realen Oberflächen</span><span class="sxs-lookup"><span data-stu-id="a448c-306">For occluding holograms behind real-world surfaces</span></span>
   * <span data-ttu-id="a448c-307">Räumliche Oberflächen können in einem reinen Tiefendurchlauf gerendert werden. Dies wirkt sich nur auf den [Tiefenpuffer](/windows/win32/direct3d9/depth-buffers) und nicht auf Farbrenderziele aus.</span><span class="sxs-lookup"><span data-stu-id="a448c-307">Spatial surfaces can be rendered in a depth-only pass, which only affects the [depth buffer](/windows/win32/direct3d9/depth-buffers) and doesn't affect color render targets.</span></span>
   * <span data-ttu-id="a448c-308">Dadurch wird der Tiefenpuffer so grundiert, dass nachfolgend gerenderte Hologramme hinter räumlichen Oberflächen verdeckt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-308">This primes the depth buffer to occlude subsequently rendered holograms behind spatial surfaces.</span></span> <span data-ttu-id="a448c-309">Eine genaue Verdeckung von Hologrammen verbessert das Gefühl, dass Hologramme tatsächlich im physischen Raum des Benutzers vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="a448c-309">Accurate occlusion of holograms enhances the sense that holograms really exist within the user's physical space.</span></span>
   * <span data-ttu-id="a448c-310">Aktualisieren Sie den Blendzustand, um [renderTargetWriteMask](/windows/win32/api/d3d11_1/ns-d3d11_1-d3d11_render_target_blend_desc1) für alle Farbrenderziele auf null festzulegen, um das rein tiefenbezogene Rendering zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-310">To enable depth-only rendering, update your blend state to set the [RenderTargetWriteMask](/windows/win32/api/d3d11_1/ns-d3d11_1-d3d11_render_target_blend_desc1) to zero for all color render targets.</span></span>
* <span data-ttu-id="a448c-311">Zum Ändern der Darstellung von Hologrammen, die von realen Oberflächen verdeckt werden</span><span class="sxs-lookup"><span data-stu-id="a448c-311">For modifying the appearance of holograms occluded by real-world surfaces</span></span>
   * <span data-ttu-id="a448c-312">Normalerweise gerenderte Geometrie wird ausgeblendet, wenn sie verdeckt wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-312">Normally rendered geometry is hidden when it's occluded.</span></span> <span data-ttu-id="a448c-313">Dies wird erreicht, indem die Tiefenfunktion in Ihrem [Tiefenschablonenzustand](/windows/win32/api/d3d11/ns-d3d11-d3d11_depth_stencil_desc) auf "kleiner als oder gleich" festgelegt wird, wodurch die Geometrie nur dort sichtbar wird, wo sie **sich näher** an der Kamera befindet als alle zuvor gerenderten Geometrien.</span><span class="sxs-lookup"><span data-stu-id="a448c-313">This is achieved by setting the depth function in your [depth-stencil state](/windows/win32/api/d3d11/ns-d3d11-d3d11_depth_stencil_desc) to "less than or equal", which causes geometry to be visible only where it's **closer** to the camera than all previously rendered geometry.</span></span>
   * <span data-ttu-id="a448c-314">Es kann jedoch hilfreich sein, eine bestimmte Geometrie sichtbar zu halten, auch wenn sie verdeckunglich ist, und die Darstellung zu ändern, wenn sie als Möglichkeit zum Bereitstellen visuellen Feedbacks für den Benutzer verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-314">However, it may be useful to keep certain geometry visible even when it's occluded, and to modify its appearance when occluded as a way of providing visual feedback to the user.</span></span> <span data-ttu-id="a448c-315">Dies ermöglicht der Anwendung beispielsweise, dem Benutzer den Speicherort eines Objekts anzuzeigen und gleichzeitig deutlich zu machen, dass sich hinter einer realen Oberfläche befindet.</span><span class="sxs-lookup"><span data-stu-id="a448c-315">For example, this allows the application to show the user the location of an object while making it clear that is behind a real-world surface.</span></span>
   * <span data-ttu-id="a448c-316">Um dies zu erreichen, rendern Sie die Geometrie ein zweites Mal mit einem anderen Shader, der die gewünschte Verdeckungsdarstellung erstellt.</span><span class="sxs-lookup"><span data-stu-id="a448c-316">To achieve this, render the geometry a second time with a different shader that creates the desired 'occluded' appearance.</span></span> <span data-ttu-id="a448c-317">Nehmen Sie vor dem zweiten Rendern der Geometrie zwei Änderungen am [Tiefenschablonenzustand](/windows/win32/api/d3d11/ns-d3d11-d3d11_depth_stencil_desc)vor.</span><span class="sxs-lookup"><span data-stu-id="a448c-317">Before rendering the geometry for the second time, make two changes to your [depth-stencil state](/windows/win32/api/d3d11/ns-d3d11-d3d11_depth_stencil_desc).</span></span> <span data-ttu-id="a448c-318">Legen Sie zunächst die Tiefenfunktion auf "größer als oder gleich" fest, sodass die Geometrie nur sichtbar ist, wenn sie **sich weiter** von der Kamera entfernt als alle zuvor gerenderten Geometrien befindet.</span><span class="sxs-lookup"><span data-stu-id="a448c-318">First, set the depth function to "greater than or equal" so that the geometry will be visible only where it's **further** from the camera than all previously rendered geometry.</span></span> <span data-ttu-id="a448c-319">Legen Sie zweitens die DepthWriteMask auf 0 (null) fest, damit der Tiefenpuffer nicht geändert  wird (der Tiefenpuffer sollte weiterhin die Tiefe der Geometrie darstellen, die der Kamera am nächsten liegt).</span><span class="sxs-lookup"><span data-stu-id="a448c-319">Second, set the DepthWriteMask to zero, so that the depth buffer won't be modified (the depth buffer should continue to represent the depth of the geometry **closest** to the camera).</span></span>

<span data-ttu-id="a448c-320">[Die Leistung](../develop/platform-capabilities-and-apis/understanding-performance-for-mixed-reality.md) ist ein wichtiges Problem beim Rendern von Gittern für räumliche Zuordnungen.</span><span class="sxs-lookup"><span data-stu-id="a448c-320">[Performance](../develop/platform-capabilities-and-apis/understanding-performance-for-mixed-reality.md) is an important concern when rendering spatial mapping meshes.</span></span> <span data-ttu-id="a448c-321">Hier sind einige Renderingleistungstechniken für das Rendern von Gittern für räumliche Zuordnungen:</span><span class="sxs-lookup"><span data-stu-id="a448c-321">Here are some rendering performance techniques specific to rendering spatial mapping meshes:</span></span>
* <span data-ttu-id="a448c-322">Anpassen der Dreiecksdichte</span><span class="sxs-lookup"><span data-stu-id="a448c-322">Adjust triangle density</span></span>
   * <span data-ttu-id="a448c-323">Fordern Sie beim Anfordern von Gittern der räumlichen Oberfläche von Ihrem Oberflächenbeobachter die niedrigste Dichte von Dreiecksgittern an, die für Ihre Anforderungen ausreicht.</span><span class="sxs-lookup"><span data-stu-id="a448c-323">When requesting spatial surface meshes from your surface observer, request the lowest density of triangle meshes that will suffice for your needs.</span></span>
   * <span data-ttu-id="a448c-324">Es kann sinnvoll sein, die Dreiecksdichte auf Oberflächenbasis zu variieren, abhängig vom Abstand der Oberfläche zum Benutzer und ihrer Relevanz für die Benutzererfahrung.</span><span class="sxs-lookup"><span data-stu-id="a448c-324">It may make sense to vary triangle density on a surface by surface basis, depending on the surface's distance from the user, and its relevance to the user experience.</span></span>
   * <span data-ttu-id="a448c-325">Die Reduzierung der Dreiecksanzahl reduziert die Speicherauslastung und die Vertexverarbeitungskosten auf der GPU, wirkt sich jedoch nicht auf die Pixelverarbeitungskosten aus.</span><span class="sxs-lookup"><span data-stu-id="a448c-325">Reducing triangle counts will reduce memory usage and vertex processing costs on the GPU, though it won't affect pixel processing costs.</span></span>
* <span data-ttu-id="a448c-326">Verwenden von Frustum-Culling</span><span class="sxs-lookup"><span data-stu-id="a448c-326">Use frustum culling</span></span>
   * <span data-ttu-id="a448c-327">Frustum-Culling überspringt Zeichnungsobjekte, die nicht angezeigt werden können, da sie sich außerhalb des aktuellen Frustums der Anzeige befinden.</span><span class="sxs-lookup"><span data-stu-id="a448c-327">Frustum culling skips drawing objects that cannot be seen because they are outside the current display frustum.</span></span> <span data-ttu-id="a448c-328">Dadurch werden sowohl die CPU- als auch die GPU-Verarbeitungskosten reduziert.</span><span class="sxs-lookup"><span data-stu-id="a448c-328">This reduces both CPU and GPU processing costs.</span></span>
   * <span data-ttu-id="a448c-329">Da das Culling auf Gitternetzbasis durchgeführt wird und räumliche Oberflächen groß sein können, kann das Aufbrechen jedes Gitters der räumlichen Oberfläche in kleinere Gitternetze zu einem effizienteren Culling führen (da weniger Offscreen-Dreiecke gerendert werden).</span><span class="sxs-lookup"><span data-stu-id="a448c-329">Since culling is performed on a per-mesh basis and spatial surfaces can be large, breaking each spatial surface mesh into smaller chunks may result in more efficient culling (in that fewer offscreen triangles are rendered).</span></span> <span data-ttu-id="a448c-330">Es gibt jedoch einen Kompromiss. Desto mehr Gitternetze sie haben, desto mehr Zeichnen-Aufrufe müssen Sie tätigen, was die CPU-Kosten erhöhen kann.</span><span class="sxs-lookup"><span data-stu-id="a448c-330">There's a tradeoff, however; the more meshes you have, the more draw calls you must make, which can increase CPU costs.</span></span> <span data-ttu-id="a448c-331">Im Extremfall können die Frustum-Cullingberechnungen selbst sogar messbare CPU-Kosten haben.</span><span class="sxs-lookup"><span data-stu-id="a448c-331">In an extreme case, the frustum culling calculations themselves could even have a measurable CPU cost.</span></span>
* <span data-ttu-id="a448c-332">Anpassen der Rendering reihenfolge</span><span class="sxs-lookup"><span data-stu-id="a448c-332">Adjust rendering order</span></span>
   * <span data-ttu-id="a448c-333">Räumliche Oberflächen sind in der Regel groß, da sie die gesamte Umgebung des Benutzers darstellen, die sie umhing.</span><span class="sxs-lookup"><span data-stu-id="a448c-333">Spatial surfaces tend to be large, because they represent the user's entire environment surrounding them.</span></span> <span data-ttu-id="a448c-334">Die Pixelverarbeitungskosten auf der GPU können hoch sein, insbesondere in Fällen, in denen mehr als eine Ebene der sichtbaren Geometrie (einschließlich räumlicher Oberflächen und anderer Hologramme) vorlag.</span><span class="sxs-lookup"><span data-stu-id="a448c-334">Pixel processing costs on the GPU can be high, especially in cases where there's more than one layer of visible geometry (including both spatial surfaces and other holograms).</span></span> <span data-ttu-id="a448c-335">In diesem Fall wird die ebene, die dem Benutzer am nächsten liegt, alle Schichten weiter entfernt verschließen, sodass jede GPU-Zeit, die für das Rendern dieser entfernteren Ebenen aufwendet wird, verschwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-335">In this case, the layer nearest to the user will be occluding any layers further away, so any GPU time spent rendering those more distant layers is wasted.</span></span>
   * <span data-ttu-id="a448c-336">Um diese redundante Arbeit auf der GPU zu reduzieren, hilft es, nicht transparente Oberflächen in front-to-back-Reihenfolge zu rendern (zuerst näher, entferntere zuletzt).</span><span class="sxs-lookup"><span data-stu-id="a448c-336">To reduce this redundant work on the GPU, it helps to render opaque surfaces in front-to-back order (closer ones first, more distant ones last).</span></span> <span data-ttu-id="a448c-337">Mit "opak" meinen wir Oberflächen, für die die DepthWriteMask im [Tiefenschablonenzustand](/windows/win32/api/d3d11/ns-d3d11-d3d11_depth_stencil_desc)auf eins festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="a448c-337">By 'opaque' we mean surfaces for which the DepthWriteMask is set to one in your [depth-stencil state](/windows/win32/api/d3d11/ns-d3d11-d3d11_depth_stencil_desc).</span></span> <span data-ttu-id="a448c-338">Wenn die nächstgelegenen Oberflächen gerendert werden, wird der Tiefenpuffer so grundiert, dass entferntere Oberflächen effizient vom Pixelprozessor auf der GPU übersprungen werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-338">When the nearest surfaces are rendered, they'll prime the depth buffer so that more distant surfaces are efficiently skipped by the pixel processor on the GPU.</span></span>

## <a name="mesh-processing"></a><span data-ttu-id="a448c-339">Mesh-Verarbeitung</span><span class="sxs-lookup"><span data-stu-id="a448c-339">Mesh Processing</span></span>

<span data-ttu-id="a448c-340">Eine Anwendung möchte möglicherweise [verschiedene Vorgänge](spatial-mapping.md#mesh-processing) für Gitternetze auf räumlicher Oberfläche durchführen, um ihre Anforderungen zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="a448c-340">An application may want to do [various operations](spatial-mapping.md#mesh-processing) on spatial surface meshes to suit its needs.</span></span> <span data-ttu-id="a448c-341">Die Index- und Scheitelpunktdaten, die mit jedem Raumoberflächengitternetz bereitgestellt werden, verwenden das gleiche vertraute Layout wie die [Scheitelpunkt- und Indexpuffer,](/windows/win32/direct3d9/rendering-from-vertex-and-index-buffers) die zum Rendern von Dreiecksgittern in allen modernen Rendering-APIs verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-341">The index and vertex data provided with each spatial surface mesh uses the same familiar layout as the [vertex and index buffers](/windows/win32/direct3d9/rendering-from-vertex-and-index-buffers) that are used for rendering triangle meshes in all modern rendering APIs.</span></span> <span data-ttu-id="a448c-342">Eine wichtige Tatsache, die Sie beachten sollten, ist jedoch, dass räumliche Zuordnungsdreiecke eine **Umdrehungsreihenfolge von vorn im Uhrzeigersinn aufweisen.**</span><span class="sxs-lookup"><span data-stu-id="a448c-342">However, one key fact to be aware of is that spatial mapping triangles have a **front-clockwise winding order**.</span></span> <span data-ttu-id="a448c-343">Jedes Dreieck wird durch drei Scheitelpunktindizes im Indexpuffer des Gitters dargestellt, und diese Indizes identifizieren die Scheitelpunkte des Dreiecks im **Uhrzeigersinn,** wenn das Dreieck von der **Vorderseite** aus angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-343">Each triangle is represented by three vertex indices in the mesh's index buffer and these indices will identify the triangle's vertices in a **clockwise** order, when the triangle is viewed from the **front** side.</span></span> <span data-ttu-id="a448c-344">Die Frontseite (oder außen) von Gitternetzen für räumliche Oberflächen entspricht dem, was Sie von der (sichtbaren) Frontseite der realen Oberflächen erwarten würden.</span><span class="sxs-lookup"><span data-stu-id="a448c-344">The front side (or outside) of spatial surface meshes corresponds as you would expect to the front (visible) side of real world surfaces.</span></span>

<span data-ttu-id="a448c-345">Anwendungen sollten eine Mesh-Vereinfachung nur durchführen, wenn die vom Oberflächenbeohrer bereitgestellte dichte des kleinsten Dreiecks immer noch unzureichend ist. Diese Arbeit ist rechenintensiv und wird bereits von der Laufzeit ausgeführt, um die verschiedenen bereitgestellten Detailebenen zu generieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-345">Applications should only do mesh simplification if the coarsest triangle density provided by the surface observer is still insufficiently coarse - this work is computationally expensive and already being performed by the runtime to generate the various provided levels of detail.</span></span>

<span data-ttu-id="a448c-346">Da jeder Oberflächenbeozeuger mehrere nicht verbundene räumliche Oberflächen bereitstellen kann, möchten einige Anwendungen diese Gitternetze der räumlichen Oberfläche möglicherweise aufeinander abschneiden und dann zusammen zippen.</span><span class="sxs-lookup"><span data-stu-id="a448c-346">Because each surface observer can provide multiple unconnected spatial surfaces, some applications may wish to clip these spatial surface meshes against each other, then zipper them together.</span></span> <span data-ttu-id="a448c-347">Im Allgemeinen ist der Clippingschritt erforderlich, da sich Gitternetze in der Nähe häufig geringfügig überschneiden.</span><span class="sxs-lookup"><span data-stu-id="a448c-347">In general, the clipping step is required, as nearby spatial surface meshes often overlap slightly.</span></span>

## <a name="raycasting-and-collision"></a><span data-ttu-id="a448c-348">Raycasting und Kollision</span><span class="sxs-lookup"><span data-stu-id="a448c-348">Raycasting and Collision</span></span>

<span data-ttu-id="a448c-349">Damit eine physikalische API (z. B. [Havok](https://www.havok.com/)) eine Anwendung mit Raycasting- und Kollisionsfunktionen für räumliche Oberflächen bereitstellen kann, muss die Anwendung raumbezogene Oberflächengitter für die Physikalische API bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="a448c-349">In order for a physics API (such as [Havok](https://www.havok.com/)) to provide an application with raycasting and collision functionality for spatial surfaces, the application must provide spatial surface meshes to the physics API.</span></span> <span data-ttu-id="a448c-350">Gitternetze, die für die Physik verwendet werden, haben häufig die folgenden Eigenschaften:</span><span class="sxs-lookup"><span data-stu-id="a448c-350">Meshes used for physics often have the following properties:</span></span>
* <span data-ttu-id="a448c-351">Sie enthalten nur eine kleine Anzahl von Dreiecken.</span><span class="sxs-lookup"><span data-stu-id="a448c-351">They contain only small numbers of triangles.</span></span> <span data-ttu-id="a448c-352">Physikalische Operationen sind rechenintensiver als Renderingvorgänge.</span><span class="sxs-lookup"><span data-stu-id="a448c-352">Physics operations are more computationally intensive than rendering operations.</span></span>
* <span data-ttu-id="a448c-353">Sie sind "water-tight".</span><span class="sxs-lookup"><span data-stu-id="a448c-353">They're 'water-tight'.</span></span> <span data-ttu-id="a448c-354">Oberflächen, die als fest gedacht sind, sollten keine kleinen Lücken in ihnen haben. sogar Lücken, die zu klein sind, um sichtbar zu sein, können Probleme verursachen.</span><span class="sxs-lookup"><span data-stu-id="a448c-354">Surfaces intended to be solid shouldn't have small holes in them; even holes too small to be visible can cause problems.</span></span>
* <span data-ttu-id="a448c-355">Sie werden in konvexe Hüllen konvertiert.</span><span class="sxs-lookup"><span data-stu-id="a448c-355">They're converted into convex hulls.</span></span> <span data-ttu-id="a448c-356">Konvexe Hüllen verfügen über wenige Polygone und sind frei von Lücken, und sie sind wesentlich recheneffizienter zu verarbeiten als unformatiert dreieckige Gittermodelle.</span><span class="sxs-lookup"><span data-stu-id="a448c-356">Convex hulls have few polygons and are free of holes, and they're much more computationally efficient to process than raw triangle meshes.</span></span>

<span data-ttu-id="a448c-357">Beachten Sie beim Verwenden von Raycasts für räumliche Oberflächen, dass diese Oberflächen oft komplexe, unübersichtliche Formen mit unübersichtlichen kleinen Details sind – genau wie Ihr Arbeitsplatz!</span><span class="sxs-lookup"><span data-stu-id="a448c-357">When doing raycasts against spatial surfaces, bear in mind that these surfaces are often complex, cluttered shapes full of messy little details - just like your desk!</span></span> <span data-ttu-id="a448c-358">Dies bedeutet, dass ein einzelner Raycast häufig nicht ausreicht, um genügend Informationen über die Form der Oberfläche und die Form des leeren Raums in ihrer Nähe zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="a448c-358">This means that a single raycast is often insufficient to give you enough information about the shape of the surface and the shape of the empty space near it.</span></span> <span data-ttu-id="a448c-359">Es ist in der Regel eine gute Idee, viele Raycasts in einem kleinen Bereich zu verwenden und die Aggregatergebnisse zu verwenden, um ein zuverlässigeres Verständnis der Oberfläche zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="a448c-359">It's usually a good idea to do many raycasts within a small area and to use the aggregate results to derive a more reliable understanding of the surface.</span></span> <span data-ttu-id="a448c-360">Wenn Sie z. B. den Durchschnitt von 10 Raycasts verwenden, um die Hologrammplatzierung auf einer Oberfläche zu leiten, führt dies zu einem deutlich reibungsloseren und weniger "jittery"-Ergebnis, da nur ein einzelner Raycast verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-360">For example, using the average of 10 raycasts to guide hologram placement on a surface will yield a far smoother and less 'jittery' result that using just a single raycast.</span></span>

<span data-ttu-id="a448c-361">Beachten Sie jedoch, dass jeder Raycast hohe Berechnungskosten haben kann.</span><span class="sxs-lookup"><span data-stu-id="a448c-361">However, bear in mind that each raycast can have a high computational cost.</span></span> <span data-ttu-id="a448c-362">Abhängig von Ihrem Nutzungsszenario sollten Sie die Berechnungskosten für zusätzliche Raycasts (für [](spatial-mapping.md#mesh-processing) jeden Frame) gegen die Berechnungskosten der Gittermodellverarbeitung abhandeln, um Lücken in räumlichen Oberflächen zu glätten und zu entfernen (dies erfolgt, wenn räumliche Gittermodelle aktualisiert werden).</span><span class="sxs-lookup"><span data-stu-id="a448c-362">Depending on your usage scenario, you should trade off the computational cost of extra raycasts (done every frame) against the computational cost of [mesh processing](spatial-mapping.md#mesh-processing) to smooth and remove holes in spatial surfaces (done when spatial meshes are updated).</span></span>

## <a name="the-environment-scanning-experience"></a><span data-ttu-id="a448c-363">Umgebungsscans</span><span class="sxs-lookup"><span data-stu-id="a448c-363">The environment scanning experience</span></span>

<span data-ttu-id="a448c-364">Jede Anwendung, die räumliche Zuordnung verwendet, sollte eine "Scanerfahrung" bereitstellen. der Prozess, durch den die Anwendung den Benutzer durchsucht, um Oberflächen zu überprüfen, die für die korrekte Funktionsweise der Anwendung erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="a448c-364">Each application that uses spatial mapping should consider providing a 'scanning experience'; the process through which the application guides the user to scan surfaces that are necessary for the application to function correctly.</span></span>

<span data-ttu-id="a448c-365">![Beispiel für die Überprüfung](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span><span class="sxs-lookup"><span data-stu-id="a448c-365">![Example of scanning](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span></span><br>
<span data-ttu-id="a448c-366">*Beispiel für die Überprüfung*</span><span class="sxs-lookup"><span data-stu-id="a448c-366">*Example of scanning*</span></span>

<span data-ttu-id="a448c-367">Die Art dieser Überprüfungserfahrung kann je nach Den Anforderungen der einzelnen Anwendungen stark variieren, aber zwei Hauptprinzipien sollten den Entwurf leiten.</span><span class="sxs-lookup"><span data-stu-id="a448c-367">The nature of this scanning experience can vary greatly depending upon each application's needs, but two main principles should guide its design.</span></span>

<span data-ttu-id="a448c-368">Erstens **ist die klare Kommunikation mit dem Benutzer das Hauptanliegen.**</span><span class="sxs-lookup"><span data-stu-id="a448c-368">Firstly, **clear communication with the user is the primary concern**.</span></span> <span data-ttu-id="a448c-369">Der Benutzer sollte immer wissen, ob die Anforderungen der Anwendung erfüllt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-369">The user should always be aware of whether the application's requirements are being met.</span></span> <span data-ttu-id="a448c-370">Wenn sie nicht erfüllt werden, sollte dem Benutzer sofort klar sein, warum dies der Grund ist, und er sollte schnell dazu veranlasst werden, die entsprechenden Maßnahmen zu ergreifen.</span><span class="sxs-lookup"><span data-stu-id="a448c-370">When they aren't being met, it should be immediately clear to the user why this is so and they should be quickly led to take the appropriate action.</span></span>

<span data-ttu-id="a448c-371">Zweitens **sollten Anwendungen versuchen, ein Gleichgewicht zwischen Effizienz und Zuverlässigkeit zu finden.**</span><span class="sxs-lookup"><span data-stu-id="a448c-371">Secondly, **applications should attempt to strike a balance between efficiency and reliability**.</span></span> <span data-ttu-id="a448c-372">Wenn dies **zuverlässig** möglich ist, sollten Anwendungen räumliche Zuordnungsdaten automatisch analysieren, um dem Benutzer Zeit zu sparen.</span><span class="sxs-lookup"><span data-stu-id="a448c-372">When it's possible to do so **reliably**, applications should automatically analyze spatial mapping data to save the user time.</span></span> <span data-ttu-id="a448c-373">Wenn dies nicht zuverlässig möglich ist, sollten Anwendungen es dem Benutzer stattdessen ermöglichen, der Anwendung schnell die zusätzlichen Informationen bereitzustellen, die sie benötigt.</span><span class="sxs-lookup"><span data-stu-id="a448c-373">When it isn't possible to do so reliably, applications should instead enable the user to quickly provide the application with the additional information it requires.</span></span>

<span data-ttu-id="a448c-374">Um die richtige Überprüfungserfahrung zu entwerfen, sollten Sie berücksichtigen, welche der folgenden Möglichkeiten für Ihre Anwendung zutreffen:</span><span class="sxs-lookup"><span data-stu-id="a448c-374">To help design the right scanning experience, consider which of the following possibilities are applicable to your application:</span></span>

* <span data-ttu-id="a448c-375">**Keine Überprüfungserfahrung**</span><span class="sxs-lookup"><span data-stu-id="a448c-375">**No scanning experience**</span></span>
   * <span data-ttu-id="a448c-376">Eine Anwendung kann ohne geführte Überprüfung perfekt funktionieren. es wird über Oberflächen informiert, die im Verlauf der natürlichen Benutzerbewegung beobachtet werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-376">An application may function perfectly without any guided scanning experience; it will learn about surfaces that are observed in the course of natural user movement.</span></span>
   * <span data-ttu-id="a448c-377">Beispielsweise erfordert eine Anwendung, die es dem Benutzer ermöglicht, mit holografischer Sprayfarbe auf Oberflächen zu zeichnen, nur die Oberflächen zu wissen, die derzeit für den Benutzer sichtbar sind.</span><span class="sxs-lookup"><span data-stu-id="a448c-377">For example, an application that lets the user draw on surfaces with holographic spray paint requires knowledge only of the surfaces currently visible to the user.</span></span>
   * <span data-ttu-id="a448c-378">Die Umgebung kann bereits überprüft werden, wenn der Benutzer bereits viel Zeit mit der Verwendung der HoloLens verbracht hat.</span><span class="sxs-lookup"><span data-stu-id="a448c-378">The environment may be scanned already if it's one in which the user has already spent lots of time using the HoloLens.</span></span>
   * <span data-ttu-id="a448c-379">Beachten Sie jedoch, dass die von der räumlichen Zuordnung verwendete Kamera nur 3,1 m vor dem Benutzer sehen kann, sodass die räumliche Zuordnung keine weiteren entfernten Oberflächen kennt, es sei denn, der Benutzer hat sie in der Vergangenheit aus größerer Entfernung beobachtet.</span><span class="sxs-lookup"><span data-stu-id="a448c-379">Bear in mind however that the camera used by spatial mapping can only see 3.1 m in front of the user, so spatial mapping won't know about any more distant surfaces unless the user has observed them from a closer distance in the past.</span></span>
   * <span data-ttu-id="a448c-380">Damit der Benutzer versteht, welche Oberflächen gescannt wurden, sollte die Anwendung visuelles Feedback zu diesem Effekt bereitstellen. Beispielsweise kann das Umwandeln virtueller Schatten auf gescannte Oberflächen dem Benutzer helfen, Hologramme auf diesen Oberflächen zu platzieren.</span><span class="sxs-lookup"><span data-stu-id="a448c-380">So the user understands which surfaces have been scanned, the application should provide visual feedback to this effect, for example casting virtual shadows onto scanned surfaces may help the user place holograms on those surfaces.</span></span>
   * <span data-ttu-id="a448c-381">In diesem Fall sollten die Begrenzungsvolumes des Raumoberflächenbeobachter für jeden Frame in ein textgesperrte räumliches Koordinatensystem aktualisiert [werden,](coordinate-systems.md)damit sie dem Benutzer folgen.</span><span class="sxs-lookup"><span data-stu-id="a448c-381">For this case, the spatial surface observer's bounding volumes should be updated each frame to a body-locked [spatial coordinate system](coordinate-systems.md), so that they follow the user.</span></span>

* <span data-ttu-id="a448c-382">**Suchen eines geeigneten Standorts**</span><span class="sxs-lookup"><span data-stu-id="a448c-382">**Find a suitable location**</span></span>
   * <span data-ttu-id="a448c-383">Eine Anwendung kann für die Verwendung an einem Standort mit bestimmten Anforderungen entworfen werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-383">An application may be designed for use in a location with specific requirements.</span></span>
   * <span data-ttu-id="a448c-384">Beispielsweise kann die Anwendung einen leeren Bereich um den Benutzer erfordern, damit er holografisches kung-fu sicher üben kann.</span><span class="sxs-lookup"><span data-stu-id="a448c-384">For example, the application may require an empty area around the user so they can safely practice holographic kung-fu.</span></span>
   * <span data-ttu-id="a448c-385">Anwendungen sollten dem Benutzer im Vorhinhin alle spezifischen Anforderungen übermitteln und mit klarem visuellem Feedback verstärken.</span><span class="sxs-lookup"><span data-stu-id="a448c-385">Applications should communicate any specific requirements to the user up-front, and reinforce them with clear visual feedback.</span></span>
   * <span data-ttu-id="a448c-386">In diesem Beispiel sollte die Anwendung den Umfang des erforderlichen leeren Bereichs visualisieren und das Vorhandensein unerwünschter Objekte innerhalb dieser Zone visuell hervorheben.</span><span class="sxs-lookup"><span data-stu-id="a448c-386">In this example, the application should visualize the extent of the required empty area and visually highlight the presence of any undesired objects within this zone.</span></span>
   * <span data-ttu-id="a448c-387">In diesem Fall sollten die Begrenzungsvolumes des Raumoberflächenbeobachter ein weltgesperrte Raumkoordinatensystem [an](coordinate-systems.md) der ausgewählten Position verwenden.</span><span class="sxs-lookup"><span data-stu-id="a448c-387">For this case, the spatial surface observer's bounding volumes should use a world-locked [spatial coordinate system](coordinate-systems.md) in the chosen location.</span></span>

* <span data-ttu-id="a448c-388">**Suchen einer geeigneten Konfiguration von Oberflächen**</span><span class="sxs-lookup"><span data-stu-id="a448c-388">**Find a suitable configuration of surfaces**</span></span>
   * <span data-ttu-id="a448c-389">Eine Anwendung erfordert möglicherweise eine bestimmte Konfiguration von Oberflächen, z. B. zwei große, flache, gegensätzliche Wände, um eine holografische Spiegelfläche zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a448c-389">An application may require a specific configuration of surfaces, for example two large, flat, opposing walls to create a holographic hall of mirrors.</span></span>
   * <span data-ttu-id="a448c-390">In solchen Fällen muss die Anwendung die von der räumlichen Zuordnung bereitgestellten Oberflächen analysieren, um geeignete Oberflächen zu erkennen, und den Benutzer an diese weiter richten.</span><span class="sxs-lookup"><span data-stu-id="a448c-390">In such cases, the application will need to analyze the surfaces provided by spatial mapping to detect suitable surfaces, and direct the user toward them.</span></span>
   * <span data-ttu-id="a448c-391">Der Benutzer sollte über eine Fallbackoption verfügen, wenn die Oberflächenanalyse der Anwendung nicht zuverlässig ist.</span><span class="sxs-lookup"><span data-stu-id="a448c-391">The user should have a fallback option if the application's surface analysis isn't reliable.</span></span> <span data-ttu-id="a448c-392">Wenn die Anwendung beispielsweise fälschlicherweise eine Tür als flache Wand identifiziert, benötigt der Benutzer eine einfache Möglichkeit, diesen Fehler zu beheben.</span><span class="sxs-lookup"><span data-stu-id="a448c-392">For example, if the application incorrectly identifies a doorway as a flat wall, the user needs a simple way to correct this error.</span></span>

* <span data-ttu-id="a448c-393">**Überprüfen eines Teils der Umgebung**</span><span class="sxs-lookup"><span data-stu-id="a448c-393">**Scan part of the environment**</span></span>
   * <span data-ttu-id="a448c-394">Eine Anwendung möchte möglicherweise nur einen Teil der Umgebung erfassen, wie vom Benutzer gewünscht.</span><span class="sxs-lookup"><span data-stu-id="a448c-394">An application may wish to only capture part of the environment, as directed by the user.</span></span>
   * <span data-ttu-id="a448c-395">Die Anwendung scannt z. B. einen Teil eines Raums, damit der Benutzer eine holografische klassifizierte Werbeanzeige für die Produkte posten kann, die er verkaufen möchte.</span><span class="sxs-lookup"><span data-stu-id="a448c-395">For example, the application scans part of a room so the user may post a holographic classified ad for furniture they wish to sell.</span></span>
   * <span data-ttu-id="a448c-396">In diesem Fall sollte die Anwendung räumliche Kartendaten in den Regionen erfassen, die der Benutzer während seiner Überprüfung beobachtet hat.</span><span class="sxs-lookup"><span data-stu-id="a448c-396">In this case, the application should capture spatial mapping data within the regions observed by the user during their scan.</span></span>

* <span data-ttu-id="a448c-397">**Scannen des gesamten Raums**</span><span class="sxs-lookup"><span data-stu-id="a448c-397">**Scan the whole room**</span></span>
   * <span data-ttu-id="a448c-398">Eine Anwendung erfordert möglicherweise eine Überprüfung aller Oberflächen im aktuellen Raum, einschließlich der oberflächen hinter dem Benutzer.</span><span class="sxs-lookup"><span data-stu-id="a448c-398">An application may require a scan of all of the surfaces in the current room, including those behind the user.</span></span>
   * <span data-ttu-id="a448c-399">Ein Spiel kann z. B. den Benutzer in die Rolle von Gulliver versetzen, der von Hunderten von kleinen Lierungputern belagert wird, die sich aus allen Richtungen nähern.</span><span class="sxs-lookup"><span data-stu-id="a448c-399">For example, a game may put the user in the role of Gulliver, under siege from hundreds of tiny Lilliputians approaching from all directions.</span></span>
   * <span data-ttu-id="a448c-400">In solchen Fällen muss die Anwendung bestimmen, wie viele der Oberflächen im aktuellen Raum bereits gescannt wurden, und den Blick des Benutzers anweisen, erhebliche Lücken zu füllen.</span><span class="sxs-lookup"><span data-stu-id="a448c-400">In such cases, the application will need to determine how many of the surfaces in the current room have already been scanned, and direct the user's gaze to fill in significant gaps.</span></span>
   * <span data-ttu-id="a448c-401">Der Schlüssel zu diesem Prozess ist das bereitstellen von visuellem Feedback, das dem Benutzer deutlich macht, welche Oberflächen noch nicht überprüft wurden.</span><span class="sxs-lookup"><span data-stu-id="a448c-401">The key to this process is providing visual feedback that makes it clear to the user which surfaces haven't yet been scanned.</span></span> <span data-ttu-id="a448c-402">Die Anwendung könnte z. B. [entfernungsbasierte Bilder](/windows/win32/direct3d9/fog-formulas) verwenden, um Bereiche visuell hervorzuheben, die nicht von räumlichen Zuordnungsoberflächen abgedeckt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-402">The application could, for example,  use [distance-based fog](/windows/win32/direct3d9/fog-formulas) to visually highlight regions that aren't covered by spatial mapping surfaces.</span></span>

* <span data-ttu-id="a448c-403">**Erstellen einer Anfangsmomentaufnahme der Umgebung**</span><span class="sxs-lookup"><span data-stu-id="a448c-403">**Take an initial snapshot of the environment**</span></span>
   * <span data-ttu-id="a448c-404">Eine Anwendung möchte möglicherweise alle Änderungen in der Umgebung ignorieren, nachdem eine anfängliche Momentaufnahme erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="a448c-404">An application may wish to ignore all changes in the environment after taking an initial 'snapshot'.</span></span>
   * <span data-ttu-id="a448c-405">Dies kann geeignet sein, um eine Unterbrechung von vom Benutzer erstellten Daten zu vermeiden, die eng mit dem ursprünglichen Zustand der Umgebung verknüpft sind.</span><span class="sxs-lookup"><span data-stu-id="a448c-405">This may be appropriate to avoid disruption of user-created data that is tightly coupled to the initial state of the environment.</span></span>
   * <span data-ttu-id="a448c-406">In diesem Fall sollte die Anwendung eine Kopie der räumlichen Zuordnungsdaten im ursprünglichen Zustand erstellen, sobald die Überprüfung abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="a448c-406">In this case, the application should make a copy of the spatial mapping data in its initial state once the scan is complete.</span></span>
   * <span data-ttu-id="a448c-407">Anwendungen sollten weiterhin Aktualisierungen an räumlichen Zuordnungsdaten erhalten, wenn Hologramme weiterhin ordnungsgemäß von der Umgebung verdeckt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="a448c-407">Applications should continue receiving updates to spatial mapping data if holograms are still to be correctly occluded by the environment.</span></span>
   * <span data-ttu-id="a448c-408">Fortlaufende Aktualisierungen von Räumlichen Zuordnungsdaten ermöglichen auch das Visualisieren aufgetretener Änderungen, wodurch dem Benutzer die Unterschiede zwischen früheren und aktuellen Zuständen der Umgebung verdeutlicht werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-408">Continued updates to spatial mapping data also allow visualizing any changes that have occurred, clarifying to the user the differences between prior and present states of the environment.</span></span>

* <span data-ttu-id="a448c-409">**Erstellen von vom Benutzer initiierten Momentaufnahmen der Umgebung**</span><span class="sxs-lookup"><span data-stu-id="a448c-409">**Take user-initiated snapshots of the environment**</span></span>
   * <span data-ttu-id="a448c-410">Eine Anwendung möchte möglicherweise nur auf Umgebungsänderungen reagieren, wenn sie vom Benutzer angewiesen wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-410">An application may only wish to respond to environmental changes when instructed by the user.</span></span>
   * <span data-ttu-id="a448c-411">Beispielsweise könnte der Benutzer mehrere 3D-"Gänge" eines Freundes erstellen, indem er seine Posen zu unterschiedlichen Zeitpunkten erfasst.</span><span class="sxs-lookup"><span data-stu-id="a448c-411">For example, the user could create multiple 3D 'statues' of a friend by capturing their poses at different moments.</span></span>

* <span data-ttu-id="a448c-412">**Benutzern das Ändern der Umgebung erlauben**</span><span class="sxs-lookup"><span data-stu-id="a448c-412">**Allow the user to change the environment**</span></span>
   * <span data-ttu-id="a448c-413">Eine Anwendung kann so entworfen werden, dass sie in Echtzeit auf Änderungen reagiert, die in der Umgebung des Benutzers vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="a448c-413">An application may be designed to respond in real time to any changes made in the user's environment.</span></span>
   * <span data-ttu-id="a448c-414">Beispielsweise könnte der Benutzer, der einen Graphen zeichnet, eine "Szenenänderung" für ein holografisches Spiel auslösen, das auf der anderen Seite stattfindet.</span><span class="sxs-lookup"><span data-stu-id="a448c-414">For example, the user drawing a curtain could trigger 'scene change' for a holographic play taking place on the other side.</span></span>

* <span data-ttu-id="a448c-415">**Anleitung des Benutzers zur Vermeidung von Fehlern in den Räumlichen Zuordnungsdaten**</span><span class="sxs-lookup"><span data-stu-id="a448c-415">**Guide the user to avoid errors in the spatial mapping data**</span></span>
   * <span data-ttu-id="a448c-416">Eine Anwendung möchte dem Benutzer beim Scannen seiner Umgebung möglicherweise Anleitungen geben.</span><span class="sxs-lookup"><span data-stu-id="a448c-416">An application may wish to provide guidance to the user while they're scanning their environment.</span></span>
   * <span data-ttu-id="a448c-417">Dies kann dem Benutzer helfen, bestimmte Arten von Fehlern [in](spatial-mapping.md#what-influences-spatial-mapping-quality)den räumlichen Zuordnungsdaten zu vermeiden, z. B. indem er sich von den fenstern oder spiegelnden Fenstern entfernt.</span><span class="sxs-lookup"><span data-stu-id="a448c-417">This can help the user to avoid certain kinds of [errors in the spatial mapping data](spatial-mapping.md#what-influences-spatial-mapping-quality), for example by staying away from sunlit windows or mirrors.</span></span>

<span data-ttu-id="a448c-418">Ein zusätzliches Detail, das Sie beachten sollten, ist, dass der "Bereich" der räumlichen Zuordnungsdaten nicht unbegrenzt ist.</span><span class="sxs-lookup"><span data-stu-id="a448c-418">One extra detail to be aware of is that the 'range' of spatial mapping data isn't unlimited.</span></span> <span data-ttu-id="a448c-419">Die räumliche Zuordnung erstellt zwar eine permanente Datenbank mit großen Räumen, stellt diese Daten jedoch nur Anwendungen in einer "Blase" mit begrenzter Größe um den Benutzer zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="a448c-419">While spatial mapping does build a permanent database of large spaces, it only makes that data available to applications in a 'bubble' of limited size around the user.</span></span> <span data-ttu-id="a448c-420">Wenn Sie am Anfang einer langen Ungnung beginnen und weit genug vom Anfang entfernt gehen, werden die räumlichen Oberflächen am Anfang schließlich wieder verschwinden.</span><span class="sxs-lookup"><span data-stu-id="a448c-420">If you start at the beginning of a long corridor and walk far enough away from the start, then eventually the spatial surfaces back at the beginning will disappear.</span></span> <span data-ttu-id="a448c-421">Sie können dies minimieren, indem Sie diese Oberflächen in Ihrer Anwendung zwischenspeichern, nachdem sie aus den verfügbaren räumlichen Zuordnungsdaten entfernt wurden.</span><span class="sxs-lookup"><span data-stu-id="a448c-421">You can mitigate this by caching those surfaces in your application after they've disappeared from the available spatial mapping data.</span></span>

## <a name="mesh-processing"></a><span data-ttu-id="a448c-422">Mesh-Verarbeitung</span><span class="sxs-lookup"><span data-stu-id="a448c-422">Mesh processing</span></span>

<span data-ttu-id="a448c-423">Es kann helfen, häufige Arten von Fehlern in Oberflächen zu erkennen und die räumlichen Zuordnungsdaten nach Geeigneten zu filtern, zu entfernen oder zu ändern.</span><span class="sxs-lookup"><span data-stu-id="a448c-423">It may help to detect common types of errors in surfaces and to filter, remove or modify the spatial mapping data as appropriate.</span></span>

<span data-ttu-id="a448c-424">Beachten Sie, dass räumliche Kartendaten so gut wie möglich für reale Oberflächen bestimmt sind, sodass jede Verarbeitung, die Sie anwenden, risiken, ihre Oberflächen weiter von der "Wahrheit" zu verschieben.</span><span class="sxs-lookup"><span data-stu-id="a448c-424">Bear in mind that spatial mapping data is intended to be as faithful as possible to real-world surfaces, so any processing you apply risks shifting your surfaces further from the 'truth'.</span></span>

<span data-ttu-id="a448c-425">Im Folgenden finden Sie einige Beispiele für verschiedene Arten von Gitternetzverarbeitung, die sie möglicherweise nützlich finden:</span><span class="sxs-lookup"><span data-stu-id="a448c-425">Here are some examples of different types of mesh processing that you may find useful:</span></span>

* <span data-ttu-id="a448c-426">**Füllung von Füllstellen**</span><span class="sxs-lookup"><span data-stu-id="a448c-426">**Hole filling**</span></span>
   * <span data-ttu-id="a448c-427">Wenn ein kleines Objekt, das aus einem dunklen Material besteht, nicht gescannt werden kann, wird eine Lücke in der umgebenden Oberfläche hinterlassen.</span><span class="sxs-lookup"><span data-stu-id="a448c-427">If a small object made of a dark material fails to scan, it will leave a hole in the surrounding surface.</span></span>
   * <span data-ttu-id="a448c-428">Lücken wirken sich auf die Okklusion aus: Hologramme können "durch" eine Lücke in einer vermutlich undurchsichtigen realen Oberfläche gesehen werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-428">Holes affect occlusion: holograms can be seen 'through' a hole in a supposedly opaque real-world surface.</span></span>
   * <span data-ttu-id="a448c-429">Lücken wirken sich auf Raycasts aus: Wenn Sie Raycasts verwenden, um Benutzern die Interaktion mit Oberflächen zu ermöglichen, ist es möglicherweise unerwünscht, dass diese Lichtstrahl lückenübergehen.</span><span class="sxs-lookup"><span data-stu-id="a448c-429">Holes affect raycasts: if you're using raycasts to help users interact with surfaces, it may be undesirable for these rays to pass through holes.</span></span> <span data-ttu-id="a448c-430">Eine Lösung besteht in der Verwendung eines Bündels von mehreren Raycasts, die einen entsprechend großen Bereich abdecken.</span><span class="sxs-lookup"><span data-stu-id="a448c-430">One mitigation is to use a bundle of multiple raycasts covering an appropriately sized region.</span></span> <span data-ttu-id="a448c-431">Auf diese Weise können Sie Ausreißerergebnisse filtern, sodass das Aggregatergebnis auch dann gültig ist, wenn ein Raycast eine kleine Lücke durchläuft.</span><span class="sxs-lookup"><span data-stu-id="a448c-431">This will allow you to filter 'outlier' results, so that even if one raycast passes through a small hole, the aggregate result will still be valid.</span></span> <span data-ttu-id="a448c-432">Dieser Ansatz geht jedoch mit Rechenkosten ein.</span><span class="sxs-lookup"><span data-stu-id="a448c-432">However, this approach comes at a computational cost.</span></span>
   * <span data-ttu-id="a448c-433">Löcher wirken sich auf physikalische Kollisionen aus: Ein objekt, das von der Physikalischen Simulation gesteuert wird, kann durch ein Löcher im Boden fallen und verlorengehen.</span><span class="sxs-lookup"><span data-stu-id="a448c-433">Holes affect physics collisions: an object controlled by physics simulation may drop through a hole in the floor and become lost.</span></span>
   * <span data-ttu-id="a448c-434">Es ist möglich, solche Löcher im Oberflächengitternetz algorithmusgesteuert zu füllen.</span><span class="sxs-lookup"><span data-stu-id="a448c-434">It's possible to algorithmically fill such holes in the surface mesh.</span></span> <span data-ttu-id="a448c-435">Sie müssen ihren Algorithmus jedoch so optimieren, dass "echte Löcher" wie Fenster und Türtüren nicht ausgefüllt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-435">However, you'll need to tune your algorithm so that 'real holes' such as windows and doorways don't get filled in.</span></span> <span data-ttu-id="a448c-436">Es kann schwierig sein, "echte Löcher" zuverlässig von "imaginären Löchern" zu unterscheiden, sodass Sie mit verschiedenen Heuristiken wie "Größe" und "Begrenzungsform" experimentieren müssen.</span><span class="sxs-lookup"><span data-stu-id="a448c-436">It can be difficult to reliably differentiate 'real holes' from 'imaginary holes', so you'll need to experiment with different heuristics such as 'size' and 'boundary shape'.</span></span>

* <span data-ttu-id="a448c-437">**Hallucinationsentfernung**</span><span class="sxs-lookup"><span data-stu-id="a448c-437">**Hallucination removal**</span></span>
   * <span data-ttu-id="a448c-438">Reflexionen, helle Lichtlichter und bewegte Objekte können kleine verweilende Hallucinationen in der Luft gleiten lassen.</span><span class="sxs-lookup"><span data-stu-id="a448c-438">Reflections, bright lights, and moving objects can leave small lingering 'hallucinations' floating in mid-air.</span></span>
   * <span data-ttu-id="a448c-439">Hallucinationen wirken sich auf die Verdeckung aus: Halluzinationen werden möglicherweise sichtbar, wenn sich dunkle Formen vor anderen Hologrammen bewegen und diese verdecken.</span><span class="sxs-lookup"><span data-stu-id="a448c-439">Hallucinations affect occlusion: hallucinations may become visible as dark shapes moving in front of and occluding other holograms.</span></span>
   * <span data-ttu-id="a448c-440">Hallucinationen wirken sich auf Raycasts aus: Wenn Sie Raycasts verwenden, um Benutzer bei der Interaktion mit Oberflächen zu unterstützen, können diese Lichtstrahle auf eine Hallucination anstatt auf die oberfläche darunter treffen.</span><span class="sxs-lookup"><span data-stu-id="a448c-440">Hallucinations affect raycasts: if you're using raycasts to help users interact with surfaces, these rays could hit a hallucination instead of the surface behind it.</span></span> <span data-ttu-id="a448c-441">Wie bei Löchern besteht eine Entschärfung darin, viele Raycasts anstelle eines einzelnen Raycasts zu verwenden, aber dies führt wiederum zu Rechenkosten.</span><span class="sxs-lookup"><span data-stu-id="a448c-441">As with holes, one mitigation is to use many raycasts instead of a single raycast, but again this will come at a computational cost.</span></span>
   * <span data-ttu-id="a448c-442">Hallucinationen wirken sich auf physikalische Konflikte aus: Ein objekt, das von der physikalischen Simulation gesteuert wird, kann an einer Halluzination hängen bleiben und sich nicht durch einen scheinbar klaren Raumbereich bewegen können.</span><span class="sxs-lookup"><span data-stu-id="a448c-442">Hallucinations affect physics collisions: an object controlled by physics simulation may become stuck against a hallucination and be unable to move through a seemingly clear area of space.</span></span>
   * <span data-ttu-id="a448c-443">Es ist möglich, solche Halluzinationen aus dem Oberflächengitternetz zu filtern.</span><span class="sxs-lookup"><span data-stu-id="a448c-443">It's possible to filter such hallucinations from the surface mesh.</span></span> <span data-ttu-id="a448c-444">Wie bei Löchern müssen Sie ihren Algorithmus jedoch so optimieren, dass echte kleine Objekte wie Laternenständer und Türhandles nicht entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-444">However, as with holes, you'll need to tune your algorithm so that real small objects such as lamp-stands and door handles don't get removed.</span></span>

* <span data-ttu-id="a448c-445">**Glättung**</span><span class="sxs-lookup"><span data-stu-id="a448c-445">**Smoothing**</span></span>
   * <span data-ttu-id="a448c-446">Räumliche Zuordnungen können Oberflächen zurückgeben, die im Vergleich zu ihren realen Entsprechungen grob oder "laut" erscheinen.</span><span class="sxs-lookup"><span data-stu-id="a448c-446">Spatial mapping may return surfaces that appear to be rough or 'noisy' in comparison to their real-world counterparts.</span></span>
   * <span data-ttu-id="a448c-447">Glättung wirkt sich auf physikalische Kollisionen aus: Wenn der Boden grob ist, rollt eine physisch simulierte Kugel möglicherweise nicht gleichmäßig in einer geraden Linie darüber.</span><span class="sxs-lookup"><span data-stu-id="a448c-447">Smoothness affects physics collisions: if the floor is rough, a physically simulated golf ball may not roll smoothly across it in a straight line.</span></span>
   * <span data-ttu-id="a448c-448">Glättung wirkt sich auf das Rendering aus: Wenn eine Oberfläche direkt visualisiert wird, können sich grobe Oberflächennorm normal auf ihre Darstellung auswirken und ein "sauberes" Aussehen unterbrechen.</span><span class="sxs-lookup"><span data-stu-id="a448c-448">Smoothness affects rendering: if a surface is visualized directly, rough surface normals can affect its appearance and disrupt a 'clean' look.</span></span> <span data-ttu-id="a448c-449">Es ist möglich, dies zu verringern, indem Sie die entsprechende Beleuchtung und Texturen im Shader verwenden, der zum Rendern der Oberfläche verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-449">It's possible to mitigate this by using appropriate lighting and textures in the shader that is used to render the surface.</span></span>
   * <span data-ttu-id="a448c-450">Es ist möglich, die Rauheit in einem Oberflächengitter zu glätten.</span><span class="sxs-lookup"><span data-stu-id="a448c-450">It's possible to smooth out roughness in a surface mesh.</span></span> <span data-ttu-id="a448c-451">Dadurch wird die Oberfläche jedoch möglicherweise weiter von der entsprechenden realen Oberfläche entfernt.</span><span class="sxs-lookup"><span data-stu-id="a448c-451">However, this may push the surface further away from the corresponding real-world surface.</span></span> <span data-ttu-id="a448c-452">Eine enge Entsprechung ist wichtig, um eine genaue Hologrammverschluss zu erzeugen und Benutzern zu ermöglichen, präzise und vorhersagbare Interaktionen mit holografischen Oberflächen zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="a448c-452">Maintaining a close correspondence is important to produce accurate hologram occlusion, and to enable users to achieve precise and predictable interactions with holographic surfaces.</span></span>
   * <span data-ttu-id="a448c-453">Wenn nur eine gängige Änderung erforderlich ist, kann es ausreichen, die Scheitelpunktnorm normal zu glätten, ohne die Scheitelpunktpositionen zu ändern.</span><span class="sxs-lookup"><span data-stu-id="a448c-453">If only a cosmetic change is required, it may be sufficient to smooth vertex normals without changing vertex positions.</span></span>

* <span data-ttu-id="a448c-454">**Ebenensuche**</span><span class="sxs-lookup"><span data-stu-id="a448c-454">**Plane finding**</span></span>
   * <span data-ttu-id="a448c-455">Es gibt viele Formen der Analyse, die eine Anwendung möglicherweise auf den Oberflächen durchführen möchte, die von der räumlichen Zuordnung bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-455">There are many forms of analysis that an application may wish to perform on the surfaces provided by spatial mapping.</span></span>
   * <span data-ttu-id="a448c-456">Ein einfaches Beispiel ist "Plane Finding". Identifizieren von begrenzungsgebundenen, größtenteils planaren Oberflächen.</span><span class="sxs-lookup"><span data-stu-id="a448c-456">One simple example is 'plane finding'; identifying bounded, mostly planar regions of surfaces.</span></span>
   * <span data-ttu-id="a448c-457">Planare Regionen können als holografische Arbeitsoberflächen verwendet werden, wobei holografische Inhalte von der Anwendung automatisch platziert werden können.</span><span class="sxs-lookup"><span data-stu-id="a448c-457">Planar regions can be used as holographic work-surfaces, regions where holographic content can be automatically placed by the application.</span></span>
   * <span data-ttu-id="a448c-458">Planare Regionen können die Benutzeroberfläche einschränken, um Benutzer bei der Interaktion mit den Oberflächen zu unterstützen, die ihren Anforderungen am besten entsprechen.</span><span class="sxs-lookup"><span data-stu-id="a448c-458">Planar regions can constrain the user interface, to guide users to interact with the surfaces that best suit their needs.</span></span>
   * <span data-ttu-id="a448c-459">Planare Regionen können wie in der realen Welt für holografische Entsprechungen zu funktionalen Objekten wie DISPLAYS-Bildschirmen, Tabellen oder Whiteboards verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-459">Planar regions can be used as in the real world, for holographic counterparts to functional objects such as LCD screens, tables or whiteboards.</span></span>
   * <span data-ttu-id="a448c-460">Planare Regionen können Spielbereiche definieren, die die Grundlage von Videospielebenen bilden.</span><span class="sxs-lookup"><span data-stu-id="a448c-460">Planar regions can define play areas, forming the basis of video game levels.</span></span>
   * <span data-ttu-id="a448c-461">Planare Regionen können virtuellen Agents helfen, durch die reale Welt zu navigieren, indem sie die Bereiche des Bodens identifizieren, auf denen echte Menschen wahrscheinlich weiter gehen werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-461">Planar regions can aid virtual agents to navigate the real world, by identifying the areas of floor that real people are likely to walk on.</span></span>

## <a name="prototyping-and-debugging"></a><span data-ttu-id="a448c-462">Prototyperstellung und Debuggen</span><span class="sxs-lookup"><span data-stu-id="a448c-462">Prototyping and debugging</span></span>

### <a name="useful-tools"></a><span data-ttu-id="a448c-463">Nützliche Tools</span><span class="sxs-lookup"><span data-stu-id="a448c-463">Useful tools</span></span>

* <span data-ttu-id="a448c-464">Der [HoloLens-Emulator kann](../develop/platform-capabilities-and-apis/using-the-hololens-emulator.md) verwendet werden, um Anwendungen mit räumlicher Zuordnung ohne Zugriff auf eine physische HoloLens zu entwickeln.</span><span class="sxs-lookup"><span data-stu-id="a448c-464">The [HoloLens emulator](../develop/platform-capabilities-and-apis/using-the-hololens-emulator.md) can be used to develop applications using spatial mapping without access to a physical HoloLens.</span></span> <span data-ttu-id="a448c-465">Sie können eine Livesitzung auf einer HoloLens in einer realistischen Umgebung mit allen Daten simulieren, die Ihre Anwendung normalerweise nutzen würde, einschließlich HoloLens-Bewegung, raumbezogene Koordinatensysteme und Gitternetze für räumliche Karten.</span><span class="sxs-lookup"><span data-stu-id="a448c-465">It allows you to simulate a live session on a HoloLens in a realistic environment, with all of the data your application would normally consume, including HoloLens motion, spatial coordinate systems, and spatial mapping meshes.</span></span> <span data-ttu-id="a448c-466">Dies kann verwendet werden, um zuverlässige, wiederholbare Eingaben zu bieten, die für das Debuggen von Problemen und das Auswerten von Änderungen am Code nützlich sein können.</span><span class="sxs-lookup"><span data-stu-id="a448c-466">This can be used to provide reliable, repeatable input, which can be useful for debugging problems and evaluating changes to your code.</span></span>
* <span data-ttu-id="a448c-467">Um ein Szenario zu reproduzieren, erfassen Sie räumliche Zuordnungsdaten über das Netzwerk von einer Live-HoloLens, speichern sie dann auf dem Datenträger und verwenden sie in späteren Debugsitzungen wieder.</span><span class="sxs-lookup"><span data-stu-id="a448c-467">To reproduce a scenario, capture spatial mapping data over the network from a live HoloLens, then save it to disk and reuse it in later debugging sessions.</span></span>
* <span data-ttu-id="a448c-468">Die [3D-Ansicht des Windows-Geräteportals](../develop/platform-capabilities-and-apis/using-the-windows-device-portal.md#3d-view) bietet eine Möglichkeit, alle räumlichen Oberflächen anzuzeigen, die derzeit über das Räumliche Zuordnungssystem verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="a448c-468">The [Windows device portal 3D view](../develop/platform-capabilities-and-apis/using-the-windows-device-portal.md#3d-view) provides a way to see all of the spatial surfaces currently available via the spatial mapping system.</span></span> <span data-ttu-id="a448c-469">Dies stellt eine Vergleichsbasis für die räumlichen Oberflächen in Ihrer Anwendung bereit. Beispielsweise können Sie leicht erkennen, ob räumliche Oberflächen fehlen oder an der falschen Stelle angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-469">This provides a basis of comparison for the spatial surfaces inside your application; for example, you can easily tell if any spatial surfaces are missing or are being displayed in the wrong place.</span></span>

### <a name="general-prototyping-guidance"></a><span data-ttu-id="a448c-470">Allgemeine Anleitungen zur Prototyperstellung</span><span class="sxs-lookup"><span data-stu-id="a448c-470">General prototyping guidance</span></span>

* <span data-ttu-id="a448c-471">Da [Sich Fehler](spatial-mapping.md#what-influences-spatial-mapping-quality) in den Räumlichen Zuordnungsdaten stark auf die Benutzerfreundlichkeit auswirken können, empfehlen wir Ihnen, Ihre Anwendung in einer Vielzahl von Umgebungen zu testen.</span><span class="sxs-lookup"><span data-stu-id="a448c-471">Because [errors](spatial-mapping.md#what-influences-spatial-mapping-quality) in the spatial mapping data may strongly affect your user's experience, we recommend that you test your application in a wide variety of environments.</span></span>
* <span data-ttu-id="a448c-472">Lassen Sie sich nicht davon abfangen, immer an demselben Ort zu testen, z. B. an Ihrem Arbeitsplatz.</span><span class="sxs-lookup"><span data-stu-id="a448c-472">Don't get trapped in the habit of always testing in the same location, for example at your desk.</span></span> <span data-ttu-id="a448c-473">Stellen Sie sicher, dass Sie verschiedene Oberflächen unterschiedlicher Positionen, Formen, Größen und Materialien testen.</span><span class="sxs-lookup"><span data-stu-id="a448c-473">Make sure to test on various surfaces of different positions, shapes, sizes, and materials.</span></span>
* <span data-ttu-id="a448c-474">Auch wenn synthetische oder aufgezeichnete Daten für das Debuggen nützlich sein können, werden Sie nicht zu stark von den gleichen Testfällen abhängig.</span><span class="sxs-lookup"><span data-stu-id="a448c-474">Similarly, while synthetic or recorded data can be useful for debugging, don't become too reliant upon the same few test cases.</span></span> <span data-ttu-id="a448c-475">Dies kann die Ermittlung wichtiger Probleme verzögern, die zuvor durch unterschiedliche Tests abgefangen worden wären.</span><span class="sxs-lookup"><span data-stu-id="a448c-475">This may delay finding important issues that more varied testing would have caught earlier.</span></span>
* <span data-ttu-id="a448c-476">Es ist eine gute Idee, Tests mit echten (und idealerweise nicht coachierten) Benutzern durchzuführen, da sie die HoloLens oder Ihre Anwendung möglicherweise nicht auf die gleiche Weise wie Sie verwenden.</span><span class="sxs-lookup"><span data-stu-id="a448c-476">It's a good idea to perform testing with real (and ideally uncoached) users, because they may not use the HoloLens or your application in exactly the same way that you do.</span></span> <span data-ttu-id="a448c-477">Tatsächlich ist es möglicherweise überraschend, wie ungenannt das Verhalten, das Wissen und die Annahmen von Menschen sein können!</span><span class="sxs-lookup"><span data-stu-id="a448c-477">In fact, it may surprise you how divergent people's behavior, knowledge, and assumptions can be!</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="a448c-478">Problembehandlung</span><span class="sxs-lookup"><span data-stu-id="a448c-478">Troubleshooting</span></span>

* <span data-ttu-id="a448c-479">Damit die Oberflächengitternetze ordnungsgemäß geordnet sind, muss jedes GameObject aktiv sein, bevor es an den SurfaceObserver gesendet wird, damit sein Gitternetz erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="a448c-479">In order for the surface meshes to be orientated correctly, each GameObject needs to be active before it's sent to the SurfaceObserver to have its mesh constructed.</span></span> <span data-ttu-id="a448c-480">Andernfalls werden die Gitternetze in Ihrem Raum angezeigt, aber in schrägen Winkeln gedreht.</span><span class="sxs-lookup"><span data-stu-id="a448c-480">Otherwise, the meshes will show up in your space but rotated at weird angles.</span></span>
* <span data-ttu-id="a448c-481">Das GameObject, das das Skript ausführt, das mit dem SurfaceObserver kommuniziert, muss auf den Ursprung festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="a448c-481">The GameObject that runs the script that communicates with the SurfaceObserver needs to be set to the origin.</span></span> <span data-ttu-id="a448c-482">Andernfalls haben alle GameObjects, die Sie erstellen und an den SurfaceObserver senden, damit ihre Gitternetze erstellt werden, einen Offset, der dem Offset des übergeordneten Spielobjekts entspricht.</span><span class="sxs-lookup"><span data-stu-id="a448c-482">Otherwise, all of GameObjects that you create and send to the SurfaceObserver to have their meshes constructed will have an offset equal to the offset of the Parent Game Object.</span></span> <span data-ttu-id="a448c-483">Dadurch können Ihre Gitternetze mehrere Meter entfernt angezeigt werden, was das Debuggen der Daten erschwert.</span><span class="sxs-lookup"><span data-stu-id="a448c-483">This can make your meshes show up several meters away, which makes it hard to debug what is going on.</span></span>

## <a name="see-also"></a><span data-ttu-id="a448c-484">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="a448c-484">See also</span></span>

* [<span data-ttu-id="a448c-485">Koordinatensysteme</span><span class="sxs-lookup"><span data-stu-id="a448c-485">Coordinate systems</span></span>](coordinate-systems.md)
* [<span data-ttu-id="a448c-486">Räumliche Abbildung in DirectX</span><span class="sxs-lookup"><span data-stu-id="a448c-486">Spatial mapping in DirectX</span></span>](../develop/native/spatial-mapping-in-directx.md)
* [<span data-ttu-id="a448c-487">Räumliche Abbildung in Unity</span><span class="sxs-lookup"><span data-stu-id="a448c-487">Spatial mapping in Unity</span></span>](../develop/unity/spatial-mapping-in-unity.md)
* [<span data-ttu-id="a448c-488">Szenenverständnis</span><span class="sxs-lookup"><span data-stu-id="a448c-488">Scene Understanding</span></span>](scene-understanding.md)
* [<span data-ttu-id="a448c-489">Raumabtastvisualisierung</span><span class="sxs-lookup"><span data-stu-id="a448c-489">Room scan visualization</span></span>](room-scan-visualization.md)
* [<span data-ttu-id="a448c-490">Raumklangentwurf</span><span class="sxs-lookup"><span data-stu-id="a448c-490">Spatial sound design</span></span>](spatial-sound-design.md)
* [<span data-ttu-id="a448c-491">Fallstudie – Schauen durch Löcher in Ihrer Realität</span><span class="sxs-lookup"><span data-stu-id="a448c-491">Case study - Looking through holes in your reality</span></span>](../out-of-scope/case-study-looking-through-holes-in-your-reality.md)