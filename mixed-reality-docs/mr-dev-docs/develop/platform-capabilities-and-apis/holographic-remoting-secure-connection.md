---
title: Aktivieren der Verbindungssicherheit für Holographic-Remoting
description: Auf dieser Seite wird erläutert, wie Sie Holographic Remoting so konfigurieren, dass verschlüsselte und authentifizierte Verbindungen zwischen Player-und Remote-Apps verwendet werden.
author: florianbagarmicrosoft
ms.author: flbagar
ms.date: 12/01/2020
ms.topic: article
keywords: Hololens, Remoting, Holographic Remoting, Mixed Reality-Headset, Windows Mixed Reality-Headset, Virtual Reality-Headset, Sicherheit, Authentifizierung, Server-zu-Client
ms.openlocfilehash: 64eb54d9401f3fbc8b73ebb97b19de5a68cdc5c4
ms.sourcegitcommit: c41372e0c6ca265f599bff309390982642d628b8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/15/2020
ms.locfileid: "97530409"
---
# <a name="enabling-connection-security-for-holographic-remoting"></a><span data-ttu-id="5f244-104">Aktivieren der Verbindungssicherheit für Holographic-Remoting</span><span class="sxs-lookup"><span data-stu-id="5f244-104">Enabling connection security for Holographic Remoting</span></span>

>[!IMPORTANT]
><span data-ttu-id="5f244-105">Diese Anleitung gilt speziell für Holographic-Remoting auf hololens 2.</span><span class="sxs-lookup"><span data-stu-id="5f244-105">This guidance is specific to Holographic Remoting on HoloLens 2.</span></span>

<span data-ttu-id="5f244-106">Auf dieser Seite erhalten Sie einen Überblick über die Netzwerksicherheit für Holographic Remoting.</span><span class="sxs-lookup"><span data-stu-id="5f244-106">This page gives you an overview of network security for Holographic Remoting.</span></span> <span data-ttu-id="5f244-107">Hier finden Sie Informationen zu</span><span class="sxs-lookup"><span data-stu-id="5f244-107">You'll find information about</span></span>

* <span data-ttu-id="5f244-108">Sicherheit im Kontext von Holographic-Remoting und warum Sie es möglicherweise benötigen</span><span class="sxs-lookup"><span data-stu-id="5f244-108">security in the context of Holographic Remoting and why you might need it</span></span>
* <span data-ttu-id="5f244-109">Empfohlene Measures, die auf verschiedenen Anwendungsfällen basieren</span><span class="sxs-lookup"><span data-stu-id="5f244-109">recommended measures based on different use cases</span></span>
* <span data-ttu-id="5f244-110">Implementieren der Sicherheit in ihrer Holographic-Remoting-Lösung</span><span class="sxs-lookup"><span data-stu-id="5f244-110">implementing security in your Holographic Remoting solution</span></span>

## <a name="overview"></a><span data-ttu-id="5f244-111">Übersicht</span><span class="sxs-lookup"><span data-stu-id="5f244-111">Overview</span></span>

<span data-ttu-id="5f244-112">Holographic Remoting tauscht Informationen über ein Netzwerk aus.</span><span class="sxs-lookup"><span data-stu-id="5f244-112">Holographic Remoting exchanges information over a network.</span></span> <span data-ttu-id="5f244-113">Wenn keine Sicherheitsmaßnahmen vorhanden sind, können Angreifer im selben Netzwerk die Integrität der Kommunikation beeinträchtigen oder auf vertrauliche Informationen zugreifen.</span><span class="sxs-lookup"><span data-stu-id="5f244-113">If no security measures are in place, adversaries on the same network may compromise the integrity of the communication or access confidential information.</span></span>

<span data-ttu-id="5f244-114">Die Beispiel-apps und der Holographic-Remoting-Player im Windows Store sind mit der Sicherheit deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="5f244-114">The sample apps and the Holographic Remoting Player in the Windows Store come with security disabled.</span></span> <span data-ttu-id="5f244-115">Dadurch lassen sich die Beispiele leichter verstehen.</span><span class="sxs-lookup"><span data-stu-id="5f244-115">Doing so makes the samples easier to understand.</span></span> <span data-ttu-id="5f244-116">Außerdem hilft es Ihnen, schneller mit der Entwicklung zu beginnen.</span><span class="sxs-lookup"><span data-stu-id="5f244-116">It also helps you to get started more quickly with development.</span></span>

<span data-ttu-id="5f244-117">Für Test-oder Produktionsumgebungen wird dringend empfohlen, die Sicherheit in ihrer Holographic Remoting-Lösung zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="5f244-117">For field testing or production, we strongly recommend enabling security in your Holographic Remoting solution.</span></span>

<span data-ttu-id="5f244-118">Die Sicherheit in Holographic Remoting bietet Ihnen die folgenden Garantien, wenn Sie für Ihren Anwendungsfall ordnungsgemäß eingerichtet ist:</span><span class="sxs-lookup"><span data-stu-id="5f244-118">Security in Holographic Remoting, when set up correctly for your use case, gives you the following guarantees:</span></span>

* <span data-ttu-id="5f244-119">**Authentizität:** sowohl Player als auch Remote-app können sicher sein, dass es sich bei der anderen Seite um</span><span class="sxs-lookup"><span data-stu-id="5f244-119">**Authenticity:** both player and remote app can be sure the other side is who they claim to be</span></span>
* <span data-ttu-id="5f244-120">**Vertraulichkeit:** Drittanbieter können die zwischen Player und Remote-app ausgetauschten Informationen nicht lesen.</span><span class="sxs-lookup"><span data-stu-id="5f244-120">**Confidentiality:** no third party can read the information exchanged between player and remote app</span></span>
* <span data-ttu-id="5f244-121">**Integrität:** Player und Remote können alle Übertragung von Änderungen an ihrer Kommunikation erkennen.</span><span class="sxs-lookup"><span data-stu-id="5f244-121">**Integrity:** player and remote can detect any in-transit changes to their communication</span></span>

>[!IMPORTANT]
><span data-ttu-id="5f244-122">Um Sicherheitsfeatures verwenden zu können, müssen Sie sowohl einen [benutzerdefinierten Player](holographic-remoting-create-player.md) als auch eine benutzerdefinierte Remote-App mithilfe von [Windows Mixed Reality](holographic-remoting-create-remote-wmr.md) oder [openxr](holographic-remoting-create-remote-openxr.md) -APIs implementieren.</span><span class="sxs-lookup"><span data-stu-id="5f244-122">To be able to use security features, you will need to implement both a [custom player](holographic-remoting-create-player.md) and a custom remote app using either [Windows Mixed Reality](holographic-remoting-create-remote-wmr.md) or [OpenXR](holographic-remoting-create-remote-openxr.md) APIs.</span></span>

>[!NOTE]
> <span data-ttu-id="5f244-123">Ab Version [2.4.0](holographic-remoting-version-history.md#v2.4.0) können Remote-apps, die die [openxr-API](../native/openxr.md) verwenden, erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="5f244-123">Starting with version [2.4.0](holographic-remoting-version-history.md#v2.4.0) remote apps using the [OpenXR API](../native/openxr.md) can be created.</span></span> <span data-ttu-id="5f244-124">Eine Übersicht über das Einrichten einer sicheren Verbindung in einer openxr-Umgebung finden Sie [unten](#secure-connection-using-the-openxr-api).</span><span class="sxs-lookup"><span data-stu-id="5f244-124">An overview on how to establish a secure connection in an OpenXR environment can be found [below](#secure-connection-using-the-openxr-api).</span></span>

## <a name="planning-the-security-implementation"></a><span data-ttu-id="5f244-125">Planen der Sicherheits Implementierung</span><span class="sxs-lookup"><span data-stu-id="5f244-125">Planning the security implementation</span></span>

<span data-ttu-id="5f244-126">Wenn Sie die Sicherheit in Holographic Remoting aktivieren, aktiviert die remotingbibliothek automatisch Verschlüsselungs-und Integritätsprüfungen für alle über das Netzwerk ausgetauschten Daten.</span><span class="sxs-lookup"><span data-stu-id="5f244-126">When you enable security in Holographic Remoting, the remoting library will automatically enable encryption and integrity checks for all data exchanged over the network.</span></span>

<span data-ttu-id="5f244-127">Um sicherzustellen, dass die richtige Authentifizierung erforderlich ist</span><span class="sxs-lookup"><span data-stu-id="5f244-127">Ensuring proper authentication requires some extra work though.</span></span> <span data-ttu-id="5f244-128">Was genau Sie tun müssen, hängt von Ihrem Anwendungsfall ab, und im weiteren Verlauf dieses Abschnitts werden die erforderlichen Schritte erläutert.</span><span class="sxs-lookup"><span data-stu-id="5f244-128">What exactly you need to do depends on your use case, and the rest of this section is about figuring out the necessary steps.</span></span>

>[!IMPORTANT]
> <span data-ttu-id="5f244-129">Dieser Artikel bietet nur einen allgemeinen Leitfaden.</span><span class="sxs-lookup"><span data-stu-id="5f244-129">This article can only provide general guidance.</span></span> <span data-ttu-id="5f244-130">Wenn Sie sich nicht sicher sind, sollten Sie sich an einen Sicherheitsexperten wenden, der Ihnen Anleitungen für Ihren Anwendungsfall bietet.</span><span class="sxs-lookup"><span data-stu-id="5f244-130">If you feel unsure, consider consulting a security expert that can give you guidance specific to your use case.</span></span>

<span data-ttu-id="5f244-131">Erste Terminologie: beim Beschreiben von Netzwerkverbindungen werden die Begriffe _Client_ und _Server_ verwendet.</span><span class="sxs-lookup"><span data-stu-id="5f244-131">First some terminology: when describing network connections, the terms _client_ and _server_ will be used.</span></span> <span data-ttu-id="5f244-132">Der Server lauscht auf eingehende Verbindungen mit einer bekannten Endpunkt Adresse, und der Client ist der Server, der eine Verbindung mit dem Endpunkt des Servers herstellt.</span><span class="sxs-lookup"><span data-stu-id="5f244-132">The server is the side listening for incoming connections on a known endpoint address, and the client is the one connecting to the server's endpoint.</span></span>

>[!NOTE]
> <span data-ttu-id="5f244-133">Die Client-und-Server Rollen sind nicht daran gebunden, ob eine App als Player oder als Remote fungiert.</span><span class="sxs-lookup"><span data-stu-id="5f244-133">The client and and server roles are not tied to whether an app is acting as a player or as a remote.</span></span> <span data-ttu-id="5f244-134">Obwohl die Beispiele den Player in der Server Rolle aufweisen, ist es einfach, die Rollen umzukehren, wenn Sie für Ihren Anwendungsfall besser geeignet sind.</span><span class="sxs-lookup"><span data-stu-id="5f244-134">While the samples have the player in the server role, it's easy to reverse the roles if it better fits your use case.</span></span>

### <a name="planning-the-server-to-client-authentication"></a><span data-ttu-id="5f244-135">Planen der Server-zu-Client-Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="5f244-135">Planning the server-to-client authentication</span></span>

<span data-ttu-id="5f244-136">Der Server verwendet digitale Zertifikate, um die Identität des Clients nachzuweisen.</span><span class="sxs-lookup"><span data-stu-id="5f244-136">The server uses digital certificates to prove its identity to the client.</span></span> <span data-ttu-id="5f244-137">Der Client überprüft das Serverzertifikat während der Verbindungs Hand Shake Phase.</span><span class="sxs-lookup"><span data-stu-id="5f244-137">The client validates the server's certificate during the connection handshake phase.</span></span> <span data-ttu-id="5f244-138">Wenn der Client den Server nicht als vertrauenswürdig einstuft, wird die Verbindung an dieser Stelle beendet.</span><span class="sxs-lookup"><span data-stu-id="5f244-138">If the client doesn't trust the server, it will end the connection at this point.</span></span>

<span data-ttu-id="5f244-139">Wie der Client das Serverzertifikat überprüft und welche Arten von Server Zertifikaten verwendet werden können, hängt von Ihrem Anwendungsfall ab.</span><span class="sxs-lookup"><span data-stu-id="5f244-139">How the client validates the server certificate, and what kinds of server certificates can be used, depends on your use case.</span></span>

<span data-ttu-id="5f244-140">**Anwendungsfall 1:** Der Server Hostname ist nicht korrigiert, oder der Server wird nicht durch den Hostnamen adressiert.</span><span class="sxs-lookup"><span data-stu-id="5f244-140">**Use case 1:** The server hostname isn't fixed, or the server isn't addressed by host name at all.</span></span>

<span data-ttu-id="5f244-141">In diesem Anwendungsfall ist es nicht praktikabel (oder sogar möglich), ein Zertifikat für den Hostnamen des Servers auszugeben.</span><span class="sxs-lookup"><span data-stu-id="5f244-141">In this use case, it isn't practical (or even possible) to issue a certificate for the server's host name.</span></span> <span data-ttu-id="5f244-142">Es wird empfohlen, stattdessen den Fingerabdruck des Zertifikats zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="5f244-142">We recommendation you validate the certificate's thumbprint instead.</span></span> <span data-ttu-id="5f244-143">Wie bei einem Menschen Fingerabdruck identifiziert der Fingerabdruck ein Zertifikat eindeutig.</span><span class="sxs-lookup"><span data-stu-id="5f244-143">Like a human fingerprint, the thumbprint uniquely identifies a certificate.</span></span>

<span data-ttu-id="5f244-144">Es ist wichtig, den Fingerabdruck out-of-Band an den Client zu übermitteln.</span><span class="sxs-lookup"><span data-stu-id="5f244-144">It's important to communicate the thumbprint to the client out-of-band.</span></span> <span data-ttu-id="5f244-145">Dies bedeutet, dass Sie Sie nicht über die gleiche Netzwerkverbindung, die für Remoting verwendet wird, senden können.</span><span class="sxs-lookup"><span data-stu-id="5f244-145">That means, you can't send it over the same network connection that's used for remoting.</span></span> <span data-ttu-id="5f244-146">Stattdessen können Sie Sie manuell in die Konfiguration des Clients eingeben oder den Client einen QR-Code Scannen lassen.</span><span class="sxs-lookup"><span data-stu-id="5f244-146">Instead, you could manually enter it into the client's configuration, or to have the client scan a QR code.</span></span>

<span data-ttu-id="5f244-147">**Anwendungsfall 2:** Der Server kann über einen stabilen Hostnamen erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="5f244-147">**Use case 2:** The server can be reached over a stable host name.</span></span>

<span data-ttu-id="5f244-148">In diesem Anwendungsfall verfügt der Server über einen bestimmten Hostnamen, und Sie wissen, dass sich dieser Name wahrscheinlich nicht ändert.</span><span class="sxs-lookup"><span data-stu-id="5f244-148">In this use case, the server has a specific host name, and you know this name isn't likely to change.</span></span> <span data-ttu-id="5f244-149">Sie können dann ein Zertifikat verwenden, das für den Hostnamen des Servers ausgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="5f244-149">You can then use a certificate issued to the server's host name.</span></span> <span data-ttu-id="5f244-150">Basierend auf dem Hostnamen und der Vertrauenskette des Zertifikats wird die Vertrauensstellung eingerichtet.</span><span class="sxs-lookup"><span data-stu-id="5f244-150">Trust will be established based on the host name and the certificate's chain of trust.</span></span>

<span data-ttu-id="5f244-151">Wenn Sie diese Option auswählen, muss der Client den Hostnamen des Servers und das Stamm Zertifikat im Voraus kennen.</span><span class="sxs-lookup"><span data-stu-id="5f244-151">If you choose this option, the client needs to know the server's host name and the root certificate in advance.</span></span>

### <a name="planning-the-client-to-server-authentication"></a><span data-ttu-id="5f244-152">Planen der Client-zu-Server-Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="5f244-152">Planning the client-to-server authentication</span></span>

<span data-ttu-id="5f244-153">Clients authentifizieren sich mit einem frei Form Token für den Server.</span><span class="sxs-lookup"><span data-stu-id="5f244-153">Clients authenticate against the server using a free-form token.</span></span> <span data-ttu-id="5f244-154">Was dieses Token enthalten sollte, hängt wieder von Ihrem Anwendungsfall ab:</span><span class="sxs-lookup"><span data-stu-id="5f244-154">What this token should contain will again depend on your use case:</span></span>

<span data-ttu-id="5f244-155">**Anwendungsfall 1:** Sie müssen nur die Identität der Client-App überprüfen.</span><span class="sxs-lookup"><span data-stu-id="5f244-155">**Use case 1:** You only need to verify the client app's identity.</span></span>

<span data-ttu-id="5f244-156">In diesem Anwendungsfall kann ein gemeinsamer geheimer Schlüssel ausreichen.</span><span class="sxs-lookup"><span data-stu-id="5f244-156">In this use case, a shared secret can be sufficient.</span></span> <span data-ttu-id="5f244-157">Dieser geheime Schlüssel muss komplex genug sein, damit er nicht erraten werden kann.</span><span class="sxs-lookup"><span data-stu-id="5f244-157">This secret must be complex enough that it can't be guessed.</span></span>

<span data-ttu-id="5f244-158">Ein guter gemeinsamer geheimer Schlüssel ist eine zufällige GUID, die manuell in der Konfiguration des Servers und des Clients eingegeben wird.</span><span class="sxs-lookup"><span data-stu-id="5f244-158">A good shared secret is a random GUID, which is manually entered in both the server's and client's configuration.</span></span> <span data-ttu-id="5f244-159">Zum Erstellen eines solchen können Sie z. b. den `New-Guid` Befehl in PowerShell verwenden.</span><span class="sxs-lookup"><span data-stu-id="5f244-159">To create one you can, for example, use the `New-Guid` command in PowerShell.</span></span>

<span data-ttu-id="5f244-160">Stellen Sie sicher, dass dieser gemeinsame geheime Schlüssel nie über unsichere Kanäle kommuniziert.</span><span class="sxs-lookup"><span data-stu-id="5f244-160">Make sure this shared secret is never communicated over insecure channels.</span></span> <span data-ttu-id="5f244-161">Die Remoting-Bibliothek stellt sicher, dass der gemeinsame geheime Schlüssel immer verschlüsselt und nur an vertrauenswürdige Peers gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="5f244-161">The remoting library ensures that the shared secret is always sent encrypted, and only to trusted peers.</span></span>

<span data-ttu-id="5f244-162">**Anwendungsfall 2:** Außerdem müssen Sie die Identität des Benutzers der Client-App überprüfen.</span><span class="sxs-lookup"><span data-stu-id="5f244-162">**Use case 2:** You also need to verify the identity of the client app's user.</span></span>

<span data-ttu-id="5f244-163">Ein gemeinsamer geheimer Schlüssel reicht nicht aus, um diesen Anwendungsfall abzudecken.</span><span class="sxs-lookup"><span data-stu-id="5f244-163">A shared secret won't be enough to cover this use case.</span></span> <span data-ttu-id="5f244-164">Stattdessen können Sie Token verwenden, die von einem Identitäts Anbieter erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="5f244-164">Instead, you can use tokens created by an identity provider.</span></span> <span data-ttu-id="5f244-165">Ein Authentifizierungs Workflow, der einen Identitäts Anbieter verwendet, sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="5f244-165">An authentication workflow using an identity provider would look like this:</span></span>

* <span data-ttu-id="5f244-166">Der Client autorisiert sich für den Identitäts Anbieter und fordert ein Token an.</span><span class="sxs-lookup"><span data-stu-id="5f244-166">The client authorizes against the identity provider and requests a token</span></span>
* <span data-ttu-id="5f244-167">Der Identitäts Anbieter generiert ein Token und sendet es an den Client.</span><span class="sxs-lookup"><span data-stu-id="5f244-167">The identity provider generates a token and sends it to the client</span></span>
* <span data-ttu-id="5f244-168">Der Client sendet dieses Token über Holographic Remoting an den Server.</span><span class="sxs-lookup"><span data-stu-id="5f244-168">The client sends this token to the server through Holographic Remoting</span></span>
* <span data-ttu-id="5f244-169">Der Server überprüft das Client Token anhand des Identitäts Anbieters.</span><span class="sxs-lookup"><span data-stu-id="5f244-169">The server validates the client's token against the identity provider</span></span>

<span data-ttu-id="5f244-170">Ein Beispiel für einen Identitäts Anbieter ist die [Microsoft Identity Platform](https://docs.microsoft.com/azure/active-directory/develop/).</span><span class="sxs-lookup"><span data-stu-id="5f244-170">One example of an identity provider is the [Microsoft identity platform](https://docs.microsoft.com/azure/active-directory/develop/).</span></span>

<span data-ttu-id="5f244-171">Stellen Sie wie im vorherigen Anwendungsfall sicher, dass diese Token nicht über unsichere Kanäle gesendet werden oder anderweitig verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="5f244-171">Like in the previous use case, make sure these tokens aren't sent through insecure channels or otherwise exposed.</span></span>

## <a name="implementing-holographic-remoting-security"></a><span data-ttu-id="5f244-172">Implementieren von Holographic Remoting Security</span><span class="sxs-lookup"><span data-stu-id="5f244-172">Implementing holographic remoting security</span></span>

<span data-ttu-id="5f244-173">Denken Sie daran, dass Sie benutzerdefinierte Remote-und Player-apps implementieren müssen, wenn Sie die Verbindungssicherheit aktivieren möchten.</span><span class="sxs-lookup"><span data-stu-id="5f244-173">Remember that you need to implement custom remote and player apps if you want to enable connection security.</span></span> <span data-ttu-id="5f244-174">Sie können die bereitgestellten Beispiele als Ausgangspunkte für Ihre eigenen Apps verwenden.</span><span class="sxs-lookup"><span data-stu-id="5f244-174">You can use the provided samples as starting points for your own apps.</span></span>

<span data-ttu-id="5f244-175">Um die Sicherheit zu aktivieren, wird `ListenSecure()` anstelle von `Listen()` und `ConnectSecure()` anstelle von aufgerufen, `Connect()` um die Remoting-Verbindung herzustellen.</span><span class="sxs-lookup"><span data-stu-id="5f244-175">To enable security, call `ListenSecure()` instead of `Listen()`, and `ConnectSecure()` instead of `Connect()` to establish the remoting connection.</span></span>

<span data-ttu-id="5f244-176">Diese Aufrufe erfordern, dass Sie Implementierungen bestimmter Schnittstellen bereitstellen, um sicherheitsrelevante Informationen bereitzustellen und zu überprüfen:</span><span class="sxs-lookup"><span data-stu-id="5f244-176">These calls require you to provide implementations of certain interfaces for providing and validating security-related information:</span></span>

* <span data-ttu-id="5f244-177">Der Server muss einen Zertifikat Anbieter und ein Authentifizierungs Validierungs Steuerelement implementieren.</span><span class="sxs-lookup"><span data-stu-id="5f244-177">The server needs to implement a certificate provider and an authentication validator</span></span>
* <span data-ttu-id="5f244-178">Der Client muss einen Authentifizierungs Anbieter und ein zertifikatvalidator implementieren.</span><span class="sxs-lookup"><span data-stu-id="5f244-178">The client needs to implement an authentication provider and a certificate validator.</span></span>

<span data-ttu-id="5f244-179">Alle Schnittstellen verfügen über eine Funktion, die Sie anfordert, Maßnahmen zu ergreifen, die ein Rückruf Objekt als Parameter empfängt.</span><span class="sxs-lookup"><span data-stu-id="5f244-179">All interfaces have a function requesting you to take action, which receives a callback object as parameter.</span></span> <span data-ttu-id="5f244-180">Mithilfe dieses Objekts können Sie die asynchrone Verarbeitung der Anforderung problemlos implementieren.</span><span class="sxs-lookup"><span data-stu-id="5f244-180">Using this object, you can easily implement asynchronous handling of the request.</span></span> <span data-ttu-id="5f244-181">Behalten Sie einen Verweis auf dieses Objekt bei, und nennen Sie die Vervollständigungsfunktion, wenn die asynchrone Aktion abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="5f244-181">Keep a reference to this object, and call the completion function when the asynchronous action is complete.</span></span> <span data-ttu-id="5f244-182">Die Vervollständigungsfunktion kann von jedem Thread aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="5f244-182">The completion function may be called from any thread.</span></span>

>[!TIP]
><span data-ttu-id="5f244-183">Das Implementieren von WinRT-Schnittstellen kann problemlos mithilfe von C++ erfolgen./WinRT.</span><span class="sxs-lookup"><span data-stu-id="5f244-183">Implementing WinRT interfaces can easily be done using C++/WinRT.</span></span> <span data-ttu-id="5f244-184">Im Kapitel " [Autoren-APIs mit C++/WinRT](https://docs.microsoft.com//windows/uwp/cpp-and-winrt-apis/author-apis) " wird dies ausführlich beschrieben.</span><span class="sxs-lookup"><span data-stu-id="5f244-184">The [Author APIs with C++/WinRT](https://docs.microsoft.com//windows/uwp/cpp-and-winrt-apis/author-apis) chapter describes this in detail.</span></span>

>[!IMPORTANT]
><span data-ttu-id="5f244-185">Der `build\native\include\HolographicAppRemoting\Microsoft.Holographic.AppRemoting.idl` im nuget-Paket enthält eine ausführliche Dokumentation für die API, die sich auf sichere Verbindungen bezieht.</span><span class="sxs-lookup"><span data-stu-id="5f244-185">The `build\native\include\HolographicAppRemoting\Microsoft.Holographic.AppRemoting.idl` inside the NuGet package contains detailed documentation for the API related to secure connections.</span></span>

### <a name="implementing-a-certificate-provider"></a><span data-ttu-id="5f244-186">Implementieren eines Zertifikat Anbieters</span><span class="sxs-lookup"><span data-stu-id="5f244-186">Implementing a certificate provider</span></span>

<span data-ttu-id="5f244-187">Zertifikat Anbieter stellen die Serveranwendung mit dem zu verwendenden Zertifikat bereit.</span><span class="sxs-lookup"><span data-stu-id="5f244-187">Certificate providers supply the server application with the certificate to use.</span></span> <span data-ttu-id="5f244-188">Die-Implementierung besteht aus zwei Teilen:</span><span class="sxs-lookup"><span data-stu-id="5f244-188">The implementation consists of two parts:</span></span>

1) <span data-ttu-id="5f244-189">Ein Zertifikat Objekt, das die- `ICertificate` Schnittstelle implementiert:</span><span class="sxs-lookup"><span data-stu-id="5f244-189">A certificate object, which implements the `ICertificate` interface:</span></span>

    * <span data-ttu-id="5f244-190">`GetCertificatePfx()` sollte den binären Inhalt eines `PKCS#12` Zertifikat Speicher zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="5f244-190">`GetCertificatePfx()` should return the binary contents of a `PKCS#12` certificate store.</span></span> <span data-ttu-id="5f244-191">Eine `.pfx` Datei enthält `PKCS#12` Daten, sodass Ihr Inhalt direkt hier verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5f244-191">A `.pfx` file contains `PKCS#12` data, so its contents can be used directly here.</span></span>
    * <span data-ttu-id="5f244-192">`GetSubjectName()` Gibt den anzeigen Amen zurück, der das zu verwendende Zertifikat identifiziert.</span><span class="sxs-lookup"><span data-stu-id="5f244-192">`GetSubjectName()` should return the friendly name that identifies the certificate to use.</span></span> <span data-ttu-id="5f244-193">Wenn dem Zertifikat kein Anzeige Name zugewiesen ist, sollte diese Funktion den Antragsteller Namen des Zertifikats zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="5f244-193">If no friendly name is assigned to the certificate, this function should return the certificate's subject name.</span></span>
    * <span data-ttu-id="5f244-194">`GetPfxPassword()` Gibt das Kennwort zurück, das zum Öffnen des Zertifikat Speicher erforderlich ist (oder eine leere Zeichenfolge, wenn kein Kennwort erforderlich ist).</span><span class="sxs-lookup"><span data-stu-id="5f244-194">`GetPfxPassword()` should return the password required to open the certificate store (or an empty string if no password is required).</span></span>

2) <span data-ttu-id="5f244-195">Ein Zertifikat Anbieter, der die- `ICertificateProvider` Schnittstelle implementiert:</span><span class="sxs-lookup"><span data-stu-id="5f244-195">A certificate provider implementing the `ICertificateProvider` interface:</span></span>
    * <span data-ttu-id="5f244-196">`GetCertificate()` sollte ein Zertifikat Objekt erstellen und durch Aufrufen von `CertificateReceived()` für das Rückruf Objekt zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="5f244-196">`GetCertificate()` should construct a certificate object and return it by calling `CertificateReceived()` on the callback object.</span></span>

### <a name="implementing-an-authentication-validator"></a><span data-ttu-id="5f244-197">Implementieren eines Authentifizierungs Validierungs Steuer Elements</span><span class="sxs-lookup"><span data-stu-id="5f244-197">Implementing an authentication validator</span></span>

<span data-ttu-id="5f244-198">Authentifizierungs Validierungs Steuerelemente empfangen das vom Client gesendete Authentifizierungs Token und Antworten mit dem Überprüfungs Ergebnis.</span><span class="sxs-lookup"><span data-stu-id="5f244-198">Authentication validators receive the authentication token sent by the client, and answer back with the validation result.</span></span>

<span data-ttu-id="5f244-199">Implementieren Sie die- `IAuthenticationReceiver` Schnittstelle wie folgt:</span><span class="sxs-lookup"><span data-stu-id="5f244-199">Implement the `IAuthenticationReceiver` interface as follows:</span></span>

* <span data-ttu-id="5f244-200">`GetRealm()` sollte den Namen des Authentifizierungs Bereichs (ein HTTP-Bereich, der während des Remoting-verbindungshandshakes verwendet wird) zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="5f244-200">`GetRealm()` should return the name of the authentication realm (an HTTP realm  used during the remoting connection handshake).</span></span>
* <span data-ttu-id="5f244-201">`ValidateToken()` sollte das Client Authentifizierungs Token überprüfen und `ValidationCompleted()` für das Rückruf Objekt mit dem Validierungs Ergebnis aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="5f244-201">`ValidateToken()` should validate the client authentication token and call `ValidationCompleted()` on the callback object with the validation result.</span></span>

### <a name="implementing-an-authentication-provider"></a><span data-ttu-id="5f244-202">Implementieren eines Authentifizierungs Anbieters</span><span class="sxs-lookup"><span data-stu-id="5f244-202">Implementing an authentication provider</span></span>

<span data-ttu-id="5f244-203">Authentifizierungs Anbieter generieren oder rufen das Authentifizierungs Token ab, das an den Server gesendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="5f244-203">Authentication providers generate or retrieve the authentication token to be sent to the server.</span></span>

<span data-ttu-id="5f244-204">Implementieren Sie die- `IAuthenticationProvider` Schnittstelle wie folgt:</span><span class="sxs-lookup"><span data-stu-id="5f244-204">Implement the `IAuthenticationProvider` interface as follows:</span></span>

* <span data-ttu-id="5f244-205">`GetToken()` soll das zu sendende Authentifizierungs Token generieren oder abrufen.</span><span class="sxs-lookup"><span data-stu-id="5f244-205">`GetToken()` should generate or retrieve the authentication token to be sent.</span></span> <span data-ttu-id="5f244-206">Wenn das Token bereit ist, rufen Sie die- `TokenReceived()` Methode für das Rückruf Objekt auf.</span><span class="sxs-lookup"><span data-stu-id="5f244-206">Once the token is ready, call the `TokenReceived()` method on the callback object.</span></span>

### <a name="implementing-a-certificate-validator"></a><span data-ttu-id="5f244-207">Implementieren eines zertifikatvalidator</span><span class="sxs-lookup"><span data-stu-id="5f244-207">Implementing a certificate validator</span></span>

<span data-ttu-id="5f244-208">Zertifikat Validierungs Steuerelemente empfangen die vom Server gesendete Zertifikatskette und ermitteln, ob der Server vertrauenswürdig ist.</span><span class="sxs-lookup"><span data-stu-id="5f244-208">Certificate validators receive the certificate chain sent by the server and determine whether the server can be trusted.</span></span>

<span data-ttu-id="5f244-209">Zum Überprüfen von Zertifikaten können Sie die Validierungs Logik des zugrunde liegenden Systems verwenden.</span><span class="sxs-lookup"><span data-stu-id="5f244-209">To validate certificates, you can use the validation logic of the underlying system.</span></span> <span data-ttu-id="5f244-210">Diese Systemvalidierung kann entweder Ihre eigene Validierungs Logik unterstützen oder Sie vollständig ersetzen.</span><span class="sxs-lookup"><span data-stu-id="5f244-210">This system validation can either support your own validation logic, or replace it altogether.</span></span> <span data-ttu-id="5f244-211">Wenn Sie Ihr eigenes Zertifikat Validierungs Steuerelement nicht übergeben, wenn Sie eine sichere Verbindung anfordern, wird die Systemvalidierung automatisch verwendet.</span><span class="sxs-lookup"><span data-stu-id="5f244-211">If you don't pass your own certificate validator when requesting a secure connection, system validation will be used automatically.</span></span>

<span data-ttu-id="5f244-212">Unter Windows prüft die Systemvalidierung Folgendes:</span><span class="sxs-lookup"><span data-stu-id="5f244-212">On Windows, the system validation will check for:</span></span>

* <span data-ttu-id="5f244-213">Integrität der Zertifikat Kette: die Zertifikate bilden eine konsistente Kette, die auf einem vertrauenswürdigen Stamm Zertifikat endet.</span><span class="sxs-lookup"><span data-stu-id="5f244-213">Integrity of the certificate chain: the certificates form a consistent chain that ends at a trusted root certificate</span></span>
* <span data-ttu-id="5f244-214">Gültigkeit des Zertifikats: das Zertifikat des Servers liegt innerhalb seines Gültigkeits Zeitraums und wird für die Server Authentifizierung ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="5f244-214">Certificate validity: the server's certificate is within its validity timespan, and is issued for server authentication</span></span>
* <span data-ttu-id="5f244-215">Sperrung: das Zertifikat wurde nicht widerrufen.</span><span class="sxs-lookup"><span data-stu-id="5f244-215">Revocation: The certificate hasn't been revoked</span></span>
* <span data-ttu-id="5f244-216">Namens Übereinstimmung: der Hostname des Servers stimmt mit einem der Hostnamen überein, für die das Zertifikat ausgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="5f244-216">Name match: The host name of the server matches one of the host names the certificate was issued for</span></span>

<span data-ttu-id="5f244-217">Implementieren Sie die- `ICertificateValidator` Schnittstelle wie folgt:</span><span class="sxs-lookup"><span data-stu-id="5f244-217">Implement the `ICertificateValidator` interface as follows:</span></span>

 * <span data-ttu-id="5f244-218">`PerformSystemValidation()` sollte zurückgeben, `true` Wenn eine Systemvalidierung wie oben beschrieben ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="5f244-218">`PerformSystemValidation()` should return `true` if a system validation as described above should be performed.</span></span> <span data-ttu-id="5f244-219">In diesem Fall wird das Ergebnis der Systemvalidierung als Eingabe an die-Methode übermittelt `ValidateCertificate()` .</span><span class="sxs-lookup"><span data-stu-id="5f244-219">In this case, the system validation result is passed as an input to the `ValidateCertificate()` method.</span></span>
* <span data-ttu-id="5f244-220">`ValidateCertificate()` Überprüfen Sie die Zertifikat Kette, und rufen Sie dann `CertificateValidated()` für den übergebenen Rückruf mit dem abschließenden Validierungs Ergebnis auf.</span><span class="sxs-lookup"><span data-stu-id="5f244-220">`ValidateCertificate()` should validate the certificate chain and then call `CertificateValidated()` on the passed callback with the final validation result.</span></span> <span data-ttu-id="5f244-221">Diese Methode akzeptiert die Zertifikatskette, den Namen des Servers, mit dem die Verbindung hergestellt wird, und gibt an, ob eine Sperr Überprüfung erzwungen werden soll.</span><span class="sxs-lookup"><span data-stu-id="5f244-221">This method accepts the certificate chain, the name of the server the connection is being established with, and whether a revocation check should be forced.</span></span> <span data-ttu-id="5f244-222">Wenn die Zertifikat Kette mehrere Zertifikate enthält, ist die erste Zertifikat Kette das Zertifikat des Antragstellers.</span><span class="sxs-lookup"><span data-stu-id="5f244-222">If the certificate chain contains multiple certificates, the first one is the subject certificate.</span></span>

>[!NOTE]
><span data-ttu-id="5f244-223">Wenn Ihr Anwendungsfall eine andere Form der Überprüfung erfordert (siehe #1 oben), umgehen Sie die Systemvalidierung vollständig.</span><span class="sxs-lookup"><span data-stu-id="5f244-223">If your use case requires a different form of validation (see certificate use case #1 above), bypass system validation entirely.</span></span> <span data-ttu-id="5f244-224">Verwenden Sie stattdessen eine beliebige API oder Bibliothek, mit der die-codierten X. 509-Zertifikate verarbeitet werden können, um die Zertifikat Kette zu decodieren und die für Ihren Anwendungsfall erforderlichen Überprüfungen auszuführen.</span><span class="sxs-lookup"><span data-stu-id="5f244-224">Instead, use any API or library that can handle DER-encoded X.509 certificates to decode the certificate chain and perform the checks needed for your use case.</span></span>

## <a name="secure-connection-using-the-openxr-api"></a><span data-ttu-id="5f244-225">Sichere Verbindung mithilfe der openxr-API</span><span class="sxs-lookup"><span data-stu-id="5f244-225">Secure connection using the OpenXR API</span></span>

<span data-ttu-id="5f244-226">Wenn Sie die [openxr-API](../native/openxr.md) verwenden, ist die gesamte sichere verbindungsbezogene API als Teil der `XR_MSFT_holographic_remoting` openxr-Erweiterung verfügbar.</span><span class="sxs-lookup"><span data-stu-id="5f244-226">When using the [OpenXR API](../native/openxr.md) all secure connection-related API is available as part of the `XR_MSFT_holographic_remoting` OpenXR extension.</span></span>

>[!IMPORTANT]
><span data-ttu-id="5f244-227">Weitere Informationen zur API für die Holographic Remoting openxr-Erweiterung finden Sie in der [Spezifikation](https://htmlpreview.github.io/?https://github.com/microsoft/MixedReality-HolographicRemoting-Samples/blob/master/remote_openxr/specification.html) , die im [GitHub-Repository "Holographic Remoting Samples](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples)" zu finden ist.</span><span class="sxs-lookup"><span data-stu-id="5f244-227">To learn about the Holographic Remoting OpenXR extension API, check out the [specification](https://htmlpreview.github.io/?https://github.com/microsoft/MixedReality-HolographicRemoting-Samples/blob/master/remote_openxr/specification.html) which can be found in the [Holographic Remoting samples github repository](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples).</span></span>

<span data-ttu-id="5f244-228">Die wichtigsten Elemente für eine sichere Verbindung mit der `XR_MSFT_holographic_remoting` openxr-Erweiterung sind die folgenden Rückrufe.</span><span class="sxs-lookup"><span data-stu-id="5f244-228">The key elements for secure connection using the `XR_MSFT_holographic_remoting` OpenXR extension are the following callbacks.</span></span>
- <span data-ttu-id="5f244-229">`xrRemotingRequestAuthenticationTokenCallbackMSFT`, generiert oder ruft das zu sendende Authentifizierungs Token ab.</span><span class="sxs-lookup"><span data-stu-id="5f244-229">`xrRemotingRequestAuthenticationTokenCallbackMSFT`, generates, or retrieves the authentication token to be sent.</span></span>
- <span data-ttu-id="5f244-230">`xrRemotingValidateServerCertificateCallbackMSFT`, überprüft die Zertifikat Kette.</span><span class="sxs-lookup"><span data-stu-id="5f244-230">`xrRemotingValidateServerCertificateCallbackMSFT`, validates the certificate chain.</span></span>
- <span data-ttu-id="5f244-231">`xrRemotingValidateAuthenticationTokenCallbackMSFT`überprüft das Client Authentifizierungs Token.</span><span class="sxs-lookup"><span data-stu-id="5f244-231">`xrRemotingValidateAuthenticationTokenCallbackMSFT`, validates the client authentication token.</span></span>
- <span data-ttu-id="5f244-232">`xrRemotingRequestServerCertificateCallbackMSFT`, stellen Sie die Serveranwendung mit dem zu verwendenden Zertifikat bereit.</span><span class="sxs-lookup"><span data-stu-id="5f244-232">`xrRemotingRequestServerCertificateCallbackMSFT`, supply the server application with the certificate to use.</span></span>

<span data-ttu-id="5f244-233">Diese Rückrufe können für die Remoting openxr Runtime über und bereitgestellt werden `xrRemotingSetSecureConnectionClientCallbacksMSFT` `xrRemotingSetSecureConnectionServerCallbacksMSFT` .</span><span class="sxs-lookup"><span data-stu-id="5f244-233">These callbacks can be provided to the remoting OpenXR runtime via `xrRemotingSetSecureConnectionClientCallbacksMSFT` and `xrRemotingSetSecureConnectionServerCallbacksMSFT`.</span></span> <span data-ttu-id="5f244-234">Außerdem muss die sichere Verbindung über den secureconnection-Parameter für die `XrRemotingConnectInfoMSFT` Struktur oder die Struktur aktiviert werden, abhängig davon, `XrRemotingListenInfoMSFT` ob Sie `xrRemotingConnectMSFT` oder verwenden `xrRemotingListenMSFT` .</span><span class="sxs-lookup"><span data-stu-id="5f244-234">Additionally, the secure connection needs to be enabled via the secureConnection parameter on the `XrRemotingConnectInfoMSFT` structure or the `XrRemotingListenInfoMSFT` structure depending on whether you're using `xrRemotingConnectMSFT` or `xrRemotingListenMSFT`.</span></span>

<span data-ttu-id="5f244-235">Diese API ähnelt der IDL-basierten API, die unter [Implementieren von Holographic Remoting Security](#implementing-holographic-remoting-security)beschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="5f244-235">This API is similar to the IDL-based API described in [Implementing holographic remoting security](#implementing-holographic-remoting-security).</span></span> <span data-ttu-id="5f244-236">Anstatt Schnittstellen zu implementieren, sollten Sie jedoch Rückruf Implementierungen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="5f244-236">However, instead of implementing interfaces, you're supposed to provide callback implementations.</span></span> <span data-ttu-id="5f244-237">Ein ausführliches Beispiel finden Sie in der [openxr](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples)-Beispiel-app.</span><span class="sxs-lookup"><span data-stu-id="5f244-237">You can find a detailed example in the [OpenXR sample app](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples).</span></span>

## <a name="see-also"></a><span data-ttu-id="5f244-238">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="5f244-238">See Also</span></span>
* [<span data-ttu-id="5f244-239">Schreiben einer Holographic Remoting-Remote-app mit Windows Mixed Reality-APIs</span><span class="sxs-lookup"><span data-stu-id="5f244-239">Writing a Holographic Remoting remote app using Windows Mixed Reality APIs</span></span>](holographic-remoting-create-remote-wmr.md)
* [<span data-ttu-id="5f244-240">Schreiben einer Holographic Remoting-Remote-App mithilfe von openxr-APIs</span><span class="sxs-lookup"><span data-stu-id="5f244-240">Writing a Holographic Remoting remote app using OpenXR APIs</span></span>](holographic-remoting-create-remote-openxr.md)
* [<span data-ttu-id="5f244-241">Schreiben einer benutzerdefinierten Holographic Remoting Player-App</span><span class="sxs-lookup"><span data-stu-id="5f244-241">Writing a custom Holographic Remoting player app</span></span>](holographic-remoting-create-player.md)
* [<span data-ttu-id="5f244-242">Problembehandlung und Einschränkungen für Holographic Remoting</span><span class="sxs-lookup"><span data-stu-id="5f244-242">Holographic Remoting troubleshooting and limitations</span></span>](holographic-remoting-troubleshooting.md)
* [<span data-ttu-id="5f244-243">Holographic Remoting-Software – Lizenzbedingungen</span><span class="sxs-lookup"><span data-stu-id="5f244-243">Holographic Remoting software license terms</span></span>](https://docs.microsoft.com//legal/mixed-reality/microsoft-holographic-remoting-software-license-terms)
* [<span data-ttu-id="5f244-244">Datenschutzerklärung von Microsoft</span><span class="sxs-lookup"><span data-stu-id="5f244-244">Microsoft Privacy Statement</span></span>](https://go.microsoft.com/fwlink/?LinkId=521839)
