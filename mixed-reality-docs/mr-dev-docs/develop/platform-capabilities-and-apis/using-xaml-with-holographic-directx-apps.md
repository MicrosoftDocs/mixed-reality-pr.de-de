---
title: Verwenden von XAML mit holographischen DirectX-Apps
description: Erläutert die Auswirkungen des Wechsels zwischen 2D-XAML-Ansichten und immersiven Sichten in Ihrer DirectX-App sowie die effiziente Verwendung einer XAML-Ansicht und einer immersiven Ansicht.
author: mikeriches
ms.author: mriches
ms.date: 08/04/2020
ms.topic: article
keywords: Windows Mixed Reality, UWP, App-Ansichts Verwaltung, XAML, Tastatur, Exemplarische Vorgehensweise, DirectX
ms.openlocfilehash: 4908ffbded879709c848a4d767c35a150aa3dfba
ms.sourcegitcommit: 09599b4034be825e4536eeb9566968afd021d5f3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/03/2020
ms.locfileid: "91683376"
---
# <a name="using-xaml-with-holographic-directx-apps"></a><span data-ttu-id="5d188-104">Verwenden von XAML mit holographischen DirectX-Apps</span><span class="sxs-lookup"><span data-stu-id="5d188-104">Using XAML with holographic DirectX apps</span></span>

> [!NOTE]
> <span data-ttu-id="5d188-105">Dieser Artikel bezieht sich auf die älteren WinRT-APIs.</span><span class="sxs-lookup"><span data-stu-id="5d188-105">This article relates to the legacy WinRT native APIs.</span></span>  <span data-ttu-id="5d188-106">Bei neuen nativen App-Projekten wird die Verwendung der **[openxr-API](../native/openxr-getting-started.md)** empfohlen.</span><span class="sxs-lookup"><span data-stu-id="5d188-106">For new native app projects, we recommend using the **[OpenXR API](../native/openxr-getting-started.md)** .</span></span>

<span data-ttu-id="5d188-107">In diesem Thema wird erläutert, wie sich der Wechsel zwischen [2D-XAML-Ansichten und immersiven Sichten](../../design/app-views.md) in Ihrer DirectX-APP und die effiziente Verwendung einer XAML-Ansicht und der immersiven Ansicht Unternehmen.</span><span class="sxs-lookup"><span data-stu-id="5d188-107">This topic explains the impact of switching between [2D XAML views and immersive views](../../design/app-views.md) in your DirectX app, and how to make efficient use of both a XAML view and immersive view.</span></span>

## <a name="xaml-view-switching-overview"></a><span data-ttu-id="5d188-108">Übersicht über das Wechseln der XAML-Ansicht</span><span class="sxs-lookup"><span data-stu-id="5d188-108">XAML view switching overview</span></span>

<span data-ttu-id="5d188-109">Bei hololens muss eine im allgemeinen immersive APP, die später eine 2D-XAML-Ansicht anzeigen kann, die XAML-Ansicht zunächst initialisieren und sofort zu einer immersiven Ansicht wechseln.</span><span class="sxs-lookup"><span data-stu-id="5d188-109">On HoloLens, a generally immersive app that may later display a 2D XAML view must initialize that XAML view first and immediately switch to an immersive view from there.</span></span> <span data-ttu-id="5d188-110">Dies bedeutet, dass XAML geladen wird, bevor Ihre APP etwas Unternehmen kann.</span><span class="sxs-lookup"><span data-stu-id="5d188-110">This means XAML will load before your app can do anything.</span></span> <span data-ttu-id="5d188-111">Dies führt zu einer geringen Erhöhung der Startzeit, und XAML belegt weiterhin Speicherplatz in Ihrem App-Prozess, während er sich im Hintergrund befindet. die Menge der Startverzögerung und Speicherauslastung hängt davon ab, was Ihre APP mit XAML durchführt, bevor Sie zur systemeigenen Ansicht gewechselt wird.</span><span class="sxs-lookup"><span data-stu-id="5d188-111">As a result, there will be a small increase in your startup time, and XAML will continue to occupy memory space in your app process while it resides in the background; the amount of startup delay and memory usage depends on what your app does with XAML before switching to the native view.</span></span> <span data-ttu-id="5d188-112">Wenn Sie in Ihrem XAML-Start Code zunächst nur beginnen, wenn Sie mit der immersiven Ansicht beginnen, sollte die Auswirkung gering sein.</span><span class="sxs-lookup"><span data-stu-id="5d188-112">If you do nothing in your XAML start up code at first except start your immersive view, the impact should be minor.</span></span> <span data-ttu-id="5d188-113">Da Ihr holografisches Rendering direkt in der immersiven Ansicht erfolgt, vermeiden Sie außerdem alle XAML-bezogenen Einschränkungen für dieses Rendering.</span><span class="sxs-lookup"><span data-stu-id="5d188-113">Also, because your holographic rendering is done directly to the immersive view, you will avoid any XAML-related restrictions on that rendering.</span></span>

<span data-ttu-id="5d188-114">Beachten Sie, dass die Speicherauslastung für CPU und GPU angerechnet wird.</span><span class="sxs-lookup"><span data-stu-id="5d188-114">Note that the memory usage counts for both CPU and GPU.</span></span> <span data-ttu-id="5d188-115">Direct3D 11 kann den virtuellen Grafikspeicher austauschen, kann jedoch möglicherweise einige oder alle XAML-GPU-Ressourcen nicht austauschen, und es kann zu einem spürbaren Leistungseinbußen kommen.</span><span class="sxs-lookup"><span data-stu-id="5d188-115">Direct3D 11 is able to swap virtual graphics memory, but it might not be able to swap out some or all of the XAML GPU resources, and there might be a noticeable performance hit.</span></span> <span data-ttu-id="5d188-116">In beiden Fällen bleibt das Laden von XAML-Features, die Sie nicht benötigen, für Ihre APP mehr Platz und bietet eine bessere Benutzer Leistung.</span><span class="sxs-lookup"><span data-stu-id="5d188-116">Either way, not loading any XAML features you don't need will leave more room for your app and provide a better experience.</span></span>

## <a name="xaml-view-switching-workflow"></a><span data-ttu-id="5d188-117">Workflow für die XAML-Ansichts Umstellung</span><span class="sxs-lookup"><span data-stu-id="5d188-117">XAML view switching workflow</span></span>

<span data-ttu-id="5d188-118">Der Workflow für eine APP, die direkt von XAML in den immersiven Modus wechselt, sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="5d188-118">The workflow for an app that goes directly from XAML to immersive mode is like so:</span></span>
* <span data-ttu-id="5d188-119">Die APP startet in der 2D-XAML-Ansicht.</span><span class="sxs-lookup"><span data-stu-id="5d188-119">The app starts up in the 2D XAML view.</span></span>
* <span data-ttu-id="5d188-120">Die XAML-Startsequenz der APP erkennt, ob das aktuelle System Holographic-Rendering unterstützt:</span><span class="sxs-lookup"><span data-stu-id="5d188-120">The app’s XAML startup sequence detects if the current system supports holographic rendering:</span></span>
* <span data-ttu-id="5d188-121">Wenn dies der Fall ist, erstellt die APP die immersive Ansicht und bringt Sie sofort in den Vordergrund.</span><span class="sxs-lookup"><span data-stu-id="5d188-121">If so, the app creates the immersive view and brings it to the foreground right away.</span></span> <span data-ttu-id="5d188-122">Das Laden von XAML wird für alles, was auf Windows Mixed Reality-Geräten nicht erforderlich ist, ausgelassen, einschließlich aller Renderingklassen und Laden von Assets in der XAML-Ansicht.</span><span class="sxs-lookup"><span data-stu-id="5d188-122">XAML loading is skipped for anything not necessary on Windows Mixed Reality devices, including any rendering classes and asset loading in the XAML view.</span></span> <span data-ttu-id="5d188-123">Wenn die APP XAML für Tastatureingaben verwendet, sollte diese Eingabe Seite weiterhin erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="5d188-123">If the app is using XAML for keyboard input, that input page should still be created.</span></span>
* <span data-ttu-id="5d188-124">Andernfalls kann die XAML-Ansicht das Unternehmen wie gewohnt fortsetzen.</span><span class="sxs-lookup"><span data-stu-id="5d188-124">If not, the XAML view can proceed with business as usual.</span></span>

## <a name="tip-for-rendering-graphics-across-both-views"></a><span data-ttu-id="5d188-125">Tipp zum Rendern von Grafiken in beiden Ansichten</span><span class="sxs-lookup"><span data-stu-id="5d188-125">Tip for rendering graphics across both views</span></span>

<span data-ttu-id="5d188-126">Wenn Ihre APP eine gewisse Menge an Rendering in DirectX für die XAML-Ansicht in Windows Mixed Reality implementieren muss, besteht die beste Lösung darin, einen Renderer zu erstellen, der mit beiden Ansichten arbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="5d188-126">If your app needs to implement some amount of rendering in DirectX for the XAML view in Windows Mixed Reality, your best bet is to create one renderer that can work with both views.</span></span> <span data-ttu-id="5d188-127">Der Renderer muss eine Instanz sein, auf die von beiden Ansichten aus zugegriffen werden kann, und Sie sollte in der Lage sein, zwischen dem 2D-und dem Holographic-Rendering zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="5d188-127">The renderer should be one instance that can be accessed from both views, and it should be able to switch between 2D and holographic rendering.</span></span> <span data-ttu-id="5d188-128">Auf diese Weise werden GPU-Assets nur einmal geladen. Dies reduziert die Ladezeiten, die Arbeitsspeicher Auswirkung und die Menge der Ressourcen, die beim Wechseln von Sichten ausgetauscht werden sollen.</span><span class="sxs-lookup"><span data-stu-id="5d188-128">That way GPU assets are only loaded once - this reduces load times, memory impact, and the amount of resources to be swapped when switching views.</span></span>
