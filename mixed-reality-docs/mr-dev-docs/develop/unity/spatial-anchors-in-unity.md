---
title: Weltsperren und Raumanker in Unity
description: Erfahren Sie, wie Sie World Locking Tools und Raumanker in Unity Mixed Reality-Anwendungen verwenden.
author: hferrone
ms.author: v-hferrone
ms.date: 04/7/2021
ms.topic: article
keywords: Unity, Raumanker, Ankerspeicher, HoloLens, Mixed Reality-Headset, Windows Mixed Reality-Headset, Virtual Reality-Headset, Weltsperrtools, Hologramme
ms.openlocfilehash: 4fc982244a766bb34f15b356d608f2aad18f7a88
ms.sourcegitcommit: 3e36b2fbbcc250c49aaf8ca1b6133cf0e9db69fa
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/16/2021
ms.locfileid: "107528813"
---
# <a name="world-locking-and-spatial-anchors-in-unity"></a><span data-ttu-id="8f3d4-104">Weltsperren und Raumanker in Unity</span><span class="sxs-lookup"><span data-stu-id="8f3d4-104">World locking and spatial anchors in Unity</span></span>

![Herobild der Weltsperrtools](images/wlt-img-01.jpeg)

<span data-ttu-id="8f3d4-106">Das Abrufen ihrer Hologramme, um mit Ihnen zu bleiben, sich mit Ihnen zu bewegen oder sich in einigen Fällen relativ zu anderen Hologrammen zu positionieren, ist ein großer Teil der Erstellung Mixed Reality Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-106">Getting your holograms to stay in place, move with you, or in some cases position themselves relative to other holograms is a big part of creating Mixed Reality applications.</span></span> <span data-ttu-id="8f3d4-107">Dieser Artikel führt Sie durch unsere empfohlene Lösung mithilfe von World Locking Tools, aber wir behandeln auch das manuelle Einrichten von Raumankern in Ihren Unity-Projekten.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-107">This article will take you through our recommended solution using World Locking Tools, but we'll also cover manually setting up spatial anchors in your Unity projects.</span></span> <span data-ttu-id="8f3d4-108">Bevor wir in code einsteigen, ist es wichtig zu verstehen, wie Unity Koordinatenraum und Anker in seiner eigenen Engine behandelt.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-108">Before we jump into any code, it's important to understand how Unity handles coordinate space and anchors in its own engine.</span></span>

## <a name="world-scale-coordinate-systems"></a><span data-ttu-id="8f3d4-109">Koordinatensysteme auf Weltrang</span><span class="sxs-lookup"><span data-stu-id="8f3d4-109">World-scale coordinate systems</span></span>

<span data-ttu-id="8f3d4-110">Heute besteht der typische Ansatz beim Schreiben von Spielen, Datenvisualisierungs-Apps oder Virtual Reality-Apps darin, ein absolutes **Weltkoordinatensystem** einzurichten, dem alle anderen Koordinaten zuverlässig zugeordnet werden können.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-110">Today, when writing games, data visualization apps, or virtual reality apps, the typical approach is to establish one absolute **world coordinate system** that all other coordinates can reliably map back to.</span></span> <span data-ttu-id="8f3d4-111">In dieser Umgebung finden Sie immer eine stabile Transformation, die eine Beziehung zwischen zwei beliebigen Objekten in dieser Welt definiert.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-111">In that environment, you can always find a stable transform that defines a relationship between any two objects in that world.</span></span> <span data-ttu-id="8f3d4-112">Wenn Sie diese Objekte nicht verschoben haben, bleiben ihre relativen Transformationen immer gleich.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-112">If you didn't move those objects, their relative transforms would always remain the same.</span></span> <span data-ttu-id="8f3d4-113">Diese Art von globalem Koordinatensystem ist leicht zu erreichen, wenn Sie eine rein virtuelle Welt rendern, in der Sie die gesamte Geometrie im Voraus kennen.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-113">This kind of global coordinate system is easy to get right when rendering a purely virtual world where you know all of the geometry in advance.</span></span> <span data-ttu-id="8f3d4-114">Raumbezogene VR-Apps richten heute in der Regel diese Art absoluter Raumkoordinatensysteme mit ihrem Ursprung auf der Etage ein.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-114">Room-scale VR apps today typically establish this kind of absolute room-scale coordinate system with its origin on the floor.</span></span>

<span data-ttu-id="8f3d4-115">Im Gegensatz dazu verfügt ein nicht weiter entferntes Mixed Reality-Gerät wie HoloLens über ein dynamisches sensorgesteuertes Verständnis der Welt und passt sein Wissen im Laufe der Zeit kontinuierlich an die Umgebung des Benutzers an, während er viele Meter über eine gesamte Etage eines Gebäudes führt.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-115">In contrast, an untethered mixed reality device such as HoloLens has a dynamic sensor-driven understanding of the world, continuously adjusting its knowledge over time of the user's surroundings as they walk many meters across an entire floor of a building.</span></span> <span data-ttu-id="8f3d4-116">Wenn Sie all Ihre Hologramme in einem naiven starren Koordinatensystem platziert haben, würden diese Hologramme im Laufe der Zeit abdriften, entweder basierend auf der Welt oder relativ zueinander.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-116">In a world-scale experience, if you placed all your holograms in a naive rigid coordinate system, those holograms would end up drifting over time, either based on the world or relative to each other.</span></span>

<span data-ttu-id="8f3d4-117">Beispielsweise könnte das Headset derzeit glauben, dass zwei Standorte auf der Welt 4 Meter voneinander entfernt sind, und verfeinern später dieses Verständnis, da es lernt, dass die Standorte tatsächlich 3,9 Meter voneinander entfernt sind.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-117">For example, the headset may currently believe two locations in the world to be 4 meters apart, and then later refine that understanding, learning that the locations are in fact 3.9 meters apart.</span></span> <span data-ttu-id="8f3d4-118">Wenn diese Hologramme anfänglich 4 Meter voneinander entfernt in einem einzigen festen Koordinatensystem platziert worden wären, würde eines davon immer 0,1 Meter von der realen Welt entfernt erscheinen.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-118">If those holograms had initially been placed 4 meters apart in a single rigid coordinate system, one of them would then always appear 0.1 meters off from the real world.</span></span>

<span data-ttu-id="8f3d4-119">Sie können raumbezogene Anker manuell in Unity platzieren, um die Position eines Hologramms in der physischen Welt zu erhalten, wenn der Benutzer mobil ist. Dies führt jedoch zu einer **Selbstkonsistenz** innerhalb der virtuellen Welt.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-119">You can manually place **spatial anchors** in Unity to maintain a hologram's position in the physical world when the user is mobile - however, this sacrifices the self-consistency within the virtual world.</span></span> <span data-ttu-id="8f3d4-120">Verschiedene Anker bewegen sich ständig in Beziehung zueinander und bewegen sich auch durch den globalen Koordinatenraum.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-120">Different anchors are constantly moving in relation to one another, and are also moving through the global coordinate space.</span></span> <span data-ttu-id="8f3d4-121">In diesem Szenario werden einfache Aufgaben wie Layout schwierig und die Physikalische Simulation problematisch.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-121">In this scenario, simple tasks like layout become difficult and physics simulation problematic.</span></span>

<span data-ttu-id="8f3d4-122">**Die World Locking Tools** bieten Ihnen das Beste aus beiden Welten, indem sie ein einzelnes starres Koordinatensystem mit einer internen Bereitstellung von Raumankern über die virtuelle Szene verteilen, während sich der Benutzer bewegt.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-122">**World Locking Tools** gets you the best of both worlds, stabilizing a single rigid coordinate system using an internal supply of spatial anchors spread throughout the virtual scene as the user moves around.</span></span> <span data-ttu-id="8f3d4-123">Die Tools analysieren die Koordinaten der Kamera und diese Raumanker in jedem Frame.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-123">The tools analyze the coordinates of the camera and those spatial anchors every frame.</span></span> <span data-ttu-id="8f3d4-124">Anstatt die Koordinaten aller Koordinaten auf der Welt zu ändern, um die Korrekturen in den Koordinaten des Kopfs des Benutzers zu kompensieren, korrigieren die Tools stattdessen einfach die Koordinaten des Kopfs.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-124">Instead of changing the coordinates of everything in the world to compensate for the corrections in the coordinates of the user's head, the tools just fix the head's coordinates instead.</span></span>

## <a name="choosing-your-world-locking-approach"></a><span data-ttu-id="8f3d4-125">Auswählen ihres weltweiten Sperransatzes</span><span class="sxs-lookup"><span data-stu-id="8f3d4-125">Choosing your world locking approach</span></span>

* <span data-ttu-id="8f3d4-126">**Es wird** empfohlen, world **locking Tools für** alle Ihre Hologrammpositionierungsanforderungen zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-126">**Our recommendation** is to use **World Locking Tools** for all your hologram positioning needs.</span></span> 
    * <span data-ttu-id="8f3d4-127">World Locking Tools bietet ein stabiles Koordinatensystem, das die sichtbaren Inkonsistenzen zwischen virtuellen und realen Markern minimiert.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-127">World Locking Tools provides a stable coordinate system that minimizes the visible inconsistencies between virtual and real world markers.</span></span> <span data-ttu-id="8f3d4-128">Anders ausgedrückt: Sie sperrt die gesamte Szene mit einem gemeinsamen Pool von Ankern, anstatt jede Gruppe von Objekten mit dem eigenen individuellen Anker der Gruppe zu sperren.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-128">Put another way, it world-locks the entire scene with a shared pool of anchors, rather than locking each group of objects with the group's own individual anchor.</span></span>
* <span data-ttu-id="8f3d4-129">**Für Unity 2019/2020 mit OpenXR oder dem Windows XR-Plug-In** müssen Sie **ARAnchorManager** verwenden.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-129">**For Unity 2019/2020 using OpenXR or the Windows XR Plugin**, you need to use **ARAnchorManager**</span></span>
* <span data-ttu-id="8f3d4-130">**Für ältere Unity-Versionen oder WSA-Projekte** müssen Sie **WorldAnchor** verwenden.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-130">**For older Unity versions or WSA** projects, you need to use **WorldAnchor**</span></span>

## <a name="setting-up-world-locking"></a><span data-ttu-id="8f3d4-131">Einrichten von World Locking</span><span class="sxs-lookup"><span data-stu-id="8f3d4-131">Setting up world locking</span></span> 

[!INCLUDE[](includes/world-locking/world-locking-setup.md)]

## <a name="persistent-world-locking"></a><span data-ttu-id="8f3d4-132">Permanente Weltsperrung</span><span class="sxs-lookup"><span data-stu-id="8f3d4-132">Persistent world locking</span></span>

<span data-ttu-id="8f3d4-133">Raumanker speichern Hologramme zwischen Anwendungssitzungen im realen Raum.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-133">Spatial anchors save holograms in real-world space between application sessions.</span></span> <span data-ttu-id="8f3d4-134">Nachdem sie im Ankerspeicher der HoloLens gespeichert wurden, können sie in verschiedenen Sitzungen gefunden und geladen werden und sind ein idealer Fallback, wenn keine Internetverbindung besteht.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-134">Once saved in the HoloLens' anchor store, they can be found and loaded in different sessions and are an ideal fallback when there's no internet connectivity.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8f3d4-135">Lokale Anker werden auf dem Gerät gespeichert, während Azure-Raumanker in der Cloud gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-135">Local anchors are stored on device, while Azure Spatial Anchors are stored in the cloud.</span></span> <span data-ttu-id="8f3d4-136">Wenn Sie Azure Cloud Services zum Speichern Ihrer Anker verwenden möchten, verfügen wir über ein Dokument, in dem Sie durch den Integrationsprozess für [Azure-Raumanker](../mixed-reality-cloud-services.md#azure-spatial-anchors) geführt werden.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-136">If you're looking to use Azure cloud services to store your anchors, we have a document that can walk you through integrating [Azure Spatial Anchors](../mixed-reality-cloud-services.md#azure-spatial-anchors).</span></span> <span data-ttu-id="8f3d4-137">Beachten Sie, dass Sie sowohl lokale als auch Azure-Anker im selben Projekt haben können, ohne dass Konflikte auftreten.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-137">Note that you can have local and Azure anchors in the same project without conflict.</span></span>

[!INCLUDE[](includes/world-locking/world-locking-persistence.md)]

## <a name="sharing-coordinate-spaces"></a><span data-ttu-id="8f3d4-138">Freigeben von Koordinatenbereichen</span><span class="sxs-lookup"><span data-stu-id="8f3d4-138">Sharing coordinate spaces</span></span> 

<span data-ttu-id="8f3d4-139">Wenn Sie einen weltweit gesperrten Koordinatenraum freigeben möchten, sehen Sie sich unsere umfassende [Dokumentation zur gemeinsamen Erfahrung](shared-experiences-in-unity.md)an.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-139">If you want to share a world locked coordinate space, check out our comprehensive [shared experience documentation](shared-experiences-in-unity.md).</span></span>

<span data-ttu-id="8f3d4-140">Beachten Sie, dass Azure Spatial Anchors noch nicht direkt in World Locking Tools unterstützt wird. Daher müssen Sie für freigegebene Erfahrungen manuell Raumanker erstellen.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-140">Note that Azure Spatial Anchors is not yet supported directly within World Locking Tools, and so shared experiences will require you to manually create spatial anchors.</span></span>

## <a name="next-development-checkpoint"></a><span data-ttu-id="8f3d4-141">Nächster Entwicklungsprüfpunkt</span><span class="sxs-lookup"><span data-stu-id="8f3d4-141">Next Development Checkpoint</span></span>

<span data-ttu-id="8f3d4-142">Wenn Sie die von uns festgelegte Unity-Entwicklungsprüfpunkt-Journey verfolgen, sind Sie dabei, die Mixed Reality wichtigsten Bausteine zu untersuchen.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-142">If you're following the Unity development checkpoint journey we've laid out, you're in the midst of exploring the Mixed Reality core building blocks.</span></span> <span data-ttu-id="8f3d4-143">Von hier aus können Sie mit dem nächsten Baustein fortfahren:</span><span class="sxs-lookup"><span data-stu-id="8f3d4-143">From here, you can continue to the next building block:</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="8f3d4-144">Räumliche Abbildung</span><span class="sxs-lookup"><span data-stu-id="8f3d4-144">Spatial mapping</span></span>](spatial-mapping-in-unity.md)

<span data-ttu-id="8f3d4-145">Oder fahren Sie mit den Funktionen und APIs der Mixed Reality-Plattform fort:</span><span class="sxs-lookup"><span data-stu-id="8f3d4-145">Or jump to Mixed Reality platform capabilities and APIs:</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="8f3d4-146">Gemeinsame Erfahrung</span><span class="sxs-lookup"><span data-stu-id="8f3d4-146">Shared experiences</span></span>](shared-experiences-in-unity.md)

<span data-ttu-id="8f3d4-147">Sie können jederzeit zu den [Prüfpunkten für die Unity-Entwicklung](unity-development-overview.md#2-core-building-blocks) zurückkehren.</span><span class="sxs-lookup"><span data-stu-id="8f3d4-147">You can always go back to the [Unity development checkpoints](unity-development-overview.md#2-core-building-blocks) at any time.</span></span>

## <a name="see-also"></a><span data-ttu-id="8f3d4-148">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="8f3d4-148">See Also</span></span>
* [<span data-ttu-id="8f3d4-149">Einführung in die World Locking Tools</span><span class="sxs-lookup"><span data-stu-id="8f3d4-149">World Locking Tools introduction</span></span>](https://microsoft.github.io/MixedReality-WorldLockingTools-Unity/DocGen/Documentation/IntroFAQ.html)
* [<span data-ttu-id="8f3d4-150">Schnellstarthandbücher</span><span class="sxs-lookup"><span data-stu-id="8f3d4-150">Quickstart guides</span></span>](https://microsoft.github.io/MixedReality-WorldLockingTools-Unity/DocGen/Documentation/HowTos/QuickStart.html)
* [<span data-ttu-id="8f3d4-151">Tutorials</span><span class="sxs-lookup"><span data-stu-id="8f3d4-151">Tutorials</span></span>](https://microsoft.github.io/MixedReality-WorldLockingTools-Samples/Tutorial/01_Minimal/01_Minimal.html)
* [<span data-ttu-id="8f3d4-152">Beispiele</span><span class="sxs-lookup"><span data-stu-id="8f3d4-152">Samples</span></span>](https://microsoft.github.io/MixedReality-WorldLockingTools-Unity/DocGen/Documentation/HowTos/SampleApplications.html)
* [<span data-ttu-id="8f3d4-153">Persistenz des Raumankers</span><span class="sxs-lookup"><span data-stu-id="8f3d4-153">Spatial anchor persistence</span></span>](../../design/coordinate-systems.md#spatial-anchor-persistence)
* <span data-ttu-id="8f3d4-154"><a href="/azure/spatial-anchors" target="_blank">Azure Spatial Anchors</a></span><span class="sxs-lookup"><span data-stu-id="8f3d4-154"><a href="/azure/spatial-anchors" target="_blank">Azure Spatial Anchors</a></span></span>
* <span data-ttu-id="8f3d4-155"><a href="/dotnet/api/Microsoft.Azure.SpatialAnchors" target="_blank">Azure Spatial Anchors SDK für Unity</a></span><span class="sxs-lookup"><span data-stu-id="8f3d4-155"><a href="/dotnet/api/Microsoft.Azure.SpatialAnchors" target="_blank">Azure Spatial Anchors SDK for Unity</a></span></span>
* [<span data-ttu-id="8f3d4-156">Erfahrungsskala</span><span class="sxs-lookup"><span data-stu-id="8f3d4-156">Experience scales</span></span>](../../design/coordinate-systems.md#mixed-reality-experience-scales)
* [<span data-ttu-id="8f3d4-157">Räumliche Phase</span><span class="sxs-lookup"><span data-stu-id="8f3d4-157">Spatial stage</span></span>](../../design/coordinate-systems.md#stage-frame-of-reference)
* [<span data-ttu-id="8f3d4-158">Verfolgbarkeitsverlust in Unity</span><span class="sxs-lookup"><span data-stu-id="8f3d4-158">Tracking loss in Unity</span></span>](tracking-loss-in-unity.md)
* [<span data-ttu-id="8f3d4-159">Raumanker</span><span class="sxs-lookup"><span data-stu-id="8f3d4-159">Spatial anchors</span></span>](../../design/spatial-anchors.md)
* [<span data-ttu-id="8f3d4-160">Gemeinsame Erlebnisse in Unity</span><span class="sxs-lookup"><span data-stu-id="8f3d4-160">Shared experiences in Unity</span></span>](shared-experiences-in-unity.md)
