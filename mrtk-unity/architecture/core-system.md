---
title: Kernsystem
description: Eingabesystem, Geräte-Manager und Datenanbieter in MRTK
author: cDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, Mixed Reality, Entwicklung, MRTK, Ereignisse
ms.openlocfilehash: 12719a6c749a03648d4f75e9e6461b85cc9ab275
ms.sourcegitcommit: c0ba7d7bb57bb5dda65ee9019229b68c2ee7c267
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/19/2021
ms.locfileid: "110144297"
---
# <a name="core-system"></a><span data-ttu-id="76044-104">Kernsystem</span><span class="sxs-lookup"><span data-stu-id="76044-104">Core system</span></span>

<span data-ttu-id="76044-105">Das Kernstück des Eingabesystems ist [inputSystem.](../features/input/overview.md)Dabei handelt es sich um einen Dienst, der für die Initialisierung und den Betrieb aller eingabebezogenen Funktionen verantwortlich ist, die dem MRTK zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="76044-105">At the heart of the input system is the [InputSystem](../features/input/overview.md), which is a service that is responsible for initializing and operating all of the input related functionality associated with the MRTK.</span></span>

> [!NOTE]
> <span data-ttu-id="76044-106">Es wird davon ausgegangen, dass Leser den Abschnitt "Terminologie" bereits gelesen haben und grundlegende [Kenntnisse haben.](terminology.md)</span><span class="sxs-lookup"><span data-stu-id="76044-106">It is assumed that readers have already read and have a basic understanding of the [terminology](terminology.md) section.</span></span>

<span data-ttu-id="76044-107">Dieser Dienst ist für Folgendes verantwortlich:</span><span class="sxs-lookup"><span data-stu-id="76044-107">This service is responsible for:</span></span>

- <span data-ttu-id="76044-108">Lesen des [Eingabesystemprofils](../configuration/mixed-reality-configuration-guide.md#input-system-settings)</span><span class="sxs-lookup"><span data-stu-id="76044-108">Reading the [input system profile](../configuration/mixed-reality-configuration-guide.md#input-system-settings)</span></span>
- <span data-ttu-id="76044-109">Starten der [konfigurierten Datenanbieter](../features/input/input-providers.md) (z. B. `Windows Mixed Reality Device Manager` und `OpenVR Device Manager` ).</span><span class="sxs-lookup"><span data-stu-id="76044-109">Starting the configured [data providers](../features/input/input-providers.md) (for example, `Windows Mixed Reality Device Manager` and `OpenVR Device Manager`).</span></span>
- <span data-ttu-id="76044-110">Instanziierung von [GazeProvider,](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityGazeProvider)einer Komponente, die für die Bereitstellung von Anvisierungsinformationen im HoloLens-Stil (1. Generation) verantwortlich ist, zusätzlich zu HoloLens 2 anvisierungsinformationen.</span><span class="sxs-lookup"><span data-stu-id="76044-110">Instantiation of the [GazeProvider](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityGazeProvider), which is a component that is responsible for providing HoloLens (1st generation) style head gaze information in addition to HoloLens 2 style eye gaze information.</span></span>
- <span data-ttu-id="76044-111">Instanziierung des [FocusProvider,](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityFocusProvider)bei dem es sich um eine Komponente handelt, die für die Bestimmung von Objekten zuständig ist, die den Fokus haben.</span><span class="sxs-lookup"><span data-stu-id="76044-111">Instantiation of the [FocusProvider](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityFocusProvider), which is a component that is responsible for determining objects that have focus.</span></span> <span data-ttu-id="76044-112">Dies wird im Abschnitt Zeiger [und](controllers-pointers-and-focus.md#pointers-and-focus) Fokus der Dokumentation genauer beschrieben.</span><span class="sxs-lookup"><span data-stu-id="76044-112">This is described in more depth in the [pointers and focus](controllers-pointers-and-focus.md#pointers-and-focus) section of the documentation.</span></span>
- <span data-ttu-id="76044-113">Bereitstellen von Registrierungspunkten für alle Eingabeereignisse [(als globale Listener).](#global-listeners)</span><span class="sxs-lookup"><span data-stu-id="76044-113">Providing registration points for all input events (as [global listeners](#global-listeners)).</span></span>
- <span data-ttu-id="76044-114">Bereitstellen von Ereignis dispatch-Funktionen für diese Eingabeereignisse.</span><span class="sxs-lookup"><span data-stu-id="76044-114">Providing event dispatch capabilities for those input events.</span></span>

## <a name="input-events"></a><span data-ttu-id="76044-115">Eingabeereignisse</span><span class="sxs-lookup"><span data-stu-id="76044-115">Input events</span></span>

<span data-ttu-id="76044-116">Eingabeereignisse werden in der Regel auf zwei verschiedenen Kanälen ausgelöst:</span><span class="sxs-lookup"><span data-stu-id="76044-116">Input events are generally fired on two different channels:</span></span>

### <a name="objects-in-focus"></a><span data-ttu-id="76044-117">Objekte im Fokus</span><span class="sxs-lookup"><span data-stu-id="76044-117">Objects in focus</span></span>

<span data-ttu-id="76044-118">Ereignisse können direkt an ein GameObject gesendet werden, das den Fokus besitzt.</span><span class="sxs-lookup"><span data-stu-id="76044-118">Events can be sent directly to a GameObject that has focus.</span></span> <span data-ttu-id="76044-119">Ein Objekt kann beispielsweise über ein Skript verfügen, das [`IMixedRealityTouchHandler`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityTouchHandler) implementiert.</span><span class="sxs-lookup"><span data-stu-id="76044-119">For example, an object might have a script that implements [`IMixedRealityTouchHandler`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityTouchHandler).</span></span>
<span data-ttu-id="76044-120">Dieses Objekt würde Berührungsereignisse erhalten, wenn es von einer Hand, die sich in der Nähe befindet, fokussiert wird.</span><span class="sxs-lookup"><span data-stu-id="76044-120">This object would get touch events when focused by a hand that is near it.</span></span> <span data-ttu-id="76044-121">Diese Ereignistypen werden in der GameObject-Hierarchie "nach oben" angezeigt, bis ein GameObject gefunden wird, das das Ereignis behandeln kann.</span><span class="sxs-lookup"><span data-stu-id="76044-121">These types of events go "up" the GameObject hierarchy until it finds a GameObject that is capable of handling the event.</span></span>

<span data-ttu-id="76044-122">Dies erfolgt [mithilfe von ExecuteHierarchy](https://docs.unity3d.com/ScriptReference/EventSystems.ExecuteEvents.ExecuteHierarchy.html) innerhalb der Standardimplementierung des Eingabesystems.</span><span class="sxs-lookup"><span data-stu-id="76044-122">This is done by using [ExecuteHierarchy](https://docs.unity3d.com/ScriptReference/EventSystems.ExecuteEvents.ExecuteHierarchy.html) from within the default input system implementation.</span></span>

### <a name="global-listeners"></a><span data-ttu-id="76044-123">Globale Listener</span><span class="sxs-lookup"><span data-stu-id="76044-123">Global listeners</span></span>

<span data-ttu-id="76044-124">Ereignisse können an globale Listener gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="76044-124">Events can be sent to global listeners.</span></span> <span data-ttu-id="76044-125">Es ist möglich, sich für alle Eingabeereignisse zu registrieren, indem Sie die Schnittstelle des Eingabesystems [`IMixedRealityEventSystem`](xref:Microsoft.MixedReality.Toolkit.IMixedRealityEventSystem) verwenden.</span><span class="sxs-lookup"><span data-stu-id="76044-125">It's possible to register for all input events by using the input system's [`IMixedRealityEventSystem`](xref:Microsoft.MixedReality.Toolkit.IMixedRealityEventSystem) interface.</span></span> <span data-ttu-id="76044-126">Es wird empfohlen, die [RegisterHandler-Methode](xref:Microsoft.MixedReality.Toolkit.IMixedRealityEventSystem.RegisterHandler%2A) für die Registrierung für globale Ereignisse zu verwenden. Die veraltete `Register` Funktion bewirkt, dass Listener über ALLE Eingabeereignisse benachrichtigt werden, anstatt nur Eingabeereignisse eines bestimmten Typs (wobei der Typ durch die Ereignisschnittstelle definiert wird).</span><span class="sxs-lookup"><span data-stu-id="76044-126">It's recommended to use the [RegisterHandler](xref:Microsoft.MixedReality.Toolkit.IMixedRealityEventSystem.RegisterHandler%2A) method for registering for global events - the deprecated `Register` function will cause listeners to get notified of ALL input events, rather than just input events of a particular type (where type is defined by the event interface).</span></span>

<span data-ttu-id="76044-127">Beachten Sie, dass [Fallbacklistener](xref:Microsoft.MixedReality.Toolkit.Input.MixedRealityInputSystem.PushFallbackInputHandler%2A) eine andere Art von globalen Listenern sind, von denen ebenfalls abgeraten wird, da sie jedes einzelne Eingabeereignis empfangen, das nicht an anderer Stelle in der Szene behandelt wurde.</span><span class="sxs-lookup"><span data-stu-id="76044-127">Note that [fallback listeners](xref:Microsoft.MixedReality.Toolkit.Input.MixedRealityInputSystem.PushFallbackInputHandler%2A) are another type of global listeners which are also discouraged because they will receive every single input event that hasn't been handled elsewhere in the scene.</span></span>

### <a name="order-of-event-dispatch"></a><span data-ttu-id="76044-128">Reihenfolge der Ereignisdisponent</span><span class="sxs-lookup"><span data-stu-id="76044-128">Order of event dispatch</span></span>

<span data-ttu-id="76044-129">Im Allgemeinen werden Ereignisse wie folgt an Listener gesendet.</span><span class="sxs-lookup"><span data-stu-id="76044-129">Generally, events are sent to listeners in the following way.</span></span> <span data-ttu-id="76044-130">Beachten Sie Folgendes: Wenn einer der folgenden Schritte das Ereignis als [behandelt](https://docs.unity3d.com/ScriptReference/EventSystems.AbstractEventData-used.html)markiert, wird der Ereignisdisponierungsprozess beendet.</span><span class="sxs-lookup"><span data-stu-id="76044-130">Note that if any of the steps below mark the event as [handled](https://docs.unity3d.com/ScriptReference/EventSystems.AbstractEventData-used.html), the event dispatch process stops.</span></span>

1. <span data-ttu-id="76044-131">Das Ereignis wird an globale Listener gesendet.</span><span class="sxs-lookup"><span data-stu-id="76044-131">Event is sent to global listeners.</span></span>
2. <span data-ttu-id="76044-132">Das Ereignis wird an modale Dialoge des fokussierten Objekts gesendet.</span><span class="sxs-lookup"><span data-stu-id="76044-132">Event is sent to modal dialogs of the focused object.</span></span>
3. <span data-ttu-id="76044-133">Das Ereignis wird an das fokussierte Objekt gesendet.</span><span class="sxs-lookup"><span data-stu-id="76044-133">Event is sent to the focused object.</span></span>
4. <span data-ttu-id="76044-134">Das Ereignis wird an Fallbacklistener gesendet.</span><span class="sxs-lookup"><span data-stu-id="76044-134">Event is sent to fallback listeners.</span></span>

## <a name="device-managers-and-data-providers"></a><span data-ttu-id="76044-135">Geräte-Manager und Datenanbieter</span><span class="sxs-lookup"><span data-stu-id="76044-135">Device managers and data providers</span></span>

<span data-ttu-id="76044-136">Diese Entitäten sind für die Verknüpfung mit APIs auf niedrigerer Ebene (z. B. Windows Mixed Reality-APIs oder OpenVR-APIs) und die Übersetzung von Daten aus diesen Systemen in Solche verantwortlich, die den übergeordneten Eingabeabstraktionen des MRTK entsprechen.</span><span class="sxs-lookup"><span data-stu-id="76044-136">These entities are responsible for interfacing with lower-level APIs (such as Windows Mixed Reality APIs, or OpenVR APIs) and translating data from those systems into ones that fit the MRTK's higher level input abstractions.</span></span> <span data-ttu-id="76044-137">Sie sind für das Erkennen, Erstellen und Verwalten der Lebensdauer von [Controllern](controllers-pointers-and-focus.md#controllers)verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="76044-137">They are responsible for detecting, creating, and managing the lifetime of [controllers](controllers-pointers-and-focus.md#controllers).</span></span>

<span data-ttu-id="76044-138">Der grundlegende Ablauf eines Geräte-Managers umfasst Folgendes:</span><span class="sxs-lookup"><span data-stu-id="76044-138">The basic flow of a device manager involves:</span></span>

1. <span data-ttu-id="76044-139">Der Geräte-Manager wird vom Eingabesystemdienst instanziiert.</span><span class="sxs-lookup"><span data-stu-id="76044-139">The device manager is instantiated by the input system service.</span></span>
2. <span data-ttu-id="76044-140">Der Geräte-Manager registriert sich beim zugrunde liegenden System (z. B. registriert sich der Windows Mixed Reality Geräte-Manager für [Eingabe-](../features/input/input-events.md) und [Gestenereignisse.](../features/input/gestures.md#gesture-events)</span><span class="sxs-lookup"><span data-stu-id="76044-140">The device manager registers with its underlying system (for example, the Windows Mixed Reality device manager will register for [input](../features/input/input-events.md) and [gesture](../features/input/gestures.md#gesture-events) events.</span></span>
3. <span data-ttu-id="76044-141">Er erstellt Controller, die er aus dem zugrunde liegenden System ermittelt (z. B. kann der Anbieter das Vorhandensein von artikulierten Händen erkennen)</span><span class="sxs-lookup"><span data-stu-id="76044-141">It creates controllers that it discovers from the underlying system (for example the provider could detect the presence of articulated hands)</span></span>
4. <span data-ttu-id="76044-142">Rufen Sie in der Update()-Schleife UpdateController() auf, um den neuen Zustand des zugrunde liegenden Systems abzufragen und seine Controllerdarstellung zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="76044-142">In its Update() loop, call UpdateController() to poll for the new state of the underlying system and update its controller representation.</span></span>
