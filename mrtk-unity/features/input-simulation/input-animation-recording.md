---
title: Aufzeichnung der Eingabeanimation
description: Dokumentation zum Eingabeanimationsaufzeichnungssystem in MRTK
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, Mixed Reality, Entwicklung, MRTK,
ms.openlocfilehash: 6bdb764c5905352b9aec7c1512a73e727b60573a
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/01/2021
ms.locfileid: "113176944"
---
# <a name="input-animation-recording"></a><span data-ttu-id="9417c-104">Aufzeichnung der Eingabeanimation</span><span class="sxs-lookup"><span data-stu-id="9417c-104">Input animation recording</span></span>

<span data-ttu-id="9417c-105">MRTK verfügt über ein Aufzeichnungssystem, mit dem Kopfbewegungen und Daten zur Handnachverfolgung in Animationsdateien gespeichert werden können.</span><span class="sxs-lookup"><span data-stu-id="9417c-105">MRTK features an recording system by which head movement and hand tracking data can be stored in animation files.</span></span> <span data-ttu-id="9417c-106">Die aufgezeichneten Daten können dann mithilfe des [Eingabesimulationssystems](input-simulation-service.md)wiedergegeben werden.</span><span class="sxs-lookup"><span data-stu-id="9417c-106">The recorded data can then be played back using the [input simulation system](input-simulation-service.md).</span></span>

<span data-ttu-id="9417c-107">Die Aufzeichnung von Eingaben ist ein nützliches Tool in einer Vielzahl von Situationen:</span><span class="sxs-lookup"><span data-stu-id="9417c-107">Recording input is a useful tool in a variety of situations:</span></span>

* <span data-ttu-id="9417c-108">Erstellen automatisierter Tests für Interaktion, Manipulationen, Solver usw. Das Erstellen der Bewegung von Controllern und Händen für diese Tests kann zeitaufwändig sein.</span><span class="sxs-lookup"><span data-stu-id="9417c-108">Creating automated tests for interaction, manipulations, solvers, etc. Creating the movement of controllers and hands for these tests can be time consuming.</span></span> <span data-ttu-id="9417c-109">Die direkte Aufzeichnung von Eingaben kann den Prozess beschleunigen und reale Daten bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="9417c-109">Recording input directly can speed up the process and provide real-world data.</span></span>
* <span data-ttu-id="9417c-110">Vermitteln der Verwendung von UX-Elementen durch Animationen.</span><span class="sxs-lookup"><span data-stu-id="9417c-110">Teaching the use of UX elements through animations.</span></span>
  <span data-ttu-id="9417c-111">Benutzer zu zeigen, wie sie mit Schaltflächen und anderen Objekten interagieren, kann die Lernkurve glätten.</span><span class="sxs-lookup"><span data-stu-id="9417c-111">Showing users how to interact with buttons and other objects can smooth the learning curve.</span></span>
* <span data-ttu-id="9417c-112">Debuggen unerwartetes Verhalten, das während der regulären Verwendung auftreten kann.</span><span class="sxs-lookup"><span data-stu-id="9417c-112">Debugging unexpected behavior that may be encountered during regular use.</span></span>
  <span data-ttu-id="9417c-113">Das Aufzeichnungssystem unterstützt ein Konzept des "rollierenden Puffers", das die Aufzeichnung aktueller Eingaben im Hintergrund ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="9417c-113">The recording system supports a "rolling buffer" concept that allows recording recent input in the background.</span></span>
  <span data-ttu-id="9417c-114">Weitere Informationen finden Sie unter [Eingabeaufzeichnungsdienst](#input-recording-service).</span><span class="sxs-lookup"><span data-stu-id="9417c-114">See [Input Recording Service](#input-recording-service).</span></span>

## <a name="recording-and-playback-services"></a><span data-ttu-id="9417c-115">Aufzeichnungs- und Wiedergabedienste</span><span class="sxs-lookup"><span data-stu-id="9417c-115">Recording and playback services</span></span>

<span data-ttu-id="9417c-116">Zwei Eingabesystemdienste werden bereitgestellt, um Eingaben aufzuzeichnen bzw. wiederzugeben.</span><span class="sxs-lookup"><span data-stu-id="9417c-116">Two input system services are provided to record and play back input respectively.</span></span>

### <a name="input-recording-service"></a><span data-ttu-id="9417c-117">Eingabeaufzeichnungsdienst</span><span class="sxs-lookup"><span data-stu-id="9417c-117">Input recording service</span></span>

<span data-ttu-id="9417c-118">[`InputRecordingService`](xref:Microsoft.MixedReality.Toolkit.Input.InputRecordingService) erfasst Daten von der Hauptkameratransformation und den aktiven Handcontrollern und speichert sie in einem internen Puffer.</span><span class="sxs-lookup"><span data-stu-id="9417c-118">[`InputRecordingService`](xref:Microsoft.MixedReality.Toolkit.Input.InputRecordingService) takes data from the main camera transform and active hand controllers and stores it in an internal buffer.</span></span> <span data-ttu-id="9417c-119">Wenn diese Daten angefordert werden, werden sie zur Speicherung und späteren Wiedergabe in Binärdateien serialisiert.</span><span class="sxs-lookup"><span data-stu-id="9417c-119">When requested this data is then serialized into binary files for storage and later replay.</span></span>

<a target="_blank" href="../images/input-simulation/MRTK_InputAnimation_RecordingDiagram.png">
  <img src="../images/input-simulation/MRTK_InputAnimation_RecordingDiagram.png" title="Aufzeichnen der Eingabeanimation" width="80%" alt="Recording diagram" class="center" />
</a>

<span data-ttu-id="9417c-121">Rufen Sie die Funktion auf, um mit der Aufzeichnung der Eingabe zu [`StartRecording`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.StartRecording) beginnen.</span><span class="sxs-lookup"><span data-stu-id="9417c-121">To start recording input call the [`StartRecording`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.StartRecording) function.</span></span> <span data-ttu-id="9417c-122">[`StopRecording`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.StopRecording) hält die Aufzeichnung an (aber verwirft die bisher aufgezeichneten Daten nicht. Verwenden Sie [`DiscardRecordedInput`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.DiscardRecordedInput) dazu bei Bedarf ).</span><span class="sxs-lookup"><span data-stu-id="9417c-122">[`StopRecording`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.StopRecording) will pause recording (but not discard the data recorded so far, use [`DiscardRecordedInput`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.DiscardRecordedInput) to do this if needed).</span></span>

<span data-ttu-id="9417c-123">Standardmäßig ist die Größe des Aufzeichnungspuffers auf 30 Sekunden beschränkt.</span><span class="sxs-lookup"><span data-stu-id="9417c-123">By default the size of the recording buffer is limited to 30 seconds.</span></span> <span data-ttu-id="9417c-124">Dadurch kann der Aufzeichnungsdienst die Aufzeichnung im Hintergrund beibehalten, ohne zu viele Daten zu sammeln, und die letzten 30 Sekunden bei Bedarf speichern.</span><span class="sxs-lookup"><span data-stu-id="9417c-124">This allows the recording service to keep recording in the background without accumulating too much data, and then save the last 30 seconds when required.</span></span> <span data-ttu-id="9417c-125">Das Zeitintervall kann mithilfe der -Eigenschaft geändert werden, oder die [`RecordingBufferTimeLimit`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.RecordingBufferTimeLimit) Aufzeichnung kann mithilfe der -Option unbegrenzt [`UseBufferTimeLimit`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.UseBufferTimeLimit) sein.</span><span class="sxs-lookup"><span data-stu-id="9417c-125">The time interval can be changed using the [`RecordingBufferTimeLimit`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.RecordingBufferTimeLimit) property, or recording can be unlimited using the [`UseBufferTimeLimit`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.UseBufferTimeLimit) option.</span></span>

<span data-ttu-id="9417c-126">Die Daten im Aufzeichnungspuffer können mithilfe der [SaveInputAnimation-Funktion](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.SaveInputAnimation*) in einer Binärdatei gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="9417c-126">The data in the recording buffer can be saved in a binary file using the [SaveInputAnimation](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputRecordingService.SaveInputAnimation*) function.</span></span>

<span data-ttu-id="9417c-127">Ausführliche Informationen zum Binärdateiformat finden Sie unter [Eingabeanimationsdateiformatspezifikation.](input-animation-file-format.md)</span><span class="sxs-lookup"><span data-stu-id="9417c-127">For details on the binary file format see [Input Animation File Format Specification](input-animation-file-format.md).</span></span>

### <a name="input-playback-service"></a><span data-ttu-id="9417c-128">Eingabewiedergabedienst</span><span class="sxs-lookup"><span data-stu-id="9417c-128">Input playback service</span></span>

<span data-ttu-id="9417c-129">[`InputPlaybackService`](xref:Microsoft.MixedReality.Toolkit.Input.InputPlaybackService) liest eine Binärdatei mit Eingabeanimationsdaten und wendet diese Daten dann über [InputSimulationService](xref:Microsoft.MixedReality.Toolkit.Input.InputSimulationService) an, um die aufgezeichneten Bewegungen neu zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="9417c-129">[`InputPlaybackService`](xref:Microsoft.MixedReality.Toolkit.Input.InputPlaybackService) reads a binary file with input animation data and then applies this data through the [InputSimulationService](xref:Microsoft.MixedReality.Toolkit.Input.InputSimulationService) to recreate the recorded movements.</span></span>

<a target="_blank" href="../images/input-simulation/MRTK_InputAnimation_PlaybackDiagram.png">
  <img src="../images/input-simulation/MRTK_InputAnimation_PlaybackDiagram.png" title="Wiedergeben der Eingabeanimation" width="80%" alt="Play Back diagram" class="center" />
</a>

<span data-ttu-id="9417c-131">Um mit der Wiedergabe der Eingabeanimation zu beginnen, sollte sie mithilfe der [LoadInputAnimation-Funktion](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.LoadInputAnimation*) aus einer Datei geladen werden.</span><span class="sxs-lookup"><span data-stu-id="9417c-131">To start playing back input animation it should be loaded from a file using the [LoadInputAnimation](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.LoadInputAnimation*) function.</span></span>

<span data-ttu-id="9417c-132">Rufen Sie [Wiedergabe,](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.Play) [Anhalten](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.Play)oder [Beenden](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.Stop) auf, um die Wiedergabe der Animation zu steuern.</span><span class="sxs-lookup"><span data-stu-id="9417c-132">Call [Play](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.Play), [Pause](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.Play), or [Stop](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.Stop) to control the animation playback.</span></span>

<span data-ttu-id="9417c-133">Die aktuelle Animationszeit kann auch direkt mit der [LocalTime-Eigenschaft](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.LocalTime) gesteuert werden.</span><span class="sxs-lookup"><span data-stu-id="9417c-133">The current animation time can also be controlled directly with the [LocalTime](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.LocalTime) property.</span></span>

> [!WARNING]
> <span data-ttu-id="9417c-134">Das Schleifen oder Zurücksetzen der Eingabeanimation oder -einstellung [`LocalTime`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.LocalTime) direkt durch Bereinigung der Zeitachse kann zu unerwarteten Ergebnissen führen, wenn die Szene bearbeitet wird!</span><span class="sxs-lookup"><span data-stu-id="9417c-134">Looping or resetting input animation or setting [`LocalTime`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputPlaybackService.LocalTime) directly by scrubbing the timeline may yield unexpected results when manipulating the scene!</span></span> <span data-ttu-id="9417c-135">Nur die Eingabebewegungen werden aufgezeichnet. Alle zusätzlichen Änderungen, z. B. das Verschieben von Objekten oder das Umschalten von Schaltern, werden nicht zurückgesetzt.</span><span class="sxs-lookup"><span data-stu-id="9417c-135">Only the input movements are recorded, any additional changes such as moving objects or flipping switches will not be reset.</span></span> <span data-ttu-id="9417c-136">Stellen Sie sicher, dass Sie die Szene erneut laden, wenn nicht rückgängig gemachte Änderungen vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="9417c-136">Make sure to reload the scene if irreversible changes have been made.</span></span>

### <a name="editor-tools-for-recording-and-playing-input-animation"></a><span data-ttu-id="9417c-137">Editor-Tools zum Aufzeichnen und Wiedergeben von Eingabeanimationen</span><span class="sxs-lookup"><span data-stu-id="9417c-137">Editor tools for recording and playing input animation</span></span>

<span data-ttu-id="9417c-138">Im Unity-Editor sind mehrere Tools zum Aufzeichnen und Untersuchen der Eingabeanimation vorhanden.</span><span class="sxs-lookup"><span data-stu-id="9417c-138">A number of tools exist in the Unity editor for recording and examining input animation.</span></span> <span data-ttu-id="9417c-139">Auf diese Tools kann im [Fenster eingabesimulationstools](input-simulation-service.md#input-simulation-tools-window)zugegriffen werden, das über das Menü _Mixed Reality Toolkit > Utilities > Input Simulation_ geöffnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="9417c-139">These tools can be accessed in the [input simulation tools window](input-simulation-service.md#input-simulation-tools-window), which can be opened from the _Mixed Reality Toolkit > Utilities > Input Simulation_ menu.</span></span>

> [!NOTE]
> <span data-ttu-id="9417c-140">Die Eingabeaufzeichnung und -wiedergabe funktioniert nur während des Wiedergabemodus.</span><span class="sxs-lookup"><span data-stu-id="9417c-140">Input recording and playback only works during play mode.</span></span>

<span data-ttu-id="9417c-141">Das Eingabeaufzeichnungsfenster verfügt über zwei Modi:</span><span class="sxs-lookup"><span data-stu-id="9417c-141">The input recording window has two modes:</span></span>

* <span data-ttu-id="9417c-142">_Aufzeichnung_ zur Aufzeichnung von Eingaben während des Wiedergabemodus und Speichern in Animationsdateien.</span><span class="sxs-lookup"><span data-stu-id="9417c-142">_Recording_ for recording input during play mode and saving it to animation files.</span></span>

  <span data-ttu-id="9417c-143">Beim Umschalten auf der Aufzeichnungsschaltfläche [`InputRecordingService`](xref:Microsoft.MixedReality.Toolkit.Input.InputRecordingService) ist aktiviert, um Eingaben aufzuzeichnen.</span><span class="sxs-lookup"><span data-stu-id="9417c-143">When toggling on the recording button the [`InputRecordingService`](xref:Microsoft.MixedReality.Toolkit.Input.InputRecordingService) is enabled to record input.</span></span>
  <span data-ttu-id="9417c-144">Beim Umschalten der Aufzeichnungsschaltfläche wird eine Dateispeicherauswahl angezeigt, und die aufgezeichnete Eingabeanimation wird am ausgewählten Ziel gespeichert.</span><span class="sxs-lookup"><span data-stu-id="9417c-144">When toggling off the recording button a file save selection is shown and the recorded input animation is saved to the selected destination.</span></span>

  <span data-ttu-id="9417c-145">Das Pufferzeitlimit kann auch in diesem Modus geändert werden.</span><span class="sxs-lookup"><span data-stu-id="9417c-145">The buffer time limit can also be changed in this mode.</span></span>

* <span data-ttu-id="9417c-146">_Wiedergabe_ zum Laden von Animationsdateien und anschließendes Erneutes Erstellen von Eingaben über das Eingabesimulationssystem.</span><span class="sxs-lookup"><span data-stu-id="9417c-146">_Playback_ for loading animation files and then recreating input through the input simulation system.</span></span>

  <span data-ttu-id="9417c-147">Eine Animation muss zuerst in diesem Modus geladen werden.</span><span class="sxs-lookup"><span data-stu-id="9417c-147">An animation must be loaded in this mode first.</span></span> <span data-ttu-id="9417c-148">Nach der Aufzeichnung der Eingabe im Aufzeichnungsmodus wird die resultierende Animation automatisch geladen.</span><span class="sxs-lookup"><span data-stu-id="9417c-148">After recording input in recording mode the resulting animation is automatically loaded.</span></span> <span data-ttu-id="9417c-149">Klicken Sie alternativ auf die Schaltfläche "Laden", um eine vorhandene Animationsdatei auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="9417c-149">Alternatively click the "Load" button to select an existing animation file.</span></span>

  <span data-ttu-id="9417c-150">Die Zeitsteuerungsschaltflächen von links nach rechts lauten:</span><span class="sxs-lookup"><span data-stu-id="9417c-150">The time control buttons from left to right are:</span></span>

  * <span data-ttu-id="9417c-151">Setzen Sie die Wiedergabezeit auf den Anfang der Animation _zurück._</span><span class="sxs-lookup"><span data-stu-id="9417c-151">_Reset_ the playback time to the start of the animation.</span></span>
  * <span data-ttu-id="9417c-152">_Fortlaufende_ Wiedergabe von Animationen im Zeitverlauf.</span><span class="sxs-lookup"><span data-stu-id="9417c-152">_Play_ animation continuously over time.</span></span>
  * <span data-ttu-id="9417c-153">_Einzelschritt_ vorwärts.</span><span class="sxs-lookup"><span data-stu-id="9417c-153">_Step_ forward one time step.</span></span>

  <span data-ttu-id="9417c-154">Der Schieberegler kann auch verwendet werden, um die Animationszeitachse zu bebereinigungen.</span><span class="sxs-lookup"><span data-stu-id="9417c-154">The slider can also be used to scrub through the animation timeline.</span></span>

> [!WARNING]
> <span data-ttu-id="9417c-155">Das Schleifen oder Zurücksetzen der Eingabeanimation oder das Bebereinigung der Zeitachse kann beim Bearbeiten der Szene zu unerwarteten Ergebnissen führen!</span><span class="sxs-lookup"><span data-stu-id="9417c-155">Looping or resetting input animation or scrubbing the timeline may yield unexpected results when manipulating the scene!</span></span> <span data-ttu-id="9417c-156">Nur die Eingabebewegungen werden aufgezeichnet. Alle zusätzlichen Änderungen, z. B. das Verschieben von Objekten oder das Umschalten von Schaltern, werden nicht zurückgesetzt.</span><span class="sxs-lookup"><span data-stu-id="9417c-156">Only the input movements are recorded, any additional changes such as moving objects or flipping switches will not be reset.</span></span> <span data-ttu-id="9417c-157">Stellen Sie sicher, dass Sie die Szene erneut laden, wenn nicht rückgängig gemachte Änderungen vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="9417c-157">Make sure to reload the scene if irreversible changes have been made.</span></span>
