---
title: Handmenü
description: Beispielszene im Handmenü in MRTK
author: cre8ivepark
ms.author: dongpark
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, Mixed Reality, Entwicklung, MRTK, HandMenu,
ms.openlocfilehash: 9bb0276c048912b4f463dd93d3303c9a3af8fe29
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/01/2021
ms.locfileid: "113177525"
---
# <a name="hand-menu"></a><span data-ttu-id="69a66-104">Handmenü</span><span class="sxs-lookup"><span data-stu-id="69a66-104">Hand menu</span></span>

![Beispiel für die Benutzererfahrung im Handmenü](../images/solver/MRTK_UX_HandMenu.png)

<span data-ttu-id="69a66-106">MitHilfe von Handmenüs können Benutzer schnell eine handverfügte Benutzeroberfläche für häufig verwendete Funktionen aufrufen.</span><span class="sxs-lookup"><span data-stu-id="69a66-106">Hand menus allow users to quickly bring up hand-attached UI for frequently used functions.</span></span> <span data-ttu-id="69a66-107">Um eine falsche Aktivierung während der Interaktion mit anderen Objekten zu verhindern, bietet das Handmenü Optionen wie "Flache Hand erforderlich" und "Anviertaktivierung verwenden".</span><span class="sxs-lookup"><span data-stu-id="69a66-107">To prevent false activation while interacting with other objects, hand menu provides options such as 'Require Flat Hand' and 'Use Gaze Activation'.</span></span> <span data-ttu-id="69a66-108">Es wird empfohlen, diese Optionen zu verwenden, um unerwünschte Aktivierung zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="69a66-108">It is recommended to use these options to prevent unwanted activation.</span></span>

## <a name="hand-menu-examples"></a><span data-ttu-id="69a66-109">Beispiele für Handmenüs</span><span class="sxs-lookup"><span data-stu-id="69a66-109">Hand menu examples</span></span>

<span data-ttu-id="69a66-110">**Die Szene "HandMenuExamples.unity"** befindet sich im ``MRTK/Examples/Demos/HandTracking/Scenes`` Ordner .</span><span class="sxs-lookup"><span data-stu-id="69a66-110">**HandMenuExamples.unity** scene is under ``MRTK/Examples/Demos/HandTracking/Scenes`` folder.</span></span> <span data-ttu-id="69a66-111">Wenn sie ausgeführt wird, wird die Szene nur den aktuell ausgewählten Menütyp aktivieren.</span><span class="sxs-lookup"><span data-stu-id="69a66-111">When it is running, the scene will only activate currently selected menu type.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_ExampleScene.png" width="600px" alt="HandMenu_ExampleScene">

<span data-ttu-id="69a66-112">Sie finden diese Prefabs im Handmenü im ``MRTK/Examples/Demos/HandTracking/Prefabs`` Ordner .</span><span class="sxs-lookup"><span data-stu-id="69a66-112">You can find these hand menu prefabs under ``MRTK/Examples/Demos/HandTracking/Prefabs`` folder.</span></span>

### <a name="handmenu_small_hideonhanddrop-and-handmenu_medium_hideonhanddrop"></a><span data-ttu-id="69a66-113">HandMenu_Small_HideOnHandDrop und HandMenu_Medium_HideOnHandDrop</span><span class="sxs-lookup"><span data-stu-id="69a66-113">HandMenu_Small_HideOnHandDrop and HandMenu_Medium_HideOnHandDrop</span></span>

<span data-ttu-id="69a66-114">In diesen beiden Beispielen wird das MenuContent-Objekt einfach aktiviert und deaktiviert, um das Menü im **OnFirstHandDetected()-** und **OnLastHandLost()-Ereignis** anzuzeigen und auszublenden.</span><span class="sxs-lookup"><span data-stu-id="69a66-114">These two examples simply activate and deactivate the MenuContent object to show and hide menu on **OnFirstHandDetected()** and **OnLastHandLost()** event.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example1.png" width="600" alt="HandMenu_ExampleScene 1">
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example2.png" width="600" alt="HandMenu_ExampleScene 2">

### <a name="handmenu_large_worldlock_on_grabandpull"></a><span data-ttu-id="69a66-115">HandMenu_Large_WorldLock_On_GrabAndPull</span><span class="sxs-lookup"><span data-stu-id="69a66-115">HandMenu_Large_WorldLock_On_GrabAndPull</span></span>

<span data-ttu-id="69a66-116">Für komplexere Menüs, die eine längere Interaktionszeit erfordern, wird empfohlen, das Menü weltweit zu sperren.</span><span class="sxs-lookup"><span data-stu-id="69a66-116">For more complex menus that require longer interaction time, it is recommended to world-lock the menu.</span></span> <span data-ttu-id="69a66-117">In diesem Beispiel kann der Benutzer das Menü abrufen und zur Weltsperre ziehen, zusätzlich zum Aktivieren und Deaktivieren der MenuContent-Ereignisse on **OnFirstHandDetected()** und **OnLastHandLost().**</span><span class="sxs-lookup"><span data-stu-id="69a66-117">In this example, the user can grab and pull to world-lock the menu, in addition to activating and deactivating the MenuContent on **OnFirstHandDetected()** and **OnLastHandLost()** events.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example3.png" width="600" alt="HandMenu_ExampleScene 3">

<span data-ttu-id="69a66-118">Backplate es `ManipulationHandler` macht es greifend und verschiebbar.</span><span class="sxs-lookup"><span data-stu-id="69a66-118">Backplate's `ManipulationHandler` makes it grabbable and movable.</span></span> <span data-ttu-id="69a66-119">**Beim Manipulation Started-Ereignis** wird **SolverHandler.UpdateSolvers** deaktiviert, um das Menü weltweit zu sperren.</span><span class="sxs-lookup"><span data-stu-id="69a66-119">**On Manipulation Started** event, **SolverHandler.UpdateSolvers** is deactivated to world-lock the menu.</span></span> <span data-ttu-id="69a66-120">Darüber hinaus wird die **Schaltfläche Schließen** angezeigt, damit der Benutzer das Menü schließen kann, wenn die Aufgabe abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="69a66-120">Additionally, it shows the **Close button** to allow the user to close the menu when the task is finished.</span></span> <span data-ttu-id="69a66-121">**Beim Manipulation Ended-Ereignis** wird **HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine** aufgerufen, damit der Benutzer das Menü wieder zur Hand nehmen kann, indem er die Handfläche anhebt und ansieht.</span><span class="sxs-lookup"><span data-stu-id="69a66-121">**On Manipulation Ended** event, it calls **HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine** to allow the user bring the menu back to hand by raising and looking at the palm.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example4.png" width="600" alt="HandMenu_ExampleScene 4">

<span data-ttu-id="69a66-122">Die Schaltfläche **"Schließen"** reaktiviert **SolverHandler.UpdateSolvers** und blendet **menuContent** aus.</span><span class="sxs-lookup"><span data-stu-id="69a66-122">**Close** button reactivates **SolverHandler.UpdateSolvers** and hide the **MenuContent**.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example5.png" alt="HandMenu_ExampleScene 5">

### <a name="handmenu_large_autoworldlock_on_handdrop"></a><span data-ttu-id="69a66-123">HandMenu_Large_AutoWorldLock_On_HandDrop</span><span class="sxs-lookup"><span data-stu-id="69a66-123">HandMenu_Large_AutoWorldLock_On_HandDrop</span></span>

<span data-ttu-id="69a66-124">Dieses Beispiel ähnelt HandMenu_Large_WorldLock_On_GrabAndPull.</span><span class="sxs-lookup"><span data-stu-id="69a66-124">This example is similar to HandMenu_Large_WorldLock_On_GrabAndPull.</span></span> <span data-ttu-id="69a66-125">Der einzige Unterschied besteht darin, dass das Menü beim Handablage automatisch weltversperrt wird.</span><span class="sxs-lookup"><span data-stu-id="69a66-125">The only difference is that the menu will be automatically world-locked on hand drop.</span></span> <span data-ttu-id="69a66-126">Dies erfolgt, indem das Ereignis MenuContent on **OnLastHandLost()** einfach nicht ausgeblendet wird.</span><span class="sxs-lookup"><span data-stu-id="69a66-126">This is done by simply not hiding the MenuContent on **OnLastHandLost()** event.</span></span> <span data-ttu-id="69a66-127">Das Pullverhalten von "Greifen &" entspricht HandMenu_Large_WorldLock_On_GrabAndPull Beispiel.</span><span class="sxs-lookup"><span data-stu-id="69a66-127">Grab & pull behavior is same as HandMenu_Large_WorldLock_On_GrabAndPull example.</span></span>

## <a name="scripts"></a><span data-ttu-id="69a66-128">Skripts</span><span class="sxs-lookup"><span data-stu-id="69a66-128">Scripts</span></span>

<span data-ttu-id="69a66-129">Das [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) Verhalten stellt einen Solver bereit, der das nachverfolgte Objekt auf einen Bereich beschränkt, der für eingeschränkten Handinhalt sicher ist (z. B. Die Benutzeroberfläche der Hand, Menüs usw.).</span><span class="sxs-lookup"><span data-stu-id="69a66-129">The [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) behavior provides a solver that constrains the tracked object to a region safe for hand constrained content (such as hand UI, menus, etc).</span></span> <span data-ttu-id="69a66-130">Tresor Regionen gelten als Bereiche, die sich nicht mit der Hand überschneiden.</span><span class="sxs-lookup"><span data-stu-id="69a66-130">Safe regions are considered areas that don't intersect with the hand.</span></span> <span data-ttu-id="69a66-131">Eine abgeleitete Klasse von [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) namens [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) ist ebenfalls enthalten, um ein allgemeines Verhalten der Aktivierung des nachverfolgten Solverobjekts zu veranschaulichen, wenn die Handfläche dem Benutzer gegenübersteht.</span><span class="sxs-lookup"><span data-stu-id="69a66-131">A derived class of [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) called [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) is also included to demonstrate a common behavior of activating the solver tracked object when the palm is facing the user.</span></span>

<span data-ttu-id="69a66-132">Weitere Dokumentation finden Sie in den QuickInfos, die für jede Eigenschaft verfügbar [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) sind.</span><span class="sxs-lookup"><span data-stu-id="69a66-132">Please see the tool tips available for each [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) property for additional documentation.</span></span> <span data-ttu-id="69a66-133">Einige Eigenschaften werden unten ausführlicher definiert.</span><span class="sxs-lookup"><span data-stu-id="69a66-133">A few properties are defined in more detail below.</span></span>

<img src="../images/solver/MRTK_Solver_HandConstraintPalmUp.png" width="450" alt="HandMenu_ExampleScene Palm up">

* <span data-ttu-id="69a66-134">**Tresor Zone:** Die sichere Zone gibt an, wo Inhalte eingeschränkt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="69a66-134">**Safe Zone**: The safe zone specifies where on the hand to constrain content.</span></span> <span data-ttu-id="69a66-135">Es wird empfohlen, Inhalte auf der Ulnar-Seite zu platzieren, um Überschneidungen mit der Hand und eine verbesserte Interaktionsqualität zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="69a66-135">It is recommended that content be placed on the Ulnar Side to avoid overlap with the hand and improved interaction quality.</span></span> <span data-ttu-id="69a66-136">Tresor Zonen werden berechnet, indem die Ausrichtung der Hände, die in ein Ebenenorthogonal projiziert werden, zur Ansicht der Kamera und zum Raycasting an einem umgebenden Feld um die Hände geleitet wird.</span><span class="sxs-lookup"><span data-stu-id="69a66-136">Safe zones are calculated by taking the hands orientation projected into a plane orthogonal to the camera's view and raycasting against a bounding box around the hands.</span></span> <span data-ttu-id="69a66-137">Tresor Zonen sind für die Arbeit mit [`IMixedRealityHand`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) definiert, funktionieren aber auch mit anderen Controllertypen.</span><span class="sxs-lookup"><span data-stu-id="69a66-137">Safe zones are defined to work with [`IMixedRealityHand`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) but also works with other controller types.</span></span> <span data-ttu-id="69a66-138">Es wird empfohlen, zu untersuchen, was jede sichere Zone auf verschiedenen Controllertypen darstellt.</span><span class="sxs-lookup"><span data-stu-id="69a66-138">It is recommended to explore what each safe zone represents on different controller types.</span></span>

* <span data-ttu-id="69a66-139">**Hand folgen bis zur kameraseitigen Kamera** Wenn dieser aktiv ist, folgt der Solver der Handdrehung, bis das Menü ausreichend auf den Anviert ausgerichtet ist, an dem er sich der Kamera gegenübersieht.</span><span class="sxs-lookup"><span data-stu-id="69a66-139">**Follow Hand Until Facing Camera** With this active, solver will follow hand rotation until the menu is sufficiently aligned with the gaze, at which point it faces the camera.</span></span> <span data-ttu-id="69a66-140">Dies funktioniert, indem SolverRotationBehavior im HandConstraintSolver von LookAtTrackedObject in LookAtMainCamera geändert wird, da der GazeAlignment-Winkel mit dem Solver variiert.</span><span class="sxs-lookup"><span data-stu-id="69a66-140">This works by changing the SolverRotationBehavior in the HandConstraintSolver, from LookAtTrackedObject to LookAtMainCamera as the GazeAlignment angle with the solver varies.</span></span>

<img src="../images/solver/MRTK_Solver_HandConstraintSafeZones.png" width="450" alt="HandMenu Safe Zones">

* <span data-ttu-id="69a66-141">**Aktivierungsereignisse:** Derzeit [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) löst vier Aktivierungsereignisse aus.</span><span class="sxs-lookup"><span data-stu-id="69a66-141">**Activation Events**: Currently the [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) triggers four activation events.</span></span> <span data-ttu-id="69a66-142">Diese Ereignisse können in vielen verschiedenen Kombinationen verwendet werden, um eindeutige Verhaltensweisen zu erstellen. Beispiele für [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) dieses Verhalten finden Sie in der HandBasedMenuExample-Szene unter `MRTK/Examples/Demos/HandTracking/Scenes/` .</span><span class="sxs-lookup"><span data-stu-id="69a66-142">These events can be used in many different combinations to create unique [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) behaviors, please see the HandBasedMenuExample scene under `MRTK/Examples/Demos/HandTracking/Scenes/` for examples of these behaviors.</span></span>

  * <span data-ttu-id="69a66-143">*OnHandActivate:* wird ausgelöst, wenn eine Hand die IsHandActive-Methode erfüllt.</span><span class="sxs-lookup"><span data-stu-id="69a66-143">*OnHandActivate*: triggers when a hand satisfies the IsHandActive method.</span></span>
  * <span data-ttu-id="69a66-144">*OnHandDeactivate:* wird ausgelöst, wenn die IsHandActive-Methode nicht mehr erfüllt wird.</span><span class="sxs-lookup"><span data-stu-id="69a66-144">*OnHandDeactivate*: triggers when the IsHandActive method is no longer satisfied.</span></span>
  * <span data-ttu-id="69a66-145">*OnFirstHandDetected:* tritt auf, wenn sich der Zustand der Handnachverfolgung von keiner Hand in der Ansicht in die erste Hand ändert.</span><span class="sxs-lookup"><span data-stu-id="69a66-145">*OnFirstHandDetected*: occurs when the hand tracking state changes from no hands in view, to the first hand in view.</span></span>
  * <span data-ttu-id="69a66-146">*OnLastHandLost:* Tritt auf, wenn sich der Zustand der Handnachverfolgung von mindestens einer Hand in der Ansicht in keine Hände ändert.</span><span class="sxs-lookup"><span data-stu-id="69a66-146">*OnLastHandLost*: occurs when the hand tracking state changes from at least one hand in view, to no hands in view.</span></span>

* <span data-ttu-id="69a66-147">**Aktivierungs-/Deaktivierungslogik des Solvers:** Derzeit wird empfohlen, die Logik zu aktivieren und zu deaktivieren, [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) indem Sie den UpdateSolver-Wert von SolverHandler verwenden, anstatt das Objekt zu deaktivieren/zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="69a66-147">**Solver Activation/Deactivation Logic**: Currently the recommendation for activating and deactivating [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) logic is to do so through the use of the SolverHandler's UpdateSolver value, rather than by disabling/enabling the object.</span></span> <span data-ttu-id="69a66-148">Dies ist in der Beispielszene über die editorbasierten Hooks zu sehen, die nach den ManipulationHandler-Ereignissen "OnManipulationStarted/Ended" des angefügten Menüs ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="69a66-148">This can be seen in the example scene through the editor-based hooks triggered after the attached menu's ManipulationHandler "OnManipulationStarted/Ended" events.</span></span>

  * <span data-ttu-id="69a66-149">*Beenden der Handeinschränkungslogik:* Legen Sie UpdateSolver auf False fest, anstatt HandConstraintPalmUp zu deaktivieren, wenn Sie versuchen, das objekt mit Handeinschränkung zu beenden (und die Aktivierungs-/Deaktivierungslogik nicht auszuführen).</span><span class="sxs-lookup"><span data-stu-id="69a66-149">*Stopping the hand-constraint logic*: When trying to set the hand constrained object to stop (as well as not run the activation/deactivation logic), set UpdateSolver to False rather than disabling HandConstraintPalmUp.</span></span>
    * <span data-ttu-id="69a66-150">Wenn Sie die logikbasierte (oder sogar nicht anverfolgte) Neuanvieren-Logik aktivieren möchten, wird anschließend die Funktion HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine() aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="69a66-150">If you want to enable the gaze-based (or even non-gaze-based) Reattach logic, this is then followed by calling the HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine() function.</span></span> <span data-ttu-id="69a66-151">Dadurch wird eine Coroutine ausgelöst, die dann weiterhin überprüft, ob die IsValidController-Kriterien erfüllt sind, und UpdateSolver auf True festgelegt wird, sobald sie ist (oder das Objekt deaktiviert ist).</span><span class="sxs-lookup"><span data-stu-id="69a66-151">This will trigger a coroutine that then continues to check if the "IsValidController" criteria is met and will set UpdateSolver to True once it is (or the object is disabled)</span></span>
  * <span data-ttu-id="69a66-152">*Starten der Handeinschränkungslogik:* Legen Sie den UpdateSolver des SolverHandlers auf TRUE fest, wenn Sie versuchen, das handgebundene Objekt so festzulegen, dass es wieder ihrer Hand folgt (je nachdem, ob es die Aktivierungskriterien erfüllt).</span><span class="sxs-lookup"><span data-stu-id="69a66-152">*Starting the hand-constraint logic*: When trying to set the hand constrained object to start following your hand again (based on whether it meets the activation criteria), set the SolverHandler's UpdateSolver to true.</span></span>

* <span data-ttu-id="69a66-153">Logik erneut **anfügen:** Derzeit [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) kann das Zielobjekt automatisch erneut an den nachverfolgten Punkt angefügt werden, unabhängig davon, ob der UpdateSolver des SolverHandler true ist oder nicht.</span><span class="sxs-lookup"><span data-stu-id="69a66-153">**Reattach Logic**: Currently the [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) is able to automatically reattach the target object to the tracked point, regardless of whether the SolverHandler's UpdateSolver is True or not.</span></span> <span data-ttu-id="69a66-154">Dies erfolgt durch Aufrufen der StartWorldLockReattachCheckCoroutine()-Funktion von HandConstraintPalmUp, nachdem sie weltweit gesperrt wurde (was in diesem Fall den UpdateSolver des SolverHandlers auf False festlegt).</span><span class="sxs-lookup"><span data-stu-id="69a66-154">This is done through calling the HandConstraintPalmUp's StartWorldLockReattachCheckCoroutine() function, after it's been world-locked (which in this case, is effectively setting the SolverHandler's UpdateSolver to False).</span></span>

## <a name="see-also"></a><span data-ttu-id="69a66-155">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="69a66-155">See also</span></span>

* <span data-ttu-id="69a66-156">[Button](button.md) (Schaltfläche)</span><span class="sxs-lookup"><span data-stu-id="69a66-156">[Button](button.md)</span></span>
* [<span data-ttu-id="69a66-157">Menü "In der Nähe"</span><span class="sxs-lookup"><span data-stu-id="69a66-157">Near Menu</span></span>](near-menu.md)
